(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Km={exports:{}},iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function yI(){if(f0)return iu;f0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:e,type:r,key:c,ref:o!==void 0?o:null,props:u}}return iu.Fragment=t,iu.jsx=n,iu.jsxs=n,iu}var d0;function vI(){return d0||(d0=1,Km.exports=yI()),Km.exports}var et=vI(),Ym={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function _I(){if(m0)return bt;m0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function x(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,H={};function $(N,Z,rt){this.props=N,this.context=Z,this.refs=H,this.updater=rt||j}$.prototype.isReactComponent={},$.prototype.setState=function(N,Z){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Z,"setState")},$.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function it(){}it.prototype=$.prototype;function J(N,Z,rt){this.props=N,this.context=Z,this.refs=H,this.updater=rt||j}var ht=J.prototype=new it;ht.constructor=J,Y(ht,$.prototype),ht.isPureReactComponent=!0;var at=Array.isArray;function dt(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(N,Z,rt){var lt=rt.ref;return{$$typeof:e,type:N,key:Z,ref:lt!==void 0?lt:null,props:rt}}function O(N,Z){return R(N.type,Z,N.props)}function V(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function L(N){var Z={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(rt){return Z[rt]})}var I=/\/+/g;function te(N,Z){return typeof N=="object"&&N!==null&&N.key!=null?L(""+N.key):Z.toString(36)}function fe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(dt,dt):(N.status="pending",N.then(function(Z){N.status==="pending"&&(N.status="fulfilled",N.value=Z)},function(Z){N.status==="pending"&&(N.status="rejected",N.reason=Z)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function K(N,Z,rt,lt,At){var Dt=typeof N;(Dt==="undefined"||Dt==="boolean")&&(N=null);var Bt=!1;if(N===null)Bt=!0;else switch(Dt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(N.$$typeof){case e:case t:Bt=!0;break;case v:return Bt=N._init,K(Bt(N._payload),Z,rt,lt,At)}}if(Bt)return At=At(N),Bt=lt===""?"."+te(N,0):lt,at(At)?(rt="",Bt!=null&&(rt=Bt.replace(I,"$&/")+"/"),K(At,Z,rt,"",function(Ir){return Ir})):At!=null&&(V(At)&&(At=O(At,rt+(At.key==null||N&&N.key===At.key?"":(""+At.key).replace(I,"$&/")+"/")+Bt)),Z.push(At)),1;Bt=0;var Oe=lt===""?".":lt+":";if(at(N))for(var ae=0;ae<N.length;ae++)lt=N[ae],Dt=Oe+te(lt,ae),Bt+=K(lt,Z,rt,Dt,At);else if(ae=x(N),typeof ae=="function")for(N=ae.call(N),ae=0;!(lt=N.next()).done;)lt=lt.value,Dt=Oe+te(lt,ae++),Bt+=K(lt,Z,rt,Dt,At);else if(Dt==="object"){if(typeof N.then=="function")return K(fe(N),Z,rt,lt,At);throw Z=String(N),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function nt(N,Z,rt){if(N==null)return N;var lt=[],At=0;return K(N,lt,"","",function(Dt){return Z.call(rt,Dt,At++)}),lt}function ut(N){if(N._status===-1){var Z=N._result;Z=Z(),Z.then(function(rt){(N._status===0||N._status===-1)&&(N._status=1,N._result=rt)},function(rt){(N._status===0||N._status===-1)&&(N._status=2,N._result=rt)}),N._status===-1&&(N._status=0,N._result=Z)}if(N._status===1)return N._result.default;throw N._result}var It=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Nt={map:nt,forEach:function(N,Z,rt){nt(N,function(){Z.apply(this,arguments)},rt)},count:function(N){var Z=0;return nt(N,function(){Z++}),Z},toArray:function(N){return nt(N,function(Z){return Z})||[]},only:function(N){if(!V(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return bt.Activity=E,bt.Children=Nt,bt.Component=$,bt.Fragment=n,bt.Profiler=o,bt.PureComponent=J,bt.StrictMode=r,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,bt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return C.H.useMemoCache(N)}},bt.cache=function(N){return function(){return N.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(N,Z,rt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var lt=Y({},N.props),At=N.key;if(Z!=null)for(Dt in Z.key!==void 0&&(At=""+Z.key),Z)!w.call(Z,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&Z.ref===void 0||(lt[Dt]=Z[Dt]);var Dt=arguments.length-2;if(Dt===1)lt.children=rt;else if(1<Dt){for(var Bt=Array(Dt),Oe=0;Oe<Dt;Oe++)Bt[Oe]=arguments[Oe+2];lt.children=Bt}return R(N.type,At,lt)},bt.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},bt.createElement=function(N,Z,rt){var lt,At={},Dt=null;if(Z!=null)for(lt in Z.key!==void 0&&(Dt=""+Z.key),Z)w.call(Z,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(At[lt]=Z[lt]);var Bt=arguments.length-2;if(Bt===1)At.children=rt;else if(1<Bt){for(var Oe=Array(Bt),ae=0;ae<Bt;ae++)Oe[ae]=arguments[ae+2];At.children=Oe}if(N&&N.defaultProps)for(lt in Bt=N.defaultProps,Bt)At[lt]===void 0&&(At[lt]=Bt[lt]);return R(N,Dt,At)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(N){return{$$typeof:m,render:N}},bt.isValidElement=V,bt.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:ut}},bt.memo=function(N,Z){return{$$typeof:g,type:N,compare:Z===void 0?null:Z}},bt.startTransition=function(N){var Z=C.T,rt={};C.T=rt;try{var lt=N(),At=C.S;At!==null&&At(rt,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(dt,It)}catch(Dt){It(Dt)}finally{Z!==null&&rt.types!==null&&(Z.types=rt.types),C.T=Z}},bt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},bt.use=function(N){return C.H.use(N)},bt.useActionState=function(N,Z,rt){return C.H.useActionState(N,Z,rt)},bt.useCallback=function(N,Z){return C.H.useCallback(N,Z)},bt.useContext=function(N){return C.H.useContext(N)},bt.useDebugValue=function(){},bt.useDeferredValue=function(N,Z){return C.H.useDeferredValue(N,Z)},bt.useEffect=function(N,Z){return C.H.useEffect(N,Z)},bt.useEffectEvent=function(N){return C.H.useEffectEvent(N)},bt.useId=function(){return C.H.useId()},bt.useImperativeHandle=function(N,Z,rt){return C.H.useImperativeHandle(N,Z,rt)},bt.useInsertionEffect=function(N,Z){return C.H.useInsertionEffect(N,Z)},bt.useLayoutEffect=function(N,Z){return C.H.useLayoutEffect(N,Z)},bt.useMemo=function(N,Z){return C.H.useMemo(N,Z)},bt.useOptimistic=function(N,Z){return C.H.useOptimistic(N,Z)},bt.useReducer=function(N,Z,rt){return C.H.useReducer(N,Z,rt)},bt.useRef=function(N){return C.H.useRef(N)},bt.useState=function(N){return C.H.useState(N)},bt.useSyncExternalStore=function(N,Z,rt){return C.H.useSyncExternalStore(N,Z,rt)},bt.useTransition=function(){return C.H.useTransition()},bt.version="19.2.0",bt}var p0;function Ag(){return p0||(p0=1,Ym.exports=_I()),Ym.exports}var yt=Ag(),Qm={exports:{}},su={},Xm={exports:{}},$m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function TI(){return g0||(g0=1,(function(e){function t(K,nt){var ut=K.length;K.push(nt);t:for(;0<ut;){var It=ut-1>>>1,Nt=K[It];if(0<o(Nt,nt))K[It]=nt,K[ut]=Nt,ut=It;else break t}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var nt=K[0],ut=K.pop();if(ut!==nt){K[0]=ut;t:for(var It=0,Nt=K.length,N=Nt>>>1;It<N;){var Z=2*(It+1)-1,rt=K[Z],lt=Z+1,At=K[lt];if(0>o(rt,ut))lt<Nt&&0>o(At,rt)?(K[It]=At,K[lt]=ut,It=lt):(K[It]=rt,K[Z]=ut,It=Z);else if(lt<Nt&&0>o(At,ut))K[It]=At,K[lt]=ut,It=lt;else break t}}return nt}function o(K,nt){var ut=K.sortIndex-nt.sortIndex;return ut!==0?ut:K.id-nt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();e.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,E=null,S=3,x=!1,j=!1,Y=!1,H=!1,$=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ht(K){for(var nt=n(g);nt!==null;){if(nt.callback===null)r(g);else if(nt.startTime<=K)r(g),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=n(g)}}function at(K){if(Y=!1,ht(K),!j)if(n(p)!==null)j=!0,dt||(dt=!0,L());else{var nt=n(g);nt!==null&&fe(at,nt.startTime-K)}}var dt=!1,C=-1,w=5,R=-1;function O(){return H?!0:!(e.unstable_now()-R<w)}function V(){if(H=!1,dt){var K=e.unstable_now();R=K;var nt=!0;try{t:{j=!1,Y&&(Y=!1,it(C),C=-1),x=!0;var ut=S;try{e:{for(ht(K),E=n(p);E!==null&&!(E.expirationTime>K&&O());){var It=E.callback;if(typeof It=="function"){E.callback=null,S=E.priorityLevel;var Nt=It(E.expirationTime<=K);if(K=e.unstable_now(),typeof Nt=="function"){E.callback=Nt,ht(K),nt=!0;break e}E===n(p)&&r(p),ht(K)}else r(p);E=n(p)}if(E!==null)nt=!0;else{var N=n(g);N!==null&&fe(at,N.startTime-K),nt=!1}}break t}finally{E=null,S=ut,x=!1}nt=void 0}}finally{nt?L():dt=!1}}}var L;if(typeof J=="function")L=function(){J(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,te=I.port2;I.port1.onmessage=V,L=function(){te.postMessage(null)}}else L=function(){$(V,0)};function fe(K,nt){C=$(function(){K(e.unstable_now())},nt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(K){switch(S){case 1:case 2:case 3:var nt=3;break;default:nt=S}var ut=S;S=nt;try{return K()}finally{S=ut}},e.unstable_requestPaint=function(){H=!0},e.unstable_runWithPriority=function(K,nt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ut=S;S=K;try{return nt()}finally{S=ut}},e.unstable_scheduleCallback=function(K,nt,ut){var It=e.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?It+ut:It):ut=It,K){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=ut+Nt,K={id:v++,callback:nt,priorityLevel:K,startTime:ut,expirationTime:Nt,sortIndex:-1},ut>It?(K.sortIndex=ut,t(g,K),n(p)===null&&K===n(g)&&(Y?(it(C),C=-1):Y=!0,fe(at,ut-It))):(K.sortIndex=Nt,t(p,K),j||x||(j=!0,dt||(dt=!0,L()))),K},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(K){var nt=S;return function(){var ut=S;S=nt;try{return K.apply(this,arguments)}finally{S=ut}}}})($m)),$m}var y0;function EI(){return y0||(y0=1,Xm.exports=TI()),Xm.exports}var Zm={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function AI(){if(v0)return tn;v0=1;var e=Ag();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},tn.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:x}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:S,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},tn.requestFormReset=function(p){r.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.2.0",tn}var _0;function SI(){if(_0)return Zm.exports;_0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zm.exports=AI(),Zm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function bI(){if(T0)return su;T0=1;var e=EI(),t=Ag(),n=SI();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function p(i){if(u(i)!==i)throw Error(r(188))}function g(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),i;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,l=d;break}if(A===l){_=!0,l=f,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=f;break}if(A===l){_=!0,l=d,a=f;break}A=A.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),it=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function te(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Y:return"Fragment";case $:return"Profiler";case H:return"StrictMode";case at:return"Suspense";case dt:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case J:return i.displayName||"Context";case it:return(i._context.displayName||"Context")+".Consumer";case ht:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return s=i.displayName||null,s!==null?s:te(i.type)||"Memo";case w:s=i._payload,i=i._init;try{return te(i(s))}catch{}}return null}var fe=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},It=[],Nt=-1;function N(i){return{current:i}}function Z(i){0>Nt||(i.current=It[Nt],It[Nt]=null,Nt--)}function rt(i,s){Nt++,It[Nt]=i.current,i.current=s}var lt=N(null),At=N(null),Dt=N(null),Bt=N(null);function Oe(i,s){switch(rt(Dt,s),rt(At,i),rt(lt,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?PT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=PT(s),i=LT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(lt),rt(lt,i)}function ae(){Z(lt),Z(At),Z(Dt)}function Ir(i){i.memoizedState!==null&&rt(Bt,i);var s=lt.current,a=LT(s,i.type);s!==a&&(rt(At,i),rt(lt,a))}function Ra(i){At.current===i&&(Z(lt),Z(At)),Bt.current===i&&(Z(Bt),Jl._currentValue=ut)}var Ca,Ia;function gi(i){if(Ca===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ca=s&&s[1]||"",Ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ca+i+Ia}var Jo=!1;function Dr(i,s){if(!i||Jo)return"";Jo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var B=q}Reflect.construct(i,[],X)}else{try{X.call()}catch(q){B=q}i.call(X.prototype)}}else{try{throw Error()}catch(q){B=q}(X=i())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var D=_.split(`
`),z=A.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===z.length)for(l=D.length-1,f=z.length-1;1<=l&&0<=f&&D[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==z[f]){var G=`
`+D[l].replace(" at new "," at ");return i.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",i.displayName)),G}while(1<=l&&0<=f);break}}}finally{Jo=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?gi(a):""}function tl(i,s){switch(i.tag){case 26:case 27:case 5:return gi(i.type);case 16:return gi("Lazy");case 13:return i.child!==s&&s!==null?gi("Suspense Fallback"):gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return Dr(i.type,!1);case 11:return Dr(i.type.render,!1);case 1:return Dr(i.type,!0);case 31:return gi("Activity");default:return""}}function el(i){try{var s="",a=null;do s+=tl(i,a),a=i,i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ae=Object.prototype.hasOwnProperty,Pe=e.unstable_scheduleCallback,ws=e.unstable_cancelCallback,Qf=e.unstable_shouldYield,Xu=e.unstable_requestPaint,on=e.unstable_now,Vr=e.unstable_getCurrentPriorityLevel,nl=e.unstable_ImmediatePriority,il=e.unstable_UserBlockingPriority,Rs=e.unstable_NormalPriority,Xf=e.unstable_LowPriority,$u=e.unstable_IdlePriority,Zu=e.log,Wu=e.unstable_setDisableYieldValue,Wn=null,qe=null;function xn(i){if(typeof Zu=="function"&&Wu(i),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Wn,i)}catch{}}var ge=Math.clz32?Math.clz32:tc,Ju=Math.log,Da=Math.LN2;function tc(i){return i>>>=0,i===0?32:31-(Ju(i)/Da|0)|0}var yi=256,Mr=262144,Se=4194304;function vi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function _i(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,d=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=vi(l):(_&=A,_!==0?f=vi(_):a||(a=A&~i,a!==0&&(f=vi(a))))):(A=l&~d,A!==0?f=vi(A):_!==0?f=vi(_):a||(a=l&~i,a!==0&&(f=vi(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Jn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function $f(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(){var i=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),i}function Ti(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function xr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Zf(i,s,a,l,f,d){var _=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var A=i.entanglements,D=i.expirationTimes,z=i.hiddenUpdates;for(a=_&~a;0<a;){var G=31-ge(a),X=1<<G;A[G]=0,D[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var q=B[G];q!==null&&(q.lane&=-536870913)}a&=~X}l!==0&&Nr(i,l,0),d!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=d&~(_&~s))}function Nr(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-ge(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function sl(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-ge(a),f=1<<l;f&s|i[l]&s&&(i[l]|=s),a&=~f}}function rl(i,s){var a=s&-s;return a=(a&42)!==0?1:Or(a),(a&(i.suspendedLanes|s))!==0?0:a}function Or(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function $i(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function nc(){var i=nt.p;return i!==0?i:(i=window.event,i===void 0?32:r0(i.type))}function ti(i,s){var a=nt.p;try{return nt.p=i,s()}finally{nt.p=a}}var ei=Math.random().toString(36).slice(2),be="__reactFiber$"+ei,ze="__reactProps$"+ei,Ei="__reactContainer$"+ei,Va="__reactEvents$"+ei,Wf="__reactListeners$"+ei,ic="__reactHandles$"+ei,sc="__reactResources$"+ei,Ai="__reactMarker$"+ei;function Ma(i){delete i[be],delete i[ze],delete i[Va],delete i[Wf],delete i[ic]}function Si(i){var s=i[be];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Ei]||a[be]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=qT(i);i!==null;){if(a=i[be])return a;i=qT(i)}return s}i=a,a=i.parentNode}return null}function Nn(i){if(i=i[be]||i[Ei]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function An(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function bi(i){var s=i[sc];return s||(s=i[sc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function we(i){i[Ai]=!0}var al=new Set,ol={};function wi(i,s){Ri(i,s),Ri(i+"Capture",s)}function Ri(i,s){for(ol[i]=s,i=0;i<s.length;i++)al.add(s[i])}var ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ul={},cl={};function rc(i){return Ae.call(cl,i)?!0:Ae.call(ul,i)?!1:ll.test(i)?cl[i]=!0:(ul[i]=!0,!1)}function xa(i,s,a){if(rc(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function Sn(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function Re(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}function Be(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Cs(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function hl(i,s,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Yt(i){if(!i._valueTracker){var s=Cs(i)?"checked":"value";i._valueTracker=hl(i,s,""+i[s])}}function Pr(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=Cs(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function Ci(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Lr=/[\n"\\]/g;function fn(i){return i.replace(Lr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Na(i,s,a,l,f,d,_,A){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),s!=null?_==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Be(s)):i.value!==""+Be(s)&&(i.value=""+Be(s)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),s!=null?fl(i,_,Be(s)):a!=null?fl(i,_,Be(a)):l!=null&&i.removeAttribute("value"),f==null&&d!=null&&(i.defaultChecked=!!d),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Be(A):i.removeAttribute("name")}function ac(i,s,a,l,f,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(i.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Yt(i);return}a=a!=null?""+Be(a):"",s=s!=null?""+Be(s):a,A||s===i.value||(i.value=s),i.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=A?i.checked:!!l,i.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Yt(i)}function fl(i,s,a){s==="number"&&Ci(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Is(i,s,a,l){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+Be(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function oc(i,s,a){if(s!=null&&(s=""+Be(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+Be(a):""}function Ds(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(fe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Be(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),Yt(i)}function dn(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dl(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||lc.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function ml(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&dl(i,f,l)}else for(var d in s)s.hasOwnProperty(d)&&dl(i,d,s[d])}function Oa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(i){return Vs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ni(){}var pl=null;function On(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ms=null,Ii=null;function kr(i){var s=Nn(i);if(s&&(i=s.stateNode)){var a=i[ze]||null;t:switch(i=s.stateNode,s.type){case"input":if(Na(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var f=l[ze]||null;if(!f)throw Error(r(90));Na(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&Pr(l)}break t;case"textarea":oc(i,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Is(i,!!a.multiple,s,!1)}}}var La=!1;function xs(i,s,a){if(La)return i(s,a);La=!0;try{var l=i(s);return l}finally{if(La=!1,(Ms!==null||Ii!==null)&&(nh(),Ms&&(s=Ms,i=Ii,Ii=Ms=null,kr(s),i)))for(s=0;s<i.length;s++)kr(i[s])}}function ii(i,s){var a=i.stateNode;if(a===null)return null;var l=a[ze]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(Pn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Ur=!1}var Di=null,gl=null,zr=null;function yl(){if(zr)return zr;var i,s=gl,a=s.length,l,f="value"in Di?Di.value:Di.textContent,d=f.length;for(i=0;i<a&&s[i]===f[i];i++);var _=a-i;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return zr=f.slice(i,1<l?1-l:void 0)}function Br(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Zi(){return!0}function si(){return!1}function He(i){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(a=i[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zi:si,this.isPropagationStopped=si,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),s}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=He(Wi),Ns=E({},Wi,{view:0,detail:0}),vl=He(Ns),Os,ka,Mi,Ua=E({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Mi&&(Mi&&i.type==="mousemove"?(Os=i.screenX-Mi.screenX,ka=i.screenY-Mi.screenY):ka=Os=0,Mi=i),Os)},movementY:function(i){return"movementY"in i?i.movementY:ka}}),_l=He(Ua),jr=E({},Ua,{dataTransfer:0}),cc=He(jr),hc=E({},Ns,{relatedTarget:0}),Fr=He(hc),Tl=E({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=He(Tl),za=E({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),dc=He(za),mc=E({},Wi,{data:0}),xi=He(mc),pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=yc[i])?!!s[i]:!1}function Ps(){return vc}var ln=E({},Ns,{key:function(i){if(i.key){var s=pc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Br(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?gc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(i){return i.type==="keypress"?Br(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Br(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_c=He(ln),Tc=E({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=He(Tc),h=E({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),y=He(h),T=E({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=He(T),k=E({},Ua,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),F=He(k),st=E({},Wi,{newState:0,oldState:0}),Rt=He(st),ye=[9,13,27,32],Ht=Pn&&"CompositionEvent"in window,oe=null;Pn&&"documentMode"in document&&(oe=document.documentMode);var Ln=Pn&&"TextEvent"in window&&!oe,Ni=Pn&&(!Ht||oe&&8<oe&&11>=oe),ri=" ",ai=!1;function qr(i,s){switch(i){case"keyup":return ye.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ba(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ja=!1;function jR(i,s){switch(i){case"compositionend":return Ba(s);case"keypress":return s.which!==32?null:(ai=!0,ri);case"textInput":return i=s.data,i===ri&&ai?null:i;default:return null}}function FR(i,s){if(ja)return i==="compositionend"||!Ht&&qr(i,s)?(i=yl(),zr=gl=Di=null,ja=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ni&&s.locale!=="ko"?null:s.data;default:return null}}var qR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ky(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!qR[i.type]:s==="textarea"}function Yy(i,s,a,l){Ms?Ii?Ii.push(l):Ii=[l]:Ms=l,s=uh(s,"onChange"),0<s.length&&(a=new Vi("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var El=null,Al=null;function HR(i){DT(i,0)}function Ec(i){var s=An(i);if(Pr(s))return i}function Qy(i,s){if(i==="change")return s}var Xy=!1;if(Pn){var Jf;if(Pn){var td="oninput"in document;if(!td){var $y=document.createElement("div");$y.setAttribute("oninput","return;"),td=typeof $y.oninput=="function"}Jf=td}else Jf=!1;Xy=Jf&&(!document.documentMode||9<document.documentMode)}function Zy(){El&&(El.detachEvent("onpropertychange",Wy),Al=El=null)}function Wy(i){if(i.propertyName==="value"&&Ec(Al)){var s=[];Yy(s,Al,i,On(i)),xs(HR,s)}}function GR(i,s,a){i==="focusin"?(Zy(),El=s,Al=a,El.attachEvent("onpropertychange",Wy)):i==="focusout"&&Zy()}function KR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ec(Al)}function YR(i,s){if(i==="click")return Ec(s)}function QR(i,s){if(i==="input"||i==="change")return Ec(s)}function XR(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var bn=typeof Object.is=="function"?Object.is:XR;function Sl(i,s){if(bn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ae.call(s,f)||!bn(i[f],s[f]))return!1}return!0}function Jy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function tv(i,s){var a=Jy(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Jy(a)}}function ev(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?ev(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function nv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ci(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=Ci(i.document)}return s}function ed(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var $R=Pn&&"documentMode"in document&&11>=document.documentMode,Fa=null,nd=null,bl=null,id=!1;function iv(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;id||Fa==null||Fa!==Ci(l)||(l=Fa,"selectionStart"in l&&ed(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bl&&Sl(bl,l)||(bl=l,l=uh(nd,"onSelect"),0<l.length&&(s=new Vi("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=Fa)))}function Hr(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var qa={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},sd={},sv={};Pn&&(sv=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Gr(i){if(sd[i])return sd[i];if(!qa[i])return i;var s=qa[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in sv)return sd[i]=s[a];return i}var rv=Gr("animationend"),av=Gr("animationiteration"),ov=Gr("animationstart"),ZR=Gr("transitionrun"),WR=Gr("transitionstart"),JR=Gr("transitioncancel"),lv=Gr("transitionend"),uv=new Map,rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rd.push("scrollEnd");function oi(i,s){uv.set(i,s),wi(s,[i])}var Ac=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},kn=[],Ha=0,ad=0;function Sc(){for(var i=Ha,s=ad=Ha=0;s<i;){var a=kn[s];kn[s++]=null;var l=kn[s];kn[s++]=null;var f=kn[s];kn[s++]=null;var d=kn[s];if(kn[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&cv(a,f,d)}}function bc(i,s,a,l){kn[Ha++]=i,kn[Ha++]=s,kn[Ha++]=a,kn[Ha++]=l,ad|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function od(i,s,a,l){return bc(i,s,a,l),wc(i)}function Kr(i,s){return bc(i,null,null,s),wc(i)}function cv(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=i.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(i=d.stateNode,i===null||i._visibility&1||(f=!0)),i=d,d=d.return;return i.tag===3?(d=i.stateNode,f&&s!==null&&(f=31-ge(a),i=d.hiddenUpdates,l=i[f],l===null?i[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function wc(i){if(50<Kl)throw Kl=0,gm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ga={};function tC(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(i,s,a,l){return new tC(i,s,a,l)}function ld(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ts(i,s){var a=i.alternate;return a===null?(a=wn(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function hv(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Rc(i,s,a,l,f,d){var _=0;if(l=i,typeof i=="function")ld(i)&&(_=1);else if(typeof i=="string")_=rI(i,a,lt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=wn(31,a,s,f),i.elementType=R,i.lanes=d,i;case Y:return Yr(a.children,f,d,s);case H:_=8,f|=24;break;case $:return i=wn(12,a,s,f|2),i.elementType=$,i.lanes=d,i;case at:return i=wn(13,a,s,f),i.elementType=at,i.lanes=d,i;case dt:return i=wn(19,a,s,f),i.elementType=dt,i.lanes=d,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case J:_=10;break t;case it:_=9;break t;case ht:_=11;break t;case C:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=wn(_,a,s,f),s.elementType=i,s.type=l,s.lanes=d,s}function Yr(i,s,a,l){return i=wn(7,i,l,s),i.lanes=a,i}function ud(i,s,a){return i=wn(6,i,null,s),i.lanes=a,i}function fv(i){var s=wn(18,null,null,0);return s.stateNode=i,s}function cd(i,s,a){return s=wn(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var dv=new WeakMap;function Un(i,s){if(typeof i=="object"&&i!==null){var a=dv.get(i);return a!==void 0?a:(s={value:i,source:s,stack:el(s)},dv.set(i,s),s)}return{value:i,source:s,stack:el(s)}}var Ka=[],Ya=0,Cc=null,wl=0,zn=[],Bn=0,Ls=null,Oi=1,Pi="";function es(i,s){Ka[Ya++]=wl,Ka[Ya++]=Cc,Cc=i,wl=s}function mv(i,s,a){zn[Bn++]=Oi,zn[Bn++]=Pi,zn[Bn++]=Ls,Ls=i;var l=Oi;i=Pi;var f=32-ge(l)-1;l&=~(1<<f),a+=1;var d=32-ge(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Oi=1<<32-ge(s)+f|a<<f|l,Pi=d+i}else Oi=1<<d|a<<f|l,Pi=i}function hd(i){i.return!==null&&(es(i,1),mv(i,1,0))}function fd(i){for(;i===Cc;)Cc=Ka[--Ya],Ka[Ya]=null,wl=Ka[--Ya],Ka[Ya]=null;for(;i===Ls;)Ls=zn[--Bn],zn[Bn]=null,Pi=zn[--Bn],zn[Bn]=null,Oi=zn[--Bn],zn[Bn]=null}function pv(i,s){zn[Bn++]=Oi,zn[Bn++]=Pi,zn[Bn++]=Ls,Oi=s.id,Pi=s.overflow,Ls=i}var Ge=null,ne=null,zt=!1,ks=null,jn=!1,dd=Error(r(519));function Us(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rl(Un(s,i)),dd}function gv(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[be]=i,s[ze]=l,a){case"dialog":xt("cancel",s),xt("close",s);break;case"iframe":case"object":case"embed":xt("load",s);break;case"video":case"audio":for(a=0;a<Ql.length;a++)xt(Ql[a],s);break;case"source":xt("error",s);break;case"img":case"image":case"link":xt("error",s),xt("load",s);break;case"details":xt("toggle",s);break;case"input":xt("invalid",s),ac(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xt("invalid",s);break;case"textarea":xt("invalid",s),Ds(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||NT(s.textContent,a)?(l.popover!=null&&(xt("beforetoggle",s),xt("toggle",s)),l.onScroll!=null&&xt("scroll",s),l.onScrollEnd!=null&&xt("scrollend",s),l.onClick!=null&&(s.onclick=ni),s=!0):s=!1,s||Us(i,!0)}function yv(i){for(Ge=i.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Ge=Ge.return}}function Qa(i){if(i!==Ge)return!1;if(!zt)return yv(i),zt=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Mm(i.type,i.memoizedProps)),a=!a),a&&ne&&Us(i),yv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ne=FT(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ne=FT(i)}else s===27?(s=ne,Ws(i.type)?(i=Lm,Lm=null,ne=i):ne=s):ne=Ge?qn(i.stateNode.nextSibling):null;return!0}function Qr(){ne=Ge=null,zt=!1}function md(){var i=ks;return i!==null&&(yn===null?yn=i:yn.push.apply(yn,i),ks=null),i}function Rl(i){ks===null?ks=[i]:ks.push(i)}var pd=N(null),Xr=null,ns=null;function zs(i,s,a){rt(pd,s._currentValue),s._currentValue=a}function is(i){i._currentValue=pd.current,Z(pd)}function gd(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function yd(i,s,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var D=0;D<s.length;D++)if(A.context===s[D]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),gd(d.return,a,i),l||(_=null);break t}d=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),gd(_,a,i),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===i){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Xa(i,s,a,l){i=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var A=f.type;bn(f.pendingProps.value,_.value)||(i!==null?i.push(A):i=[A])}}else if(f===Bt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Jl):i=[Jl])}f=f.return}i!==null&&yd(s,i,a,l),s.flags|=262144}function Ic(i){for(i=i.firstContext;i!==null;){if(!bn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function $r(i){Xr=i,ns=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ke(i){return vv(Xr,i)}function Dc(i,s){return Xr===null&&$r(i),vv(i,s)}function vv(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ns===null){if(i===null)throw Error(r(308));ns=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ns=ns.next=s;return a}var eC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},nC=e.unstable_scheduleCallback,iC=e.unstable_NormalPriority,Ce={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vd(){return{controller:new eC,data:new Map,refCount:0}}function Cl(i){i.refCount--,i.refCount===0&&nC(iC,function(){i.controller.abort()})}var Il=null,_d=0,$a=0,Za=null;function sC(i,s){if(Il===null){var a=Il=[];_d=0,$a=Am(),Za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return _d++,s.then(_v,_v),s}function _v(){if(--_d===0&&Il!==null){Za!==null&&(Za.status="fulfilled");var i=Il;Il=null,$a=0,Za=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function rC(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Tv=K.S;K.S=function(i,s){iT=on(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&sC(i,s),Tv!==null&&Tv(i,s)};var Zr=N(null);function Td(){var i=Zr.current;return i!==null?i:ee.pooledCache}function Vc(i,s){s===null?rt(Zr,Zr.current):rt(Zr,s.pool)}function Ev(){var i=Td();return i===null?null:{parent:Ce._currentValue,pool:i}}var Wa=Error(r(460)),Ed=Error(r(474)),Mc=Error(r(542)),xc={then:function(){}};function Av(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Sv(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(ni,ni),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,wv(i),i;default:if(typeof s.status=="string")s.then(ni,ni);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,wv(i),i}throw Jr=s,Wa}}function Wr(i){try{var s=i._init;return s(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Jr=a,Wa):a}}var Jr=null;function bv(){if(Jr===null)throw Error(r(459));var i=Jr;return Jr=null,i}function wv(i){if(i===Wa||i===Mc)throw Error(r(483))}var Ja=null,Dl=0;function Nc(i){var s=Dl;return Dl+=1,Ja===null&&(Ja=[]),Sv(Ja,i,s)}function Vl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Oc(i,s){throw s.$$typeof===S?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Rv(i){function s(P,M){if(i){var U=P.deletions;U===null?(P.deletions=[M],P.flags|=16):U.push(M)}}function a(P,M){if(!i)return null;for(;M!==null;)s(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function f(P,M){return P=ts(P,M),P.index=0,P.sibling=null,P}function d(P,M,U){return P.index=U,i?(U=P.alternate,U!==null?(U=U.index,U<M?(P.flags|=67108866,M):U):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return i&&P.alternate===null&&(P.flags|=67108866),P}function A(P,M,U,Q){return M===null||M.tag!==6?(M=ud(U,P.mode,Q),M.return=P,M):(M=f(M,U),M.return=P,M)}function D(P,M,U,Q){var pt=U.type;return pt===Y?G(P,M,U.props.children,Q,U.key):M!==null&&(M.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&Wr(pt)===M.type)?(M=f(M,U.props),Vl(M,U),M.return=P,M):(M=Rc(U.type,U.key,U.props,null,P.mode,Q),Vl(M,U),M.return=P,M)}function z(P,M,U,Q){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=cd(U,P.mode,Q),M.return=P,M):(M=f(M,U.children||[]),M.return=P,M)}function G(P,M,U,Q,pt){return M===null||M.tag!==7?(M=Yr(U,P.mode,Q,pt),M.return=P,M):(M=f(M,U),M.return=P,M)}function X(P,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ud(""+M,P.mode,U),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case x:return U=Rc(M.type,M.key,M.props,null,P.mode,U),Vl(U,M),U.return=P,U;case j:return M=cd(M,P.mode,U),M.return=P,M;case w:return M=Wr(M),X(P,M,U)}if(fe(M)||L(M))return M=Yr(M,P.mode,U,null),M.return=P,M;if(typeof M.then=="function")return X(P,Nc(M),U);if(M.$$typeof===J)return X(P,Dc(P,M),U);Oc(P,M)}return null}function B(P,M,U,Q){var pt=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return pt!==null?null:A(P,M,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return U.key===pt?D(P,M,U,Q):null;case j:return U.key===pt?z(P,M,U,Q):null;case w:return U=Wr(U),B(P,M,U,Q)}if(fe(U)||L(U))return pt!==null?null:G(P,M,U,Q,null);if(typeof U.then=="function")return B(P,M,Nc(U),Q);if(U.$$typeof===J)return B(P,M,Dc(P,U),Q);Oc(P,U)}return null}function q(P,M,U,Q,pt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return P=P.get(U)||null,A(M,P,""+Q,pt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return P=P.get(Q.key===null?U:Q.key)||null,D(M,P,Q,pt);case j:return P=P.get(Q.key===null?U:Q.key)||null,z(M,P,Q,pt);case w:return Q=Wr(Q),q(P,M,U,Q,pt)}if(fe(Q)||L(Q))return P=P.get(U)||null,G(M,P,Q,pt,null);if(typeof Q.then=="function")return q(P,M,U,Nc(Q),pt);if(Q.$$typeof===J)return q(P,M,U,Dc(M,Q),pt);Oc(M,Q)}return null}function ct(P,M,U,Q){for(var pt=null,Ft=null,ft=M,Vt=M=0,Pt=null;ft!==null&&Vt<U.length;Vt++){ft.index>Vt?(Pt=ft,ft=null):Pt=ft.sibling;var qt=B(P,ft,U[Vt],Q);if(qt===null){ft===null&&(ft=Pt);break}i&&ft&&qt.alternate===null&&s(P,ft),M=d(qt,M,Vt),Ft===null?pt=qt:Ft.sibling=qt,Ft=qt,ft=Pt}if(Vt===U.length)return a(P,ft),zt&&es(P,Vt),pt;if(ft===null){for(;Vt<U.length;Vt++)ft=X(P,U[Vt],Q),ft!==null&&(M=d(ft,M,Vt),Ft===null?pt=ft:Ft.sibling=ft,Ft=ft);return zt&&es(P,Vt),pt}for(ft=l(ft);Vt<U.length;Vt++)Pt=q(ft,P,Vt,U[Vt],Q),Pt!==null&&(i&&Pt.alternate!==null&&ft.delete(Pt.key===null?Vt:Pt.key),M=d(Pt,M,Vt),Ft===null?pt=Pt:Ft.sibling=Pt,Ft=Pt);return i&&ft.forEach(function(ir){return s(P,ir)}),zt&&es(P,Vt),pt}function vt(P,M,U,Q){if(U==null)throw Error(r(151));for(var pt=null,Ft=null,ft=M,Vt=M=0,Pt=null,qt=U.next();ft!==null&&!qt.done;Vt++,qt=U.next()){ft.index>Vt?(Pt=ft,ft=null):Pt=ft.sibling;var ir=B(P,ft,qt.value,Q);if(ir===null){ft===null&&(ft=Pt);break}i&&ft&&ir.alternate===null&&s(P,ft),M=d(ir,M,Vt),Ft===null?pt=ir:Ft.sibling=ir,Ft=ir,ft=Pt}if(qt.done)return a(P,ft),zt&&es(P,Vt),pt;if(ft===null){for(;!qt.done;Vt++,qt=U.next())qt=X(P,qt.value,Q),qt!==null&&(M=d(qt,M,Vt),Ft===null?pt=qt:Ft.sibling=qt,Ft=qt);return zt&&es(P,Vt),pt}for(ft=l(ft);!qt.done;Vt++,qt=U.next())qt=q(ft,P,Vt,qt.value,Q),qt!==null&&(i&&qt.alternate!==null&&ft.delete(qt.key===null?Vt:qt.key),M=d(qt,M,Vt),Ft===null?pt=qt:Ft.sibling=qt,Ft=qt);return i&&ft.forEach(function(gI){return s(P,gI)}),zt&&es(P,Vt),pt}function Jt(P,M,U,Q){if(typeof U=="object"&&U!==null&&U.type===Y&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case x:t:{for(var pt=U.key;M!==null;){if(M.key===pt){if(pt=U.type,pt===Y){if(M.tag===7){a(P,M.sibling),Q=f(M,U.props.children),Q.return=P,P=Q;break t}}else if(M.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&Wr(pt)===M.type){a(P,M.sibling),Q=f(M,U.props),Vl(Q,U),Q.return=P,P=Q;break t}a(P,M);break}else s(P,M);M=M.sibling}U.type===Y?(Q=Yr(U.props.children,P.mode,Q,U.key),Q.return=P,P=Q):(Q=Rc(U.type,U.key,U.props,null,P.mode,Q),Vl(Q,U),Q.return=P,P=Q)}return _(P);case j:t:{for(pt=U.key;M!==null;){if(M.key===pt)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){a(P,M.sibling),Q=f(M,U.children||[]),Q.return=P,P=Q;break t}else{a(P,M);break}else s(P,M);M=M.sibling}Q=cd(U,P.mode,Q),Q.return=P,P=Q}return _(P);case w:return U=Wr(U),Jt(P,M,U,Q)}if(fe(U))return ct(P,M,U,Q);if(L(U)){if(pt=L(U),typeof pt!="function")throw Error(r(150));return U=pt.call(U),vt(P,M,U,Q)}if(typeof U.then=="function")return Jt(P,M,Nc(U),Q);if(U.$$typeof===J)return Jt(P,M,Dc(P,U),Q);Oc(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(a(P,M.sibling),Q=f(M,U),Q.return=P,P=Q):(a(P,M),Q=ud(U,P.mode,Q),Q.return=P,P=Q),_(P)):a(P,M)}return function(P,M,U,Q){try{Dl=0;var pt=Jt(P,M,U,Q);return Ja=null,pt}catch(ft){if(ft===Wa||ft===Mc)throw ft;var Ft=wn(29,ft,null,P.mode);return Ft.lanes=Q,Ft.return=P,Ft}finally{}}}var ta=Rv(!0),Cv=Rv(!1),Bs=!1;function Ad(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function js(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Fs(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=wc(i),cv(i,null,a),s}return bc(i,l,s,a),wc(i)}function Ml(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,sl(i,a)}}function bd(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var wd=!1;function xl(){if(wd){var i=Za;if(i!==null)throw i}}function Nl(i,s,a,l){wd=!1;var f=i.updateQueue;Bs=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,z=D.next;D.next=null,_===null?d=z:_.next=z,_=D;var G=i.alternate;G!==null&&(G=G.updateQueue,A=G.lastBaseUpdate,A!==_&&(A===null?G.firstBaseUpdate=z:A.next=z,G.lastBaseUpdate=D))}if(d!==null){var X=f.baseState;_=0,G=z=D=null,A=d;do{var B=A.lane&-536870913,q=B!==A.lane;if(q?(Ot&B)===B:(l&B)===B){B!==0&&B===$a&&(wd=!0),G!==null&&(G=G.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var ct=i,vt=A;B=s;var Jt=a;switch(vt.tag){case 1:if(ct=vt.payload,typeof ct=="function"){X=ct.call(Jt,X,B);break t}X=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=vt.payload,B=typeof ct=="function"?ct.call(Jt,X,B):ct,B==null)break t;X=E({},X,B);break t;case 2:Bs=!0}}B=A.callback,B!==null&&(i.flags|=64,q&&(i.flags|=8192),q=f.callbacks,q===null?f.callbacks=[B]:q.push(B))}else q={lane:B,tag:A.tag,payload:A.payload,callback:A.callback,next:null},G===null?(z=G=q,D=X):G=G.next=q,_|=B;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;q=A,A=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);G===null&&(D=X),f.baseState=D,f.firstBaseUpdate=z,f.lastBaseUpdate=G,d===null&&(f.shared.lanes=0),Ys|=_,i.lanes=_,i.memoizedState=X}}function Iv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Dv(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Iv(a[i],s)}var to=N(null),Pc=N(0);function Vv(i,s){i=fs,rt(Pc,i),rt(to,s),fs=i|s.baseLanes}function Rd(){rt(Pc,fs),rt(to,to.current)}function Cd(){fs=Pc.current,Z(to),Z(Pc)}var Rn=N(null),Fn=null;function qs(i){var s=i.alternate;rt(ve,ve.current&1),rt(Rn,i),Fn===null&&(s===null||to.current!==null||s.memoizedState!==null)&&(Fn=i)}function Id(i){rt(ve,ve.current),rt(Rn,i),Fn===null&&(Fn=i)}function Mv(i){i.tag===22?(rt(ve,ve.current),rt(Rn,i),Fn===null&&(Fn=i)):Hs()}function Hs(){rt(ve,ve.current),rt(Rn,Rn.current)}function Cn(i){Z(Rn),Fn===i&&(Fn=null),Z(ve)}var ve=N(0);function Lc(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Om(a)||Pm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ss=0,Ct=null,Zt=null,Ie=null,kc=!1,eo=!1,ea=!1,Uc=0,Ol=0,no=null,aC=0;function de(){throw Error(r(321))}function Dd(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!bn(i[a],s[a]))return!1;return!0}function Vd(i,s,a,l,f,d){return ss=d,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=i===null||i.memoizedState===null?m_:Gd,ea=!1,d=a(l,f),ea=!1,eo&&(d=Nv(s,a,l,f)),xv(i),d}function xv(i){K.H=kl;var s=Zt!==null&&Zt.next!==null;if(ss=0,Ie=Zt=Ct=null,kc=!1,Ol=0,no=null,s)throw Error(r(300));i===null||De||(i=i.dependencies,i!==null&&Ic(i)&&(De=!0))}function Nv(i,s,a,l){Ct=i;var f=0;do{if(eo&&(no=null),Ol=0,eo=!1,25<=f)throw Error(r(301));if(f+=1,Ie=Zt=null,i.updateQueue!=null){var d=i.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=p_,d=s(a,l)}while(eo);return d}function oC(){var i=K.H,s=i.useState()[0];return s=typeof s.then=="function"?Pl(s):s,i=i.useState()[0],(Zt!==null?Zt.memoizedState:null)!==i&&(Ct.flags|=1024),s}function Md(){var i=Uc!==0;return Uc=0,i}function xd(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function Nd(i){if(kc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}kc=!1}ss=0,Ie=Zt=Ct=null,eo=!1,Ol=Uc=0,no=null}function un(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Ct.memoizedState=Ie=i:Ie=Ie.next=i,Ie}function _e(){if(Zt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Zt.next;var s=Ie===null?Ct.memoizedState:Ie.next;if(s!==null)Ie=s,Zt=i;else{if(i===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Zt=i,i={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ie===null?Ct.memoizedState=Ie=i:Ie=Ie.next=i}return Ie}function zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(i){var s=Ol;return Ol+=1,no===null&&(no=[]),i=Sv(no,i,s),s=Ct,(Ie===null?s.memoizedState:Ie.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?m_:Gd),i}function Bc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Pl(i);if(i.$$typeof===J)return Ke(i)}throw Error(r(438,String(i)))}function Od(i){var s=null,a=Ct.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=zc(),Ct.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=O;return s.index++,a}function rs(i,s){return typeof s=="function"?s(i):s}function jc(i){var s=_e();return Pd(s,Zt,i)}function Pd(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=i.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=i.baseState,f===null)i.memoizedState=d;else{s=f.next;var A=_=null,D=null,z=s,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ot&X)===X:(ss&X)===X){var B=z.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===$a&&(G=!0);else if((ss&B)===B){z=z.next,B===$a&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(A=D=X,_=d):D=D.next=X,Ct.lanes|=B,Ys|=B;X=z.action,ea&&a(d,X),d=z.hasEagerState?z.eagerState:a(d,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(A=D=B,_=d):D=D.next=B,Ct.lanes|=X,Ys|=X;z=z.next}while(z!==null&&z!==s);if(D===null?_=d:D.next=A,!bn(d,i.memoizedState)&&(De=!0,G&&(a=Za,a!==null)))throw a;i.memoizedState=d,i.baseState=_,i.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Ld(i){var s=_e(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=i(d,_.action),_=_.next;while(_!==f);bn(d,s.memoizedState)||(De=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function Ov(i,s,a){var l=Ct,f=_e(),d=zt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!bn((Zt||f).memoizedState,a);if(_&&(f.memoizedState=a,De=!0),f=f.queue,zd(kv.bind(null,l,f,i),[i]),f.getSnapshot!==s||_||Ie!==null&&Ie.memoizedState.tag&1){if(l.flags|=2048,io(9,{destroy:void 0},Lv.bind(null,l,f,a,s),null),ee===null)throw Error(r(349));d||(ss&127)!==0||Pv(l,s,a)}return a}function Pv(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=Ct.updateQueue,s===null?(s=zc(),Ct.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function Lv(i,s,a,l){s.value=a,s.getSnapshot=l,Uv(s)&&zv(i)}function kv(i,s,a){return a(function(){Uv(s)&&zv(i)})}function Uv(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!bn(i,a)}catch{return!0}}function zv(i){var s=Kr(i,2);s!==null&&vn(s,i,2)}function kd(i){var s=un();if(typeof i=="function"){var a=i;if(i=a(),ea){xn(!0);try{a()}finally{xn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:i},s}function Bv(i,s,a,l){return i.baseState=a,Pd(i,Zt,typeof l=="function"?l:rs)}function lC(i,s,a,l,f){if(Hc(i))throw Error(r(485));if(i=s.action,i!==null){var d={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,jv(s,d)):(d.next=a.next,s.pending=a.next=d)}}function jv(i,s){var a=s.action,l=s.payload,f=i.state;if(s.isTransition){var d=K.T,_={};K.T=_;try{var A=a(f,l),D=K.S;D!==null&&D(_,A),Fv(i,s,A)}catch(z){Ud(i,s,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(f,l),Fv(i,s,d)}catch(z){Ud(i,s,z)}}function Fv(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){qv(i,s,l)},function(l){return Ud(i,s,l)}):qv(i,s,a)}function qv(i,s,a){s.status="fulfilled",s.value=a,Hv(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,jv(i,a)))}function Ud(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Hv(s),s=s.next;while(s!==l)}i.action=null}function Hv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Gv(i,s){return s}function Kv(i,s){if(zt){var a=ee.formState;if(a!==null){t:{var l=Ct;if(zt){if(ne){e:{for(var f=ne,d=jn;f.nodeType!==8;){if(!d){f=null;break e}if(f=qn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ne=qn(f.nextSibling),l=f.data==="F!";break t}}Us(l)}l=!1}l&&(s=a[0])}}return a=un(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gv,lastRenderedState:s},a.queue=l,a=h_.bind(null,Ct,l),l.dispatch=a,l=kd(!1),d=Hd.bind(null,Ct,!1,l.queue),l=un(),f={state:s,dispatch:null,action:i,pending:null},l.queue=f,a=lC.bind(null,Ct,f,d,a),f.dispatch=a,l.memoizedState=i,[s,a,!1]}function Yv(i){var s=_e();return Qv(s,Zt,i)}function Qv(i,s,a){if(s=Pd(i,s,Gv)[0],i=jc(rs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Pl(s)}catch(_){throw _===Wa?Mc:_}else l=s;s=_e();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Ct.flags|=2048,io(9,{destroy:void 0},uC.bind(null,f,a),null)),[l,d,i]}function uC(i,s){i.action=s}function Xv(i){var s=_e(),a=Zt;if(a!==null)return Qv(s,a,i);_e(),s=s.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function io(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=Ct.updateQueue,s===null&&(s=zc(),Ct.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function $v(){return _e().memoizedState}function Fc(i,s,a,l){var f=un();Ct.flags|=i,f.memoizedState=io(1|s,{destroy:void 0},a,l===void 0?null:l)}function qc(i,s,a,l){var f=_e();l=l===void 0?null:l;var d=f.memoizedState.inst;Zt!==null&&l!==null&&Dd(l,Zt.memoizedState.deps)?f.memoizedState=io(s,d,a,l):(Ct.flags|=i,f.memoizedState=io(1|s,d,a,l))}function Zv(i,s){Fc(8390656,8,i,s)}function zd(i,s){qc(2048,8,i,s)}function cC(i){Ct.flags|=4;var s=Ct.updateQueue;if(s===null)s=zc(),Ct.updateQueue=s,s.events=[i];else{var a=s.events;a===null?s.events=[i]:a.push(i)}}function Wv(i){var s=_e().memoizedState;return cC({ref:s,nextImpl:i}),function(){if((Gt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Jv(i,s){return qc(4,2,i,s)}function t_(i,s){return qc(4,4,i,s)}function e_(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function n_(i,s,a){a=a!=null?a.concat([i]):null,qc(4,4,e_.bind(null,s,i),a)}function Bd(){}function i_(i,s){var a=_e();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Dd(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function s_(i,s){var a=_e();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Dd(s,l[1]))return l[0];if(l=i(),ea){xn(!0);try{i()}finally{xn(!1)}}return a.memoizedState=[l,s],l}function jd(i,s,a){return a===void 0||(ss&1073741824)!==0&&(Ot&261930)===0?i.memoizedState=s:(i.memoizedState=a,i=rT(),Ct.lanes|=i,Ys|=i,a)}function r_(i,s,a,l){return bn(a,s)?a:to.current!==null?(i=jd(i,a,l),bn(i,s)||(De=!0),i):(ss&42)===0||(ss&1073741824)!==0&&(Ot&261930)===0?(De=!0,i.memoizedState=a):(i=rT(),Ct.lanes|=i,Ys|=i,s)}function a_(i,s,a,l,f){var d=nt.p;nt.p=d!==0&&8>d?d:8;var _=K.T,A={};K.T=A,Hd(i,!1,s,a);try{var D=f(),z=K.S;if(z!==null&&z(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var G=rC(D,l);Ll(i,s,G,Vn(i))}else Ll(i,s,l,Vn(i))}catch(X){Ll(i,s,{then:function(){},status:"rejected",reason:X},Vn())}finally{nt.p=d,_!==null&&A.types!==null&&(_.types=A.types),K.T=_}}function hC(){}function Fd(i,s,a,l){if(i.tag!==5)throw Error(r(476));var f=o_(i).queue;a_(i,f,s,ut,a===null?hC:function(){return l_(i),a(l)})}function o_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:ut},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function l_(i){var s=o_(i);s.next===null&&(s=i.alternate.memoizedState),Ll(i,s.next.queue,{},Vn())}function qd(){return Ke(Jl)}function u_(){return _e().memoizedState}function c_(){return _e().memoizedState}function fC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=Vn();i=js(a);var l=Fs(s,i,a);l!==null&&(vn(l,s,a),Ml(l,s,a)),s={cache:vd()},i.payload=s;return}s=s.return}}function dC(i,s,a){var l=Vn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Hc(i)?f_(s,a):(a=od(i,s,a,l),a!==null&&(vn(a,i,l),d_(a,s,l)))}function h_(i,s,a){var l=Vn();Ll(i,s,a,l)}function Ll(i,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hc(i))f_(s,f);else{var d=i.alternate;if(i.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,A=d(_,a);if(f.hasEagerState=!0,f.eagerState=A,bn(A,_))return bc(i,s,f,0),ee===null&&Sc(),!1}catch{}finally{}if(a=od(i,s,f,l),a!==null)return vn(a,i,l),d_(a,s,l),!0}return!1}function Hd(i,s,a,l){if(l={lane:2,revertLane:Am(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hc(i)){if(s)throw Error(r(479))}else s=od(i,a,l,2),s!==null&&vn(s,i,2)}function Hc(i){var s=i.alternate;return i===Ct||s!==null&&s===Ct}function f_(i,s){eo=kc=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function d_(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,sl(i,a)}}var kl={readContext:Ke,use:Bc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};kl.useEffectEvent=de;var m_={readContext:Ke,use:Bc,useCallback:function(i,s){return un().memoizedState=[i,s===void 0?null:s],i},useContext:Ke,useEffect:Zv,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,Fc(4194308,4,e_.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Fc(4194308,4,i,s)},useInsertionEffect:function(i,s){Fc(4,2,i,s)},useMemo:function(i,s){var a=un();s=s===void 0?null:s;var l=i();if(ea){xn(!0);try{i()}finally{xn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=un();if(a!==void 0){var f=a(s);if(ea){xn(!0);try{a(s)}finally{xn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=dC.bind(null,Ct,i),[l.memoizedState,i]},useRef:function(i){var s=un();return i={current:i},s.memoizedState=i},useState:function(i){i=kd(i);var s=i.queue,a=h_.bind(null,Ct,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:Bd,useDeferredValue:function(i,s){var a=un();return jd(a,i,s)},useTransition:function(){var i=kd(!1);return i=a_.bind(null,Ct,i.queue,!0,!1),un().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=Ct,f=un();if(zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ee===null)throw Error(r(349));(Ot&127)!==0||Pv(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,Zv(kv.bind(null,l,d,i),[i]),l.flags|=2048,io(9,{destroy:void 0},Lv.bind(null,l,d,a,s),null),a},useId:function(){var i=un(),s=ee.identifierPrefix;if(zt){var a=Pi,l=Oi;a=(l&~(1<<32-ge(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Uc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=aC++,s="_"+s+"r_"+a.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:qd,useFormState:Kv,useActionState:Kv,useOptimistic:function(i){var s=un();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Hd.bind(null,Ct,!0,a),a.dispatch=s,[i,s]},useMemoCache:Od,useCacheRefresh:function(){return un().memoizedState=fC.bind(null,Ct)},useEffectEvent:function(i){var s=un(),a={impl:i};return s.memoizedState=a,function(){if((Gt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Gd={readContext:Ke,use:Bc,useCallback:i_,useContext:Ke,useEffect:zd,useImperativeHandle:n_,useInsertionEffect:Jv,useLayoutEffect:t_,useMemo:s_,useReducer:jc,useRef:$v,useState:function(){return jc(rs)},useDebugValue:Bd,useDeferredValue:function(i,s){var a=_e();return r_(a,Zt.memoizedState,i,s)},useTransition:function(){var i=jc(rs)[0],s=_e().memoizedState;return[typeof i=="boolean"?i:Pl(i),s]},useSyncExternalStore:Ov,useId:u_,useHostTransitionStatus:qd,useFormState:Yv,useActionState:Yv,useOptimistic:function(i,s){var a=_e();return Bv(a,Zt,i,s)},useMemoCache:Od,useCacheRefresh:c_};Gd.useEffectEvent=Wv;var p_={readContext:Ke,use:Bc,useCallback:i_,useContext:Ke,useEffect:zd,useImperativeHandle:n_,useInsertionEffect:Jv,useLayoutEffect:t_,useMemo:s_,useReducer:Ld,useRef:$v,useState:function(){return Ld(rs)},useDebugValue:Bd,useDeferredValue:function(i,s){var a=_e();return Zt===null?jd(a,i,s):r_(a,Zt.memoizedState,i,s)},useTransition:function(){var i=Ld(rs)[0],s=_e().memoizedState;return[typeof i=="boolean"?i:Pl(i),s]},useSyncExternalStore:Ov,useId:u_,useHostTransitionStatus:qd,useFormState:Xv,useActionState:Xv,useOptimistic:function(i,s){var a=_e();return Zt!==null?Bv(a,Zt,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Od,useCacheRefresh:c_};p_.useEffectEvent=Wv;function Kd(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:E({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Yd={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=Vn(),f=js(l);f.payload=s,a!=null&&(f.callback=a),s=Fs(i,f,l),s!==null&&(vn(s,i,l),Ml(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=Vn(),f=js(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Fs(i,f,l),s!==null&&(vn(s,i,l),Ml(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Vn(),l=js(a);l.tag=2,s!=null&&(l.callback=s),s=Fs(i,l,a),s!==null&&(vn(s,i,a),Ml(s,i,a))}};function g_(i,s,a,l,f,d,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!Sl(a,l)||!Sl(f,d):!0}function y_(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&Yd.enqueueReplaceState(s,s.state,null)}function na(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=E({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function v_(i){Ac(i)}function __(i){console.error(i)}function T_(i){Ac(i)}function Gc(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function E_(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Qd(i,s,a){return a=js(a),a.tag=3,a.payload={element:null},a.callback=function(){Gc(i,s)},a}function A_(i){return i=js(i),i.tag=3,i}function S_(i,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;i.payload=function(){return f(d)},i.callback=function(){E_(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){E_(s,a,l),typeof f!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function mC(i,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Xa(s,a,f,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?ih():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===xc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),_m(i,l,f)),!1;case 22:return a.flags|=65536,l===xc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),_m(i,l,f)),!1}throw Error(r(435,a.tag))}return _m(i,l,f),ih(),!1}if(zt)return s=Rn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==dd&&(i=Error(r(422),{cause:l}),Rl(Un(i,a)))):(l!==dd&&(s=Error(r(423),{cause:l}),Rl(Un(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Un(l,a),f=Qd(i.stateNode,l,f),bd(i,f),me!==4&&(me=2)),!1;var d=Error(r(520),{cause:l});if(d=Un(d,a),Gl===null?Gl=[d]:Gl.push(d),me!==4&&(me=2),s===null)return!0;l=Un(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=Qd(a.stateNode,l,i),bd(a,i),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Qs===null||!Qs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=A_(f),S_(f,i,a,l),bd(a,f),!1}a=a.return}while(a!==null);return!1}var Xd=Error(r(461)),De=!1;function Ye(i,s,a,l){s.child=i===null?Cv(s,null,a,l):ta(s,i.child,a,l)}function b_(i,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return $r(s),l=Vd(i,s,a,_,d,f),A=Md(),i!==null&&!De?(xd(i,s,f),as(i,s,f)):(zt&&A&&hd(s),s.flags|=1,Ye(i,s,l,f),s.child)}function w_(i,s,a,l,f){if(i===null){var d=a.type;return typeof d=="function"&&!ld(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,R_(i,s,d,l,f)):(i=Rc(a.type,null,l,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(d=i.child,!im(i,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Sl,a(_,l)&&i.ref===s.ref)return as(i,s,f)}return s.flags|=1,i=ts(d,l),i.ref=s.ref,i.return=s,s.child=i}function R_(i,s,a,l,f){if(i!==null){var d=i.memoizedProps;if(Sl(d,l)&&i.ref===s.ref)if(De=!1,s.pendingProps=l=d,im(i,f))(i.flags&131072)!==0&&(De=!0);else return s.lanes=i.lanes,as(i,s,f)}return $d(i,s,a,l,f)}function C_(i,s,a,l){var f=l.children,d=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,i!==null){for(l=s.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return I_(i,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Vc(s,d!==null?d.cachePool:null),d!==null?Vv(s,d):Rd(),Mv(s);else return l=s.lanes=536870912,I_(i,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Vc(s,d.cachePool),Vv(s,d),Hs(),s.memoizedState=null):(i!==null&&Vc(s,null),Rd(),Hs());return Ye(i,s,f,a),s.child}function Ul(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function I_(i,s,a,l,f){var d=Td();return d=d===null?null:{parent:Ce._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},i!==null&&Vc(s,null),Rd(),Mv(s),i!==null&&Xa(i,s,l,!0),s.childLanes=f,null}function Kc(i,s){return s=Qc({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function D_(i,s,a){return ta(s,i.child,null,a),i=Kc(s,s.pendingProps),i.flags|=2,Cn(s),s.memoizedState=null,i}function pC(i,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(zt){if(l.mode==="hidden")return i=Kc(s,l),s.lanes=536870912,Ul(null,i);if(Id(s),(i=ne)?(i=jT(i,jn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ls!==null?{id:Oi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},a=fv(i),a.return=s,s.child=a,Ge=s,ne=null)):i=null,i===null)throw Us(s);return s.lanes=536870912,null}return Kc(s,l)}var d=i.memoizedState;if(d!==null){var _=d.dehydrated;if(Id(s),f)if(s.flags&256)s.flags&=-257,s=D_(i,s,a);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(De||Xa(i,s,a,!1),f=(a&i.childLanes)!==0,De||f){if(l=ee,l!==null&&(_=rl(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Kr(i,_),vn(l,i,_),Xd;ih(),s=D_(i,s,a)}else i=d.treeContext,ne=qn(_.nextSibling),Ge=s,zt=!0,ks=null,jn=!1,i!==null&&pv(s,i),s=Kc(s,l),s.flags|=4096;return s}return i=ts(i.child,{mode:l.mode,children:l.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Yc(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function $d(i,s,a,l,f){return $r(s),a=Vd(i,s,a,l,void 0,f),l=Md(),i!==null&&!De?(xd(i,s,f),as(i,s,f)):(zt&&l&&hd(s),s.flags|=1,Ye(i,s,a,f),s.child)}function V_(i,s,a,l,f,d){return $r(s),s.updateQueue=null,a=Nv(s,l,a,f),xv(i),l=Md(),i!==null&&!De?(xd(i,s,d),as(i,s,d)):(zt&&l&&hd(s),s.flags|=1,Ye(i,s,a,d),s.child)}function M_(i,s,a,l,f){if($r(s),s.stateNode===null){var d=Ga,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ke(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Yd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Ad(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ke(_):Ga,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Kd(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Yd.enqueueReplaceState(d,d.state,null),Nl(s,l,d,f),xl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){d=s.stateNode;var A=s.memoizedProps,D=na(a,A);d.props=D;var z=d.context,G=a.contextType;_=Ga,typeof G=="object"&&G!==null&&(_=Ke(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||z!==_)&&y_(s,d,l,_),Bs=!1;var B=s.memoizedState;d.state=B,Nl(s,l,d,f),xl(),z=s.memoizedState,A||B!==z||Bs?(typeof X=="function"&&(Kd(s,a,X,l),z=s.memoizedState),(D=Bs||g_(s,a,D,l,B,z,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=z),d.props=l,d.state=z,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Sd(i,s),_=s.memoizedProps,G=na(a,_),d.props=G,X=s.pendingProps,B=d.context,z=a.contextType,D=Ga,typeof z=="object"&&z!==null&&(D=Ke(z)),A=a.getDerivedStateFromProps,(z=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==X||B!==D)&&y_(s,d,l,D),Bs=!1,B=s.memoizedState,d.state=B,Nl(s,l,d,f),xl();var q=s.memoizedState;_!==X||B!==q||Bs||i!==null&&i.dependencies!==null&&Ic(i.dependencies)?(typeof A=="function"&&(Kd(s,a,A,l),q=s.memoizedState),(G=Bs||g_(s,a,G,l,B,q,D)||i!==null&&i.dependencies!==null&&Ic(i.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,D)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===i.memoizedProps&&B===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&B===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=q),d.props=l,d.state=q,d.context=D,l=G):(typeof d.componentDidUpdate!="function"||_===i.memoizedProps&&B===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&B===i.memoizedState||(s.flags|=1024),l=!1)}return d=l,Yc(i,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,i!==null&&l?(s.child=ta(s,i.child,null,f),s.child=ta(s,null,a,f)):Ye(i,s,a,f),s.memoizedState=d.state,i=s.child):i=as(i,s,f),i}function x_(i,s,a,l){return Qr(),s.flags|=256,Ye(i,s,a,l),s.child}var Zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wd(i){return{baseLanes:i,cachePool:Ev()}}function Jd(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=Dn),i}function N_(i,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=i!==null&&i.memoizedState===null?!1:(ve.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,i===null){if(zt){if(f?qs(s):Hs(),(i=ne)?(i=jT(i,jn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ls!==null?{id:Oi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},a=fv(i),a.return=s,s.child=a,Ge=s,ne=null)):i=null,i===null)throw Us(s);return Pm(i)?s.lanes=32:s.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(Hs(),f=s.mode,A=Qc({mode:"hidden",children:A},f),l=Yr(l,f,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,l=s.child,l.memoizedState=Wd(a),l.childLanes=Jd(i,_,a),s.memoizedState=Zd,Ul(null,l)):(qs(s),tm(s,A))}var D=i.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(d)s.flags&256?(qs(s),s.flags&=-257,s=em(i,s,a)):s.memoizedState!==null?(Hs(),s.child=i.child,s.flags|=128,s=null):(Hs(),A=l.fallback,f=s.mode,l=Qc({mode:"visible",children:l.children},f),A=Yr(A,f,a,null),A.flags|=2,l.return=s,A.return=s,l.sibling=A,s.child=l,ta(s,i.child,null,a),l=s.child,l.memoizedState=Wd(a),l.childLanes=Jd(i,_,a),s.memoizedState=Zd,s=Ul(null,l));else if(qs(s),Pm(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,Rl({value:l,source:null,stack:null}),s=em(i,s,a)}else if(De||Xa(i,s,a,!1),_=(a&i.childLanes)!==0,De||_){if(_=ee,_!==null&&(l=rl(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Kr(i,l),vn(_,i,l),Xd;Om(A)||ih(),s=em(i,s,a)}else Om(A)?(s.flags|=192,s.child=i.child,s=null):(i=D.treeContext,ne=qn(A.nextSibling),Ge=s,zt=!0,ks=null,jn=!1,i!==null&&pv(s,i),s=tm(s,l.children),s.flags|=4096);return s}return f?(Hs(),A=l.fallback,f=s.mode,D=i.child,z=D.sibling,l=ts(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,z!==null?A=ts(z,A):(A=Yr(A,f,a,null),A.flags|=2),A.return=s,l.return=s,l.sibling=A,s.child=l,Ul(null,l),l=s.child,A=i.child.memoizedState,A===null?A=Wd(a):(f=A.cachePool,f!==null?(D=Ce._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Ev(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Jd(i,_,a),s.memoizedState=Zd,Ul(i.child,l)):(qs(s),a=i.child,i=a.sibling,a=ts(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(_=s.deletions,_===null?(s.deletions=[i],s.flags|=16):_.push(i)),s.child=a,s.memoizedState=null,a)}function tm(i,s){return s=Qc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Qc(i,s){return i=wn(22,i,null,s),i.lanes=0,i}function em(i,s,a){return ta(s,i.child,null,a),i=tm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function O_(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),gd(i.return,s,a)}function nm(i,s,a,l,f,d){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function P_(i,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=ve.current,A=(_&2)!==0;if(A?(_=_&1|2,s.flags|=128):_&=1,rt(ve,_),Ye(i,s,l,a),l=zt?wl:0,!A&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&O_(i,a,s);else if(i.tag===19)O_(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&Lc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),nm(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&Lc(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}nm(s,!0,a,null,d,l);break;case"together":nm(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function as(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Ys|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Xa(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=ts(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=ts(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function im(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Ic(i)))}function gC(i,s,a){switch(s.tag){case 3:Oe(s,s.stateNode.containerInfo),zs(s,Ce,i.memoizedState.cache),Qr();break;case 27:case 5:Ir(s);break;case 4:Oe(s,s.stateNode.containerInfo);break;case 10:zs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Id(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(qs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?N_(i,s,a):(qs(s),i=as(i,s,a),i!==null?i.sibling:null);qs(s);break;case 19:var f=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Xa(i,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return P_(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),rt(ve,ve.current),l)break;return null;case 22:return s.lanes=0,C_(i,s,a,s.pendingProps);case 24:zs(s,Ce,i.memoizedState.cache)}return as(i,s,a)}function L_(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)De=!0;else{if(!im(i,a)&&(s.flags&128)===0)return De=!1,gC(i,s,a);De=(i.flags&131072)!==0}else De=!1,zt&&(s.flags&1048576)!==0&&mv(s,wl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(i=Wr(s.elementType),s.type=i,typeof i=="function")ld(i)?(l=na(i,l),s.tag=1,s=M_(null,s,i,l,a)):(s.tag=0,s=$d(null,s,i,l,a));else{if(i!=null){var f=i.$$typeof;if(f===ht){s.tag=11,s=b_(null,s,i,l,a);break t}else if(f===C){s.tag=14,s=w_(null,s,i,l,a);break t}}throw s=te(i)||i,Error(r(306,s,""))}}return s;case 0:return $d(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=na(l,s.pendingProps),M_(i,s,l,f,a);case 3:t:{if(Oe(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,Sd(i,s),Nl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,zs(s,Ce,l),l!==d.cache&&yd(s,[Ce],a,!0),xl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=x_(i,s,l,a);break t}else if(l!==f){f=Un(Error(r(424)),s),Rl(f),s=x_(i,s,l,a);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ne=qn(i.firstChild),Ge=s,zt=!0,ks=null,jn=!0,a=Cv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qr(),l===f){s=as(i,s,a);break t}Ye(i,s,l,a)}s=s.child}return s;case 26:return Yc(i,s),i===null?(a=YT(s.type,null,s.pendingProps,null))?s.memoizedState=a:zt||(a=s.type,i=s.pendingProps,l=ch(Dt.current).createElement(a),l[be]=s,l[ze]=i,Qe(l,a,i),we(l),s.stateNode=l):s.memoizedState=YT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ir(s),i===null&&zt&&(l=s.stateNode=HT(s.type,s.pendingProps,Dt.current),Ge=s,jn=!0,f=ne,Ws(s.type)?(Lm=f,ne=qn(l.firstChild)):ne=f),Ye(i,s,s.pendingProps.children,a),Yc(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&zt&&((f=l=ne)&&(l=KC(l,s.type,s.pendingProps,jn),l!==null?(s.stateNode=l,Ge=s,ne=qn(l.firstChild),jn=!1,f=!0):f=!1),f||Us(s)),Ir(s),f=s.type,d=s.pendingProps,_=i!==null?i.memoizedProps:null,l=d.children,Mm(f,d)?l=null:_!==null&&Mm(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Vd(i,s,oC,null,null,a),Jl._currentValue=f),Yc(i,s),Ye(i,s,l,a),s.child;case 6:return i===null&&zt&&((i=a=ne)&&(a=YC(a,s.pendingProps,jn),a!==null?(s.stateNode=a,Ge=s,ne=null,i=!0):i=!1),i||Us(s)),null;case 13:return N_(i,s,a);case 4:return Oe(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=ta(s,null,l,a):Ye(i,s,l,a),s.child;case 11:return b_(i,s,s.type,s.pendingProps,a);case 7:return Ye(i,s,s.pendingProps,a),s.child;case 8:return Ye(i,s,s.pendingProps.children,a),s.child;case 12:return Ye(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,zs(s,s.type,l.value),Ye(i,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,$r(s),f=Ke(f),l=l(f),s.flags|=1,Ye(i,s,l,a),s.child;case 14:return w_(i,s,s.type,s.pendingProps,a);case 15:return R_(i,s,s.type,s.pendingProps,a);case 19:return P_(i,s,a);case 31:return pC(i,s,a);case 22:return C_(i,s,a,s.pendingProps);case 24:return $r(s),l=Ke(Ce),i===null?(f=Td(),f===null&&(f=ee,d=vd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Ad(s),zs(s,Ce,f)):((i.lanes&a)!==0&&(Sd(i,s),Nl(s,null,null,a),xl()),f=i.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),zs(s,Ce,l)):(l=d.cache,zs(s,Ce,l),l!==f.cache&&yd(s,[Ce],a,!0))),Ye(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function os(i){i.flags|=4}function sm(i,s,a,l,f){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(uT())i.flags|=8192;else throw Jr=xc,Ed}else i.flags&=-16777217}function k_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!WT(s))if(uT())i.flags|=8192;else throw Jr=xc,Ed}function Xc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?ec():536870912,i.lanes|=s,oo|=s)}function zl(i,s){if(!zt)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function ie(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function yC(i,s,a){var l=s.pendingProps;switch(fd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(s),null;case 1:return ie(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),is(Ce),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Qa(s)?os(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,md())),ie(s),null;case 26:var f=s.type,d=s.memoizedState;return i===null?(os(s),d!==null?(ie(s),k_(s,d)):(ie(s),sm(s,f,null,l,a))):d?d!==i.memoizedState?(os(s),ie(s),k_(s,d)):(ie(s),s.flags&=-16777217):(i=i.memoizedProps,i!==l&&os(s),ie(s),sm(s,f,i,l,a)),null;case 27:if(Ra(s),a=Dt.current,f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&os(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ie(s),null}i=lt.current,Qa(s)?gv(s):(i=HT(f,l,a),s.stateNode=i,os(s))}return ie(s),null;case 5:if(Ra(s),f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&os(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ie(s),null}if(d=lt.current,Qa(s))gv(s);else{var _=ch(Dt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[be]=s,d[ze]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch(Qe(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&os(s)}}return ie(s),sm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,a),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&os(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=Dt.current,Qa(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,f=Ge,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[be]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||NT(i.nodeValue,a)),i||Us(s,!0)}else i=ch(i).createTextNode(l),i[be]=s,s.stateNode=i}return ie(s),null;case 31:if(a=s.memoizedState,i===null||i.memoizedState!==null){if(l=Qa(s),a!==null){if(i===null){if(!l)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[be]=s}else Qr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ie(s),i=!1}else a=md(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return s.flags&256?(Cn(s),s):(Cn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ie(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Qa(s),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[be]=s}else Qr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ie(s),f=!1}else f=md(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Cn(s),s):(Cn(s),null)}return Cn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==i&&a&&(s.child.flags|=8192),Xc(s,s.updateQueue),ie(s),null);case 4:return ae(),i===null&&Rm(s.stateNode.containerInfo),ie(s),null;case 10:return is(s.type),ie(s),null;case 19:if(Z(ve),l=s.memoizedState,l===null)return ie(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)zl(l,!1);else{if(me!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(d=Lc(i),d!==null){for(s.flags|=128,zl(l,!1),i=d.updateQueue,s.updateQueue=i,Xc(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)hv(a,i),a=a.sibling;return rt(ve,ve.current&1|2),zt&&es(s,l.treeForkCount),s.child}i=i.sibling}l.tail!==null&&on()>th&&(s.flags|=128,f=!0,zl(l,!1),s.lanes=4194304)}else{if(!f)if(i=Lc(d),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,Xc(s,i),zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!zt)return ie(s),null}else 2*on()-l.renderingStartTime>th&&a!==536870912&&(s.flags|=128,f=!0,zl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(i=l.last,i!==null?i.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=on(),i.sibling=null,a=ve.current,rt(ve,f?a&1|2:a&1),zt&&es(s,l.treeForkCount),i):(ie(s),null);case 22:case 23:return Cn(s),Cd(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ie(s),s.subtreeFlags&6&&(s.flags|=8192)):ie(s),a=s.updateQueue,a!==null&&Xc(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&Z(Zr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),is(Ce),ie(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function vC(i,s){switch(fd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return is(Ce),ae(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ra(s),null;case 31:if(s.memoizedState!==null){if(Cn(s),s.alternate===null)throw Error(r(340));Qr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Cn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Qr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Z(ve),null;case 4:return ae(),null;case 10:return is(s.type),null;case 22:case 23:return Cn(s),Cd(),i!==null&&Z(Zr),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return is(Ce),null;case 25:return null;default:return null}}function U_(i,s){switch(fd(s),s.tag){case 3:is(Ce),ae();break;case 26:case 27:case 5:Ra(s);break;case 4:ae();break;case 31:s.memoizedState!==null&&Cn(s);break;case 13:Cn(s);break;case 19:Z(ve);break;case 10:is(s.type);break;case 22:case 23:Cn(s),Cd(),i!==null&&Z(Zr);break;case 24:is(Ce)}}function Bl(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(A){Xt(s,s.return,A)}}function Gs(i,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&i)===i){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=s;var D=a,z=A;try{z()}catch(G){Xt(f,D,G)}}}l=l.next}while(l!==d)}}catch(G){Xt(s,s.return,G)}}function z_(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{Dv(s,a)}catch(l){Xt(i,i.return,l)}}}function B_(i,s,a){a.props=na(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(i,s,l)}}function jl(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Xt(i,s,f)}}function Li(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xt(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xt(i,s,f)}else a.current=null}function j_(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xt(i,i.return,f)}}function rm(i,s,a){try{var l=i.stateNode;BC(l,i.type,a,s),l[ze]=s}catch(f){Xt(i,i.return,f)}}function F_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ws(i.type)||i.tag===4}function am(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||F_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ws(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function om(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ni));else if(l!==4&&(l===27&&Ws(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(om(i,s,a),i=i.sibling;i!==null;)om(i,s,a),i=i.sibling}function $c(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&Ws(i.type)&&(a=i.stateNode),i=i.child,i!==null))for($c(i,s,a),i=i.sibling;i!==null;)$c(i,s,a),i=i.sibling}function q_(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Qe(s,l,a),s[be]=i,s[ze]=a}catch(d){Xt(i,i.return,d)}}var ls=!1,Ve=!1,lm=!1,H_=typeof WeakSet=="function"?WeakSet:Set,je=null;function _C(i,s){if(i=i.containerInfo,Dm=yh,i=nv(i),ed(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,A=-1,D=-1,z=0,G=0,X=i,B=null;e:for(;;){for(var q;X!==a||f!==0&&X.nodeType!==3||(A=_+f),X!==d||l!==0&&X.nodeType!==3||(D=_+l),X.nodeType===3&&(_+=X.nodeValue.length),(q=X.firstChild)!==null;)B=X,X=q;for(;;){if(X===i)break e;if(B===a&&++z===f&&(A=_),B===d&&++G===l&&(D=_),(q=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=q}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vm={focusedElem:i,selectionRange:a},yh=!1,je=s;je!==null;)if(s=je,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,je=i;else for(;je!==null;){switch(s=je,d=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&d!==null){i=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=na(a.type,f);i=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Xt(a,a.return,vt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)Nm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Nm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,je=i;break}je=s.return}}function G_(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:cs(i,a),l&4&&Bl(5,a);break;case 1:if(cs(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(_){Xt(a,a.return,_)}else{var f=na(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Xt(a,a.return,_)}}l&64&&z_(a),l&512&&jl(a,a.return);break;case 3:if(cs(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Dv(i,s)}catch(_){Xt(a,a.return,_)}}break;case 27:s===null&&l&4&&q_(a);case 26:case 5:cs(i,a),s===null&&l&4&&j_(a),l&512&&jl(a,a.return);break;case 12:cs(i,a);break;case 31:cs(i,a),l&4&&Q_(i,a);break;case 13:cs(i,a),l&4&&X_(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=IC.bind(null,a),QC(i,a))));break;case 22:if(l=a.memoizedState!==null||ls,!l){s=s!==null&&s.memoizedState!==null||Ve,f=ls;var d=Ve;ls=l,(Ve=s)&&!d?hs(i,a,(a.subtreeFlags&8772)!==0):cs(i,a),ls=f,Ve=d}break;case 30:break;default:cs(i,a)}}function K_(i){var s=i.alternate;s!==null&&(i.alternate=null,K_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ma(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var le=null,mn=!1;function us(i,s,a){for(a=a.child;a!==null;)Y_(i,s,a),a=a.sibling}function Y_(i,s,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:Ve||Li(a,s),us(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ve||Li(a,s);var l=le,f=mn;Ws(a.type)&&(le=a.stateNode,mn=!1),us(i,s,a),$l(a.stateNode),le=l,mn=f;break;case 5:Ve||Li(a,s);case 6:if(l=le,f=mn,le=null,us(i,s,a),le=l,mn=f,le!==null)if(mn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(d){Xt(a,s,d)}else try{le.removeChild(a.stateNode)}catch(d){Xt(a,s,d)}break;case 18:le!==null&&(mn?(i=le,zT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),go(i)):zT(le,a.stateNode));break;case 4:l=le,f=mn,le=a.stateNode.containerInfo,mn=!0,us(i,s,a),le=l,mn=f;break;case 0:case 11:case 14:case 15:Gs(2,a,s),Ve||Gs(4,a,s),us(i,s,a);break;case 1:Ve||(Li(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&B_(a,s,l)),us(i,s,a);break;case 21:us(i,s,a);break;case 22:Ve=(l=Ve)||a.memoizedState!==null,us(i,s,a),Ve=l;break;default:us(i,s,a)}}function Q_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{go(i)}catch(a){Xt(s,s.return,a)}}}function X_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{go(i)}catch(a){Xt(s,s.return,a)}}function TC(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new H_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new H_),s;default:throw Error(r(435,i.tag))}}function Zc(i,s){var a=TC(i);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=DC.bind(null,i,l);l.then(f,f)}})}function pn(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=i,_=s,A=_;t:for(;A!==null;){switch(A.tag){case 27:if(Ws(A.type)){le=A.stateNode,mn=!1;break t}break;case 5:le=A.stateNode,mn=!1;break t;case 3:case 4:le=A.stateNode.containerInfo,mn=!0;break t}A=A.return}if(le===null)throw Error(r(160));Y_(d,_,f),le=null,mn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)$_(s,i),s=s.sibling}var li=null;function $_(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:pn(s,i),gn(i),l&4&&(Gs(3,i,i.return),Bl(3,i),Gs(5,i,i.return));break;case 1:pn(s,i),gn(i),l&512&&(Ve||a===null||Li(a,a.return)),l&64&&ls&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=li;if(pn(s,i),gn(i),l&512&&(Ve||a===null||Li(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ai]||d[be]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Qe(d,l,a),d[be]=i,we(d),l=d;break t;case"link":var _=$T("link","href",f).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break e}}d=f.createElement(l),Qe(d,l,a),f.head.appendChild(d);break;case"meta":if(_=$T("meta","content",f).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break e}}d=f.createElement(l),Qe(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[be]=i,we(d),l=d}i.stateNode=l}else ZT(f,i.type,i.stateNode);else i.stateNode=XT(f,l,i.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?ZT(f,i.type,i.stateNode):XT(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&rm(i,i.memoizedProps,a.memoizedProps)}break;case 27:pn(s,i),gn(i),l&512&&(Ve||a===null||Li(a,a.return)),a!==null&&l&4&&rm(i,i.memoizedProps,a.memoizedProps);break;case 5:if(pn(s,i),gn(i),l&512&&(Ve||a===null||Li(a,a.return)),i.flags&32){f=i.stateNode;try{dn(f,"")}catch(ct){Xt(i,i.return,ct)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,rm(i,f,a!==null?a.memoizedProps:f)),l&1024&&(lm=!0);break;case 6:if(pn(s,i),gn(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(ct){Xt(i,i.return,ct)}}break;case 3:if(dh=null,f=li,li=hh(s.containerInfo),pn(s,i),li=f,gn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{go(s.containerInfo)}catch(ct){Xt(i,i.return,ct)}lm&&(lm=!1,Z_(i));break;case 4:l=li,li=hh(i.stateNode.containerInfo),pn(s,i),gn(i),li=l;break;case 12:pn(s,i),gn(i);break;case 31:pn(s,i),gn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Zc(i,l)));break;case 13:pn(s,i),gn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jc=on()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Zc(i,l)));break;case 22:f=i.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,z=ls,G=Ve;if(ls=z||f,Ve=G||D,pn(s,i),Ve=G,ls=z,gn(i),l&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||ls||Ve||ia(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=D.stateNode;var X=D.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;A.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){Xt(D,D.return,ct)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ct){Xt(D,D.return,ct)}}}else if(s.tag===18){if(a===null){D=s;try{var q=D.stateNode;f?BT(q,!0):BT(D.stateNode,!1)}catch(ct){Xt(D,D.return,ct)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Zc(i,a))));break;case 19:pn(s,i),gn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Zc(i,l)));break;case 30:break;case 21:break;default:pn(s,i),gn(i)}}function gn(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(F_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=am(i);$c(i,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(dn(_,""),a.flags&=-33);var A=am(i);$c(i,A,_);break;case 3:case 4:var D=a.stateNode.containerInfo,z=am(i);om(i,z,D);break;default:throw Error(r(161))}}catch(G){Xt(i,i.return,G)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Z_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Z_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function cs(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)G_(i,s.alternate,s),s=s.sibling}function ia(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Gs(4,s,s.return),ia(s);break;case 1:Li(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&B_(s,s.return,a),ia(s);break;case 27:$l(s.stateNode);case 26:case 5:Li(s,s.return),ia(s);break;case 22:s.memoizedState===null&&ia(s);break;case 30:ia(s);break;default:ia(s)}i=i.sibling}}function hs(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=i,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:hs(f,d,a),Bl(4,d);break;case 1:if(hs(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){Xt(l,l.return,z)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Iv(D[f],A)}catch(z){Xt(l,l.return,z)}}a&&_&64&&z_(d),jl(d,d.return);break;case 27:q_(d);case 26:case 5:hs(f,d,a),a&&l===null&&_&4&&j_(d),jl(d,d.return);break;case 12:hs(f,d,a);break;case 31:hs(f,d,a),a&&_&4&&Q_(f,d);break;case 13:hs(f,d,a),a&&_&4&&X_(f,d);break;case 22:d.memoizedState===null&&hs(f,d,a),jl(d,d.return);break;case 30:break;default:hs(f,d,a)}s=s.sibling}}function um(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Cl(a))}function cm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Cl(i))}function ui(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)W_(i,s,a,l),s=s.sibling}function W_(i,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ui(i,s,a,l),f&2048&&Bl(9,s);break;case 1:ui(i,s,a,l);break;case 3:ui(i,s,a,l),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Cl(i)));break;case 12:if(f&2048){ui(i,s,a,l),i=s.stateNode;try{var d=s.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){Xt(s,s.return,D)}}else ui(i,s,a,l);break;case 31:ui(i,s,a,l);break;case 13:ui(i,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?ui(i,s,a,l):Fl(i,s):d._visibility&2?ui(i,s,a,l):(d._visibility|=2,so(i,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&um(_,s);break;case 24:ui(i,s,a,l),f&2048&&cm(s.alternate,s);break;default:ui(i,s,a,l)}}function so(i,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=i,_=s,A=a,D=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:so(d,_,A,D,f),Bl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?so(d,_,A,D,f):Fl(d,_):(G._visibility|=2,so(d,_,A,D,f)),f&&z&2048&&um(_.alternate,_);break;case 24:so(d,_,A,D,f),f&&z&2048&&cm(_.alternate,_);break;default:so(d,_,A,D,f)}s=s.sibling}}function Fl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,f=l.flags;switch(l.tag){case 22:Fl(a,l),f&2048&&um(l.alternate,l);break;case 24:Fl(a,l),f&2048&&cm(l.alternate,l);break;default:Fl(a,l)}s=s.sibling}}var ql=8192;function ro(i,s,a){if(i.subtreeFlags&ql)for(i=i.child;i!==null;)J_(i,s,a),i=i.sibling}function J_(i,s,a){switch(i.tag){case 26:ro(i,s,a),i.flags&ql&&i.memoizedState!==null&&aI(a,li,i.memoizedState,i.memoizedProps);break;case 5:ro(i,s,a);break;case 3:case 4:var l=li;li=hh(i.stateNode.containerInfo),ro(i,s,a),li=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=ql,ql=16777216,ro(i,s,a),ql=l):ro(i,s,a));break;default:ro(i,s,a)}}function tT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Hl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];je=l,nT(l,i)}tT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)eT(i),i=i.sibling}function eT(i){switch(i.tag){case 0:case 11:case 15:Hl(i),i.flags&2048&&Gs(9,i,i.return);break;case 3:Hl(i);break;case 12:Hl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Wc(i)):Hl(i);break;default:Hl(i)}}function Wc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];je=l,nT(l,i)}tT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Gs(8,s,s.return),Wc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Wc(s));break;default:Wc(s)}i=i.sibling}}function nT(i,s){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:Gs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=i;je!==null;){l=je;var f=l.sibling,d=l.return;if(K_(l),l===a){je=null;break t}if(f!==null){f.return=d,je=f;break t}je=d}}}var EC={getCacheForType:function(i){var s=Ke(Ce),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a},cacheSignal:function(){return Ke(Ce).controller.signal}},AC=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Mt=null,Ot=0,Qt=0,In=null,Ks=!1,ao=!1,hm=!1,fs=0,me=0,Ys=0,sa=0,fm=0,Dn=0,oo=0,Gl=null,yn=null,dm=!1,Jc=0,iT=0,th=1/0,eh=null,Qs=null,Le=0,Xs=null,lo=null,ds=0,mm=0,pm=null,sT=null,Kl=0,gm=null;function Vn(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:K.T!==null?Am():nc()}function rT(){if(Dn===0)if((Ot&536870912)===0||zt){var i=Mr;Mr<<=1,(Mr&3932160)===0&&(Mr=262144),Dn=i}else Dn=536870912;return i=Rn.current,i!==null&&(i.flags|=32),Dn}function vn(i,s,a){(i===ee&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(uo(i,0),$s(i,Ot,Dn,!1)),xr(i,a),((Gt&2)===0||i!==ee)&&(i===ee&&((Gt&2)===0&&(sa|=a),me===4&&$s(i,Ot,Dn,!1)),ki(i))}function aT(i,s,a){if((Gt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&i.expiredLanes)===0||Jn(i,s),f=l?wC(i,s):vm(i,s,!0),d=l;do{if(f===0){ao&&!l&&$s(i,s,0,!1);break}else{if(a=i.current.alternate,d&&!SC(a)){f=vm(i,s,!1),d=!1;continue}if(f===2){if(d=s,i.errorRecoveryDisabledLanes&d)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var A=i;f=Gl;var D=A.current.memoizedState.isDehydrated;if(D&&(uo(A,_).flags|=256),_=vm(A,_,!1),_!==2){if(hm&&!D){A.errorRecoveryDisabledLanes|=d,sa|=d,f=4;break t}d=yn,yn=f,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){uo(i,0),$s(i,s,0,!0);break}t:{switch(l=i,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:$s(l,s,Dn,!Ks);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Jc+300-on(),10<f)){if($s(l,s,Dn,!Ks),_i(l,0,!0)!==0)break t;ds=s,l.timeoutHandle=kT(oT.bind(null,l,a,yn,eh,dm,s,Dn,sa,oo,Ks,d,"Throttled",-0,0),f);break t}oT(l,a,yn,eh,dm,s,Dn,sa,oo,Ks,d,null,-0,0)}}break}while(!0);ki(i)}function oT(i,s,a,l,f,d,_,A,D,z,G,X,B,q){if(i.timeoutHandle=-1,X=s.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},J_(s,d,X);var ct=(d&62914560)===d?Jc-on():(d&4194048)===d?iT-on():0;if(ct=oI(X,ct),ct!==null){ds=d,i.cancelPendingCommit=ct(pT.bind(null,i,s,d,a,l,f,_,A,D,G,X,null,B,q)),$s(i,d,_,!z);return}}pT(i,s,d,a,l,f,_,A,D)}function SC(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!bn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $s(i,s,a,l){s&=~fm,s&=~sa,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var f=s;0<f;){var d=31-ge(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Nr(i,a,s)}function nh(){return(Gt&6)===0?(Yl(0),!1):!0}function ym(){if(Mt!==null){if(Qt===0)var i=Mt.return;else i=Mt,ns=Xr=null,Nd(i),Ja=null,Dl=0,i=Mt;for(;i!==null;)U_(i.alternate,i),i=i.return;Mt=null}}function uo(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,qC(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),ds=0,ym(),ee=i,Mt=a=ts(i.current,null),Ot=s,Qt=0,In=null,Ks=!1,ao=Jn(i,s),hm=!1,oo=Dn=fm=sa=Ys=me=0,yn=Gl=null,dm=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var f=31-ge(l),d=1<<f;s|=i[f],l&=~d}return fs=s,Sc(),a}function lT(i,s){Ct=null,K.H=kl,s===Wa||s===Mc?(s=bv(),Qt=3):s===Ed?(s=bv(),Qt=4):Qt=s===Xd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,In=s,Mt===null&&(me=1,Gc(i,Un(s,i.current)))}function uT(){var i=Rn.current;return i===null?!0:(Ot&4194048)===Ot?Fn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?i===Fn:!1}function cT(){var i=K.H;return K.H=kl,i===null?kl:i}function hT(){var i=K.A;return K.A=EC,i}function ih(){me=4,Ks||(Ot&4194048)!==Ot&&Rn.current!==null||(ao=!0),(Ys&134217727)===0&&(sa&134217727)===0||ee===null||$s(ee,Ot,Dn,!1)}function vm(i,s,a){var l=Gt;Gt|=2;var f=cT(),d=hT();(ee!==i||Ot!==s)&&(eh=null,uo(i,s)),s=!1;var _=me;t:do try{if(Qt!==0&&Mt!==null){var A=Mt,D=In;switch(Qt){case 8:ym(),_=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(s=!0);var z=Qt;if(Qt=0,In=null,co(i,A,D,z),a&&ao){_=0;break t}break;default:z=Qt,Qt=0,In=null,co(i,A,D,z)}}bC(),_=me;break}catch(G){lT(i,G)}while(!0);return s&&i.shellSuspendCounter++,ns=Xr=null,Gt=l,K.H=f,K.A=d,Mt===null&&(ee=null,Ot=0,Sc()),_}function bC(){for(;Mt!==null;)fT(Mt)}function wC(i,s){var a=Gt;Gt|=2;var l=cT(),f=hT();ee!==i||Ot!==s?(eh=null,th=on()+500,uo(i,s)):ao=Jn(i,s);t:do try{if(Qt!==0&&Mt!==null){s=Mt;var d=In;e:switch(Qt){case 1:Qt=0,In=null,co(i,s,d,1);break;case 2:case 9:if(Av(d)){Qt=0,In=null,dT(s);break}s=function(){Qt!==2&&Qt!==9||ee!==i||(Qt=7),ki(i)},d.then(s,s);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Av(d)?(Qt=0,In=null,dT(s)):(Qt=0,In=null,co(i,s,d,7));break;case 5:var _=null;switch(Mt.tag){case 26:_=Mt.memoizedState;case 5:case 27:var A=Mt;if(_?WT(_):A.stateNode.complete){Qt=0,In=null;var D=A.sibling;if(D!==null)Mt=D;else{var z=A.return;z!==null?(Mt=z,sh(z)):Mt=null}break e}}Qt=0,In=null,co(i,s,d,5);break;case 6:Qt=0,In=null,co(i,s,d,6);break;case 8:ym(),me=6;break t;default:throw Error(r(462))}}RC();break}catch(G){lT(i,G)}while(!0);return ns=Xr=null,K.H=l,K.A=f,Gt=a,Mt!==null?0:(ee=null,Ot=0,Sc(),me)}function RC(){for(;Mt!==null&&!Qf();)fT(Mt)}function fT(i){var s=L_(i.alternate,i,fs);i.memoizedProps=i.pendingProps,s===null?sh(i):Mt=s}function dT(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=V_(a,s,s.pendingProps,s.type,void 0,Ot);break;case 11:s=V_(a,s,s.pendingProps,s.type.render,s.ref,Ot);break;case 5:Nd(s);default:U_(a,s),s=Mt=hv(s,fs),s=L_(a,s,fs)}i.memoizedProps=i.pendingProps,s===null?sh(i):Mt=s}function co(i,s,a,l){ns=Xr=null,Nd(s),Ja=null,Dl=0;var f=s.return;try{if(mC(i,f,s,a,Ot)){me=1,Gc(i,Un(a,i.current)),Mt=null;return}}catch(d){if(f!==null)throw Mt=f,d;me=1,Gc(i,Un(a,i.current)),Mt=null;return}s.flags&32768?(zt||l===1?i=!0:ao||(Ot&536870912)!==0?i=!1:(Ks=i=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),mT(s,i)):sh(s)}function sh(i){var s=i;do{if((s.flags&32768)!==0){mT(s,Ks);return}i=s.return;var a=yC(s.alternate,s,fs);if(a!==null){Mt=a;return}if(s=s.sibling,s!==null){Mt=s;return}Mt=s=i}while(s!==null);me===0&&(me=5)}function mT(i,s){do{var a=vC(i.alternate,i);if(a!==null){a.flags&=32767,Mt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=a}while(i!==null);me=6,Mt=null}function pT(i,s,a,l,f,d,_,A,D){i.cancelPendingCommit=null;do rh();while(Le!==0);if((Gt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=ad,Zf(i,a,d,_,A,D),i===ee&&(Mt=ee=null,Ot=0),lo=s,Xs=i,ds=a,mm=d,pm=f,sT=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,VC(Rs,function(){return TT(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=nt.p,nt.p=2,_=Gt,Gt|=4;try{_C(i,s,a)}finally{Gt=_,nt.p=f,K.T=l}}Le=1,gT(),yT(),vT()}}function gT(){if(Le===1){Le=0;var i=Xs,s=lo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=nt.p;nt.p=2;var f=Gt;Gt|=4;try{$_(s,i);var d=Vm,_=nv(i.containerInfo),A=d.focusedElem,D=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&ev(A.ownerDocument.documentElement,A)){if(D!==null&&ed(A)){var z=D.start,G=D.end;if(G===void 0&&(G=z),"selectionStart"in A)A.selectionStart=z,A.selectionEnd=Math.min(G,A.value.length);else{var X=A.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var q=B.getSelection(),ct=A.textContent.length,vt=Math.min(D.start,ct),Jt=D.end===void 0?vt:Math.min(D.end,ct);!q.extend&&vt>Jt&&(_=Jt,Jt=vt,vt=_);var P=tv(A,vt),M=tv(A,Jt);if(P&&M&&(q.rangeCount!==1||q.anchorNode!==P.node||q.anchorOffset!==P.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var U=X.createRange();U.setStart(P.node,P.offset),q.removeAllRanges(),vt>Jt?(q.addRange(U),q.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),q.addRange(U))}}}}for(X=[],q=A;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<X.length;A++){var Q=X[A];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}yh=!!Dm,Vm=Dm=null}finally{Gt=f,nt.p=l,K.T=a}}i.current=s,Le=2}}function yT(){if(Le===2){Le=0;var i=Xs,s=lo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=nt.p;nt.p=2;var f=Gt;Gt|=4;try{G_(i,s.alternate,s)}finally{Gt=f,nt.p=l,K.T=a}}Le=3}}function vT(){if(Le===4||Le===3){Le=0,Xu();var i=Xs,s=lo,a=ds,l=sT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Le=5:(Le=0,lo=Xs=null,_T(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Qs=null),$i(a),s=s.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Wn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=K.T,f=nt.p,nt.p=2,K.T=null;try{for(var d=i.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{K.T=s,nt.p=f}}(ds&3)!==0&&rh(),ki(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===gm?Kl++:(Kl=0,gm=i):Kl=0,Yl(0)}}function _T(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Cl(s)))}function rh(){return gT(),yT(),vT(),TT()}function TT(){if(Le!==5)return!1;var i=Xs,s=mm;mm=0;var a=$i(ds),l=K.T,f=nt.p;try{nt.p=32>a?32:a,K.T=null,a=pm,pm=null;var d=Xs,_=ds;if(Le=0,lo=Xs=null,ds=0,(Gt&6)!==0)throw Error(r(331));var A=Gt;if(Gt|=4,eT(d.current),W_(d,d.current,_,a),Gt=A,Yl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Wn,d)}catch{}return!0}finally{nt.p=f,K.T=l,_T(i,s)}}function ET(i,s,a){s=Un(a,s),s=Qd(i.stateNode,s,2),i=Fs(i,s,2),i!==null&&(xr(i,2),ki(i))}function Xt(i,s,a){if(i.tag===3)ET(i,i,a);else for(;s!==null;){if(s.tag===3){ET(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qs===null||!Qs.has(l))){i=Un(a,i),a=A_(2),l=Fs(s,a,2),l!==null&&(S_(a,l,s,i),xr(l,2),ki(l));break}}s=s.return}}function _m(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new AC;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(hm=!0,f.add(a),i=CC.bind(null,i,s,a),s.then(i,i))}function CC(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ee===i&&(Ot&a)===a&&(me===4||me===3&&(Ot&62914560)===Ot&&300>on()-Jc?(Gt&2)===0&&uo(i,0):fm|=a,oo===Ot&&(oo=0)),ki(i)}function AT(i,s){s===0&&(s=ec()),i=Kr(i,s),i!==null&&(xr(i,s),ki(i))}function IC(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),AT(i,a)}function DC(i,s){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),AT(i,a)}function VC(i,s){return Pe(i,s)}var ah=null,ho=null,Tm=!1,oh=!1,Em=!1,Zs=0;function ki(i){i!==ho&&i.next===null&&(ho===null?ah=ho=i:ho=ho.next=i),oh=!0,Tm||(Tm=!0,xC())}function Yl(i,s){if(!Em&&oh){Em=!0;do for(var a=!1,l=ah;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-ge(42|i)+1)-1,d&=f&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,RT(l,d))}else d=Ot,d=_i(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Jn(l,d)||(a=!0,RT(l,d));l=l.next}while(a);Em=!1}}function MC(){ST()}function ST(){oh=Tm=!1;var i=0;Zs!==0&&FC()&&(i=Zs);for(var s=on(),a=null,l=ah;l!==null;){var f=l.next,d=bT(l,s);d===0?(l.next=null,a===null?ah=f:a.next=f,f===null&&(ho=a)):(a=l,(i!==0||(d&3)!==0)&&(oh=!0)),l=f}Le!==0&&Le!==5||Yl(i),Zs!==0&&(Zs=0)}function bT(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,d=i.pendingLanes&-62914561;0<d;){var _=31-ge(d),A=1<<_,D=f[_];D===-1?((A&a)===0||(A&l)!==0)&&(f[_]=$f(A,s)):D<=s&&(i.expiredLanes|=A),d&=~A}if(s=ee,a=Ot,a=_i(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&ws(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Jn(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&ws(l),$i(a)){case 2:case 8:a=il;break;case 32:a=Rs;break;case 268435456:a=$u;break;default:a=Rs}return l=wT.bind(null,i),a=Pe(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&ws(l),i.callbackPriority=2,i.callbackNode=null,2}function wT(i,s){if(Le!==0&&Le!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(rh()&&i.callbackNode!==a)return null;var l=Ot;return l=_i(i,i===ee?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(aT(i,l,s),bT(i,on()),i.callbackNode!=null&&i.callbackNode===a?wT.bind(null,i):null)}function RT(i,s){if(rh())return null;aT(i,s,!0)}function xC(){HC(function(){(Gt&6)!==0?Pe(nl,MC):ST()})}function Am(){if(Zs===0){var i=$a;i===0&&(i=yi,yi<<=1,(yi&261888)===0&&(yi=256)),Zs=i}return Zs}function CT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Pa(""+i)}function IT(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function NC(i,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=CT((f[ze]||null).action),_=l.submitter;_&&(s=(s=_[ze]||null)?CT(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var A=new Vi("action","action",null,l,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zs!==0){var D=_?IT(f,_):new FormData(f);Fd(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(A.preventDefault(),D=_?IT(f,_):new FormData(f),Fd(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Sm=0;Sm<rd.length;Sm++){var bm=rd[Sm],OC=bm.toLowerCase(),PC=bm[0].toUpperCase()+bm.slice(1);oi(OC,"on"+PC)}oi(rv,"onAnimationEnd"),oi(av,"onAnimationIteration"),oi(ov,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(ZR,"onTransitionRun"),oi(WR,"onTransitionStart"),oi(JR,"onTransitionCancel"),oi(lv,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function DT(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var A=l[_],D=A.instance,z=A.currentTarget;if(A=A.listener,D!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=z;try{d(f)}catch(G){Ac(G)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(A=l[_],D=A.instance,z=A.currentTarget,A=A.listener,D!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=z;try{d(f)}catch(G){Ac(G)}f.currentTarget=null,d=D}}}}function xt(i,s){var a=s[Va];a===void 0&&(a=s[Va]=new Set);var l=i+"__bubble";a.has(l)||(VT(s,i,2,!1),a.add(l))}function wm(i,s,a){var l=0;s&&(l|=4),VT(a,i,l,s)}var lh="_reactListening"+Math.random().toString(36).slice(2);function Rm(i){if(!i[lh]){i[lh]=!0,al.forEach(function(a){a!=="selectionchange"&&(LC.has(a)||wm(a,!1,i),wm(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[lh]||(s[lh]=!0,wm("selectionchange",!1,s))}}function VT(i,s,a,l){switch(r0(s)){case 2:var f=cI;break;case 8:f=hI;break;default:f=jm}a=f.bind(null,s,a,i),f=void 0,!Ur||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function Cm(i,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=Si(A),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue t}A=A.parentNode}}l=l.return}xs(function(){var z=d,G=On(a),X=[];t:{var B=uv.get(i);if(B!==void 0){var q=Vi,ct=i;switch(i){case"keypress":if(Br(a)===0)break t;case"keydown":case"keyup":q=_c;break;case"focusin":ct="focus",q=Fr;break;case"focusout":ct="blur",q=Fr;break;case"beforeblur":case"afterblur":q=Fr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=_l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=y;break;case rv:case av:case ov:q=fc;break;case lv:q=b;break;case"scroll":case"scrollend":q=vl;break;case"wheel":q=F;break;case"copy":case"cut":case"paste":q=dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ji;break;case"toggle":case"beforetoggle":q=Rt}var vt=(s&4)!==0,Jt=!vt&&(i==="scroll"||i==="scrollend"),P=vt?B!==null?B+"Capture":null:B;vt=[];for(var M=z,U;M!==null;){var Q=M;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||P===null||(Q=ii(M,P),Q!=null&&vt.push(Xl(M,Q,U))),Jt)break;M=M.return}0<vt.length&&(B=new q(B,ct,null,a,G),X.push({event:B,listeners:vt}))}}if((s&7)===0){t:{if(B=i==="mouseover"||i==="pointerover",q=i==="mouseout"||i==="pointerout",B&&a!==pl&&(ct=a.relatedTarget||a.fromElement)&&(Si(ct)||ct[Ei]))break t;if((q||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,q?(ct=a.relatedTarget||a.toElement,q=z,ct=ct?Si(ct):null,ct!==null&&(Jt=u(ct),vt=ct.tag,ct!==Jt||vt!==5&&vt!==27&&vt!==6)&&(ct=null)):(q=null,ct=z),q!==ct)){if(vt=_l,Q="onMouseLeave",P="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(vt=Ji,Q="onPointerLeave",P="onPointerEnter",M="pointer"),Jt=q==null?B:An(q),U=ct==null?B:An(ct),B=new vt(Q,M+"leave",q,a,G),B.target=Jt,B.relatedTarget=U,Q=null,Si(G)===z&&(vt=new vt(P,M+"enter",ct,a,G),vt.target=U,vt.relatedTarget=Jt,Q=vt),Jt=Q,q&&ct)e:{for(vt=kC,P=q,M=ct,U=0,Q=P;Q;Q=vt(Q))U++;Q=0;for(var pt=M;pt;pt=vt(pt))Q++;for(;0<U-Q;)P=vt(P),U--;for(;0<Q-U;)M=vt(M),Q--;for(;U--;){if(P===M||M!==null&&P===M.alternate){vt=P;break e}P=vt(P),M=vt(M)}vt=null}else vt=null;q!==null&&MT(X,B,q,vt,!1),ct!==null&&Jt!==null&&MT(X,Jt,ct,vt,!0)}}t:{if(B=z?An(z):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var Ft=Qy;else if(Ky(B))if(Xy)Ft=QR;else{Ft=KR;var ft=GR}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Oa(z.elementType)&&(Ft=Qy):Ft=YR;if(Ft&&(Ft=Ft(i,z))){Yy(X,Ft,a,G);break t}ft&&ft(i,B,z),i==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&fl(B,"number",B.value)}switch(ft=z?An(z):window,i){case"focusin":(Ky(ft)||ft.contentEditable==="true")&&(Fa=ft,nd=z,bl=null);break;case"focusout":bl=nd=Fa=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,iv(X,a,G);break;case"selectionchange":if($R)break;case"keydown":case"keyup":iv(X,a,G)}var Vt;if(Ht)t:{switch(i){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else ja?qr(i,a)&&(Pt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Pt="onCompositionStart");Pt&&(Ni&&a.locale!=="ko"&&(ja||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&ja&&(Vt=yl()):(Di=G,gl="value"in Di?Di.value:Di.textContent,ja=!0)),ft=uh(z,Pt),0<ft.length&&(Pt=new xi(Pt,i,null,a,G),X.push({event:Pt,listeners:ft}),Vt?Pt.data=Vt:(Vt=Ba(a),Vt!==null&&(Pt.data=Vt)))),(Vt=Ln?jR(i,a):FR(i,a))&&(Pt=uh(z,"onBeforeInput"),0<Pt.length&&(ft=new xi("onBeforeInput","beforeinput",null,a,G),X.push({event:ft,listeners:Pt}),ft.data=Vt)),NC(X,i,z,a,G)}DT(X,s)})}function Xl(i,s,a){return{instance:i,listener:s,currentTarget:a}}function uh(i,s){for(var a=s+"Capture",l=[];i!==null;){var f=i,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ii(i,a),f!=null&&l.unshift(Xl(i,f,d)),f=ii(i,s),f!=null&&l.push(Xl(i,f,d))),i.tag===3)return l;i=i.return}return[]}function kC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function MT(i,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var A=a,D=A.alternate,z=A.stateNode;if(A=A.tag,D!==null&&D===l)break;A!==5&&A!==26&&A!==27||z===null||(D=z,f?(z=ii(a,d),z!=null&&_.unshift(Xl(a,z,D))):f||(z=ii(a,d),z!=null&&_.push(Xl(a,z,D)))),a=a.return}_.length!==0&&i.push({event:s,listeners:_})}var UC=/\r\n?/g,zC=/\u0000|\uFFFD/g;function xT(i){return(typeof i=="string"?i:""+i).replace(UC,`
`).replace(zC,"")}function NT(i,s){return s=xT(s),xT(i)===s}function Wt(i,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||dn(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&dn(i,""+l);break;case"className":Sn(i,"class",l);break;case"tabIndex":Sn(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(i,a,l);break;case"style":ml(i,l,d);break;case"data":if(s!=="object"){Sn(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Pa(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Wt(i,s,"name",f.name,f,null),Wt(i,s,"formEncType",f.formEncType,f,null),Wt(i,s,"formMethod",f.formMethod,f,null),Wt(i,s,"formTarget",f.formTarget,f,null)):(Wt(i,s,"encType",f.encType,f,null),Wt(i,s,"method",f.method,f,null),Wt(i,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Pa(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=ni);break;case"onScroll":l!=null&&xt("scroll",i);break;case"onScrollEnd":l!=null&&xt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Pa(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":xt("beforetoggle",i),xt("toggle",i),xa(i,"popover",l);break;case"xlinkActuate":Re(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Re(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Re(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Re(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Re(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Re(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Re(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Re(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Re(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xa(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uc.get(a)||a,xa(i,a,l))}}function Im(i,s,a,l,f,d){switch(a){case"style":ml(i,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?dn(i,l):(typeof l=="number"||typeof l=="bigint")&&dn(i,""+l);break;case"onScroll":l!=null&&xt("scroll",i);break;case"onScrollEnd":l!=null&&xt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ol.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=i[ze]||null,d=d!=null?d[a]:null,typeof d=="function"&&i.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):xa(i,a,l)}}}function Qe(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",i),xt("load",i);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(i,s,d,_,a,null)}}f&&Wt(i,s,"srcSet",a.srcSet,a,null),l&&Wt(i,s,"src",a.src,a,null);return;case"input":xt("invalid",i);var A=d=_=f=null,D=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":f=G;break;case"type":_=G;break;case"checked":D=G;break;case"defaultChecked":z=G;break;case"value":d=G;break;case"defaultValue":A=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:Wt(i,s,l,G,a,null)}}ac(i,d,A,D,z,_,f,!1);return;case"select":xt("invalid",i),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:Wt(i,s,f,A,a,null)}s=d,a=_,i.multiple=!!l,s!=null?Is(i,!!l,s,!1):a!=null&&Is(i,!!l,a,!0);return;case"textarea":xt("invalid",i),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Wt(i,s,_,A,a,null)}Ds(i,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(i,s,D,l,a,null)}return;case"dialog":xt("beforetoggle",i),xt("toggle",i),xt("cancel",i),xt("close",i);break;case"iframe":case"object":xt("load",i);break;case"video":case"audio":for(l=0;l<Ql.length;l++)xt(Ql[l],i);break;case"image":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"embed":case"source":case"link":xt("error",i),xt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(i,s,z,l,a,null)}return;default:if(Oa(s)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Im(i,s,G,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Wt(i,s,A,l,a,null))}function BC(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,A=null,D=null,z=null,G=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":D=X;default:l.hasOwnProperty(q)||Wt(i,s,q,null,l,X)}}for(var B in l){var q=l[B];if(X=a[B],l.hasOwnProperty(B)&&(q!=null||X!=null))switch(B){case"type":d=q;break;case"name":f=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":_=q;break;case"defaultValue":A=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:q!==X&&Wt(i,s,B,q,l,X)}}Na(i,_,A,D,z,G,d,f);return;case"select":q=_=A=B=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":q=D;default:l.hasOwnProperty(d)||Wt(i,s,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":B=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==D&&Wt(i,s,f,d,l,D)}s=A,a=_,l=q,B!=null?Is(i,!!a,B,!1):!!l!=!!a&&(s!=null?Is(i,!!a,s,!0):Is(i,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Wt(i,s,A,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":B=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Wt(i,s,_,f,l,d)}oc(i,B,q);return;case"option":for(var ct in a)if(B=a[ct],a.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":i.selected=!1;break;default:Wt(i,s,ct,null,l,B)}for(D in l)if(B=l[D],q=a[D],l.hasOwnProperty(D)&&B!==q&&(B!=null||q!=null))switch(D){case"selected":i.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Wt(i,s,D,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)B=a[vt],a.hasOwnProperty(vt)&&B!=null&&!l.hasOwnProperty(vt)&&Wt(i,s,vt,null,l,B);for(z in l)if(B=l[z],q=a[z],l.hasOwnProperty(z)&&B!==q&&(B!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,s));break;default:Wt(i,s,z,B,l,q)}return;default:if(Oa(s)){for(var Jt in a)B=a[Jt],a.hasOwnProperty(Jt)&&B!==void 0&&!l.hasOwnProperty(Jt)&&Im(i,s,Jt,void 0,l,B);for(G in l)B=l[G],q=a[G],!l.hasOwnProperty(G)||B===q||B===void 0&&q===void 0||Im(i,s,G,B,l,q);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!l.hasOwnProperty(P)&&Wt(i,s,P,null,l,B);for(X in l)B=l[X],q=a[X],!l.hasOwnProperty(X)||B===q||B==null&&q==null||Wt(i,s,X,B,l,q)}function OT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,A=f.duration;if(d&&A&&OT(_)){for(_=0,A=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],z=D.startTime;if(z>A)break;var G=D.transferSize,X=D.initiatorType;G&&OT(X)&&(D=D.responseEnd,_+=G*(D<A?1:(A-z)/(D-z)))}if(--l,s+=8*(d+_)/(f.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Dm=null,Vm=null;function ch(i){return i.nodeType===9?i:i.ownerDocument}function PT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Mm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var xm=null;function FC(){var i=window.event;return i&&i.type==="popstate"?i===xm?!1:(xm=i,!0):(xm=null,!1)}var kT=typeof setTimeout=="function"?setTimeout:void 0,qC=typeof clearTimeout=="function"?clearTimeout:void 0,UT=typeof Promise=="function"?Promise:void 0,HC=typeof queueMicrotask=="function"?queueMicrotask:typeof UT<"u"?function(i){return UT.resolve(null).then(i).catch(GC)}:kT;function GC(i){setTimeout(function(){throw i})}function Ws(i){return i==="head"}function zT(i,s){var a=s,l=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(f),go(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")$l(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,$l(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[Ai]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&$l(i.ownerDocument.body);a=f}while(a);go(s)}function BT(i,s){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function Nm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nm(a),Ma(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function KC(i,s,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Ai])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(d=i.getAttribute("rel"),d==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(d!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(d=i.getAttribute("src"),(d!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===d)return i}else return i;if(i=qn(i.nextSibling),i===null)break}return null}function YC(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=qn(i.nextSibling),i===null))return null;return i}function jT(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=qn(i.nextSibling),i===null))return null;return i}function Om(i){return i.data==="$?"||i.data==="$~"}function Pm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function QC(i,s){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function qn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Lm=null;function FT(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(s===0)return qn(i.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}i=i.nextSibling}return null}function qT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return i;s--}else a!=="/$"&&a!=="/&"||s++}i=i.previousSibling}return null}function HT(i,s,a){switch(s=ch(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function $l(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ma(i)}var Hn=new Map,GT=new Set;function hh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ms=nt.d;nt.d={f:XC,r:$C,D:ZC,C:WC,L:JC,m:tI,X:nI,S:eI,M:iI};function XC(){var i=ms.f(),s=nh();return i||s}function $C(i){var s=Nn(i);s!==null&&s.tag===5&&s.type==="form"?l_(s):ms.r(i)}var fo=typeof document>"u"?null:document;function KT(i,s,a){var l=fo;if(l&&typeof s=="string"&&s){var f=fn(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),GT.has(f)||(GT.add(f),i={rel:i,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Qe(s,"link",i),we(s),l.head.appendChild(s)))}}function ZC(i){ms.D(i),KT("dns-prefetch",i,null)}function WC(i,s){ms.C(i,s),KT("preconnect",i,s)}function JC(i,s,a){ms.L(i,s,a);var l=fo;if(l&&i&&s){var f='link[rel="preload"][as="'+fn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+fn(a.imageSizes)+'"]')):f+='[href="'+fn(i)+'"]';var d=f;switch(s){case"style":d=mo(i);break;case"script":d=po(i)}Hn.has(d)||(i=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),Hn.set(d,i),l.querySelector(f)!==null||s==="style"&&l.querySelector(Zl(d))||s==="script"&&l.querySelector(Wl(d))||(s=l.createElement("link"),Qe(s,"link",i),we(s),l.head.appendChild(s)))}}function tI(i,s){ms.m(i,s);var a=fo;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(i)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=po(i)}if(!Hn.has(d)&&(i=E({rel:"modulepreload",href:i},s),Hn.set(d,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wl(d)))return}l=a.createElement("link"),Qe(l,"link",i),we(l),a.head.appendChild(l)}}}function eI(i,s,a){ms.S(i,s,a);var l=fo;if(l&&i){var f=bi(l).hoistableStyles,d=mo(i);s=s||"default";var _=f.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(Zl(d)))A.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":s},a),(a=Hn.get(d))&&km(i,a);var D=_=l.createElement("link");we(D),Qe(D,"link",i),D._p=new Promise(function(z,G){D.onload=z,D.onerror=G}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,fh(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(d,_)}}}function nI(i,s){ms.X(i,s);var a=fo;if(a&&i){var l=bi(a).hoistableScripts,f=po(i),d=l.get(f);d||(d=a.querySelector(Wl(f)),d||(i=E({src:i,async:!0},s),(s=Hn.get(f))&&Um(i,s),d=a.createElement("script"),we(d),Qe(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function iI(i,s){ms.M(i,s);var a=fo;if(a&&i){var l=bi(a).hoistableScripts,f=po(i),d=l.get(f);d||(d=a.querySelector(Wl(f)),d||(i=E({src:i,async:!0,type:"module"},s),(s=Hn.get(f))&&Um(i,s),d=a.createElement("script"),we(d),Qe(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function YT(i,s,a,l){var f=(f=Dt.current)?hh(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=mo(a.href),a=bi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=mo(a.href);var d=bi(f).hoistableStyles,_=d.get(i);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(i,_),(d=f.querySelector(Zl(i)))&&!d._p&&(_.instance=d,_.state.loading=5),Hn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(i,a),d||sI(f,i,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=po(a),a=bi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function mo(i){return'href="'+fn(i)+'"'}function Zl(i){return'link[rel="stylesheet"]['+i+"]"}function QT(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function sI(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Qe(s,"link",a),we(s),i.head.appendChild(s))}function po(i){return'[src="'+fn(i)+'"]'}function Wl(i){return"script[async]"+i}function XT(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return s.instance=l,we(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),we(l),Qe(l,"style",f),fh(l,a.precedence,i),s.instance=l;case"stylesheet":f=mo(a.href);var d=i.querySelector(Zl(f));if(d)return s.state.loading|=4,s.instance=d,we(d),d;l=QT(a),(f=Hn.get(f))&&km(l,f),d=(i.ownerDocument||i).createElement("link"),we(d);var _=d;return _._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),Qe(d,"link",l),s.state.loading|=4,fh(d,a.precedence,i),s.instance=d;case"script":return d=po(a.src),(f=i.querySelector(Wl(d)))?(s.instance=f,we(f),f):(l=a,(f=Hn.get(d))&&(l=E({},a),Um(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),we(f),Qe(f,"link",l),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,fh(l,a.precedence,i));return s.instance}function fh(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===s)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(i,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function km(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Um(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var dh=null;function $T(i,s,a){if(dh===null){var l=new Map,f=dh=new Map;f.set(a,l)}else f=dh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var d=a[f];if(!(d[Ai]||d[be]||i==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=i+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function ZT(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function rI(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function WT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function aI(i,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=mo(l.href),d=s.querySelector(Zl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=mh.bind(i),s.then(i,i)),a.state.loading|=4,a.instance=d,we(d);return}d=s.ownerDocument||s,l=QT(l),(f=Hn.get(f))&&km(l,f),d=d.createElement("link"),we(d);var _=d;_._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),Qe(d,"link",l),a.instance=d}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=mh.bind(i),s.addEventListener("load",a),s.addEventListener("error",a))}}var zm=0;function oI(i,s){return i.stylesheets&&i.count===0&&gh(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&gh(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4+s);0<i.imgBytes&&zm===0&&(zm=62500*jC());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&gh(i,i.stylesheets),i.unsuspend)){var d=i.unsuspend;i.unsuspend=null,d()}},(i.imgBytes>zm?50:800)+s);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ph=null;function gh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ph=new Map,s.forEach(lI,i),ph=null,mh.call(i))}function lI(i,s){if(!(s.state.loading&4)){var a=ph.get(i);if(a)var l=a.get(null);else{a=new Map,ph.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=mh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var Jl={$$typeof:J,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function uI(i,s,a,l,f,d,_,A,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function JT(i,s,a,l,f,d,_,A,D,z,G,X){return i=new uI(i,s,a,_,D,z,G,X,A),s=1,d===!0&&(s|=24),d=wn(3,null,null,s),i.current=d,d.stateNode=i,s=vd(),s.refCount++,i.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Ad(d),i}function t0(i){return i?(i=Ga,i):Ga}function e0(i,s,a,l,f,d){f=t0(f),l.context===null?l.context=f:l.pendingContext=f,l=js(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Fs(i,l,s),a!==null&&(vn(a,i,s),Ml(a,i,s))}function n0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function Bm(i,s){n0(i,s),(i=i.alternate)&&n0(i,s)}function i0(i){if(i.tag===13||i.tag===31){var s=Kr(i,67108864);s!==null&&vn(s,i,67108864),Bm(i,67108864)}}function s0(i){if(i.tag===13||i.tag===31){var s=Vn();s=Or(s);var a=Kr(i,s);a!==null&&vn(a,i,s),Bm(i,s)}}var yh=!0;function cI(i,s,a,l){var f=K.T;K.T=null;var d=nt.p;try{nt.p=2,jm(i,s,a,l)}finally{nt.p=d,K.T=f}}function hI(i,s,a,l){var f=K.T;K.T=null;var d=nt.p;try{nt.p=8,jm(i,s,a,l)}finally{nt.p=d,K.T=f}}function jm(i,s,a,l){if(yh){var f=Fm(l);if(f===null)Cm(i,s,l,vh,a),a0(i,l);else if(dI(f,i,s,a,l))l.stopPropagation();else if(a0(i,l),s&4&&-1<fI.indexOf(i)){for(;f!==null;){var d=Nn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=vi(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var D=1<<31-ge(_);A.entanglements[1]|=D,_&=~D}ki(d),(Gt&6)===0&&(th=on()+500,Yl(0))}}break;case 31:case 13:A=Kr(d,2),A!==null&&vn(A,d,2),nh(),Bm(d,2)}if(d=Fm(l),d===null&&Cm(i,s,l,vh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Cm(i,s,l,null,a)}}function Fm(i){return i=On(i),qm(i)}var vh=null;function qm(i){if(vh=null,i=Si(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===31){if(i=m(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return vh=i,null}function r0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vr()){case nl:return 2;case il:return 8;case Rs:case Xf:return 32;case $u:return 268435456;default:return 32}default:return 32}}var Hm=!1,Js=null,tr=null,er=null,tu=new Map,eu=new Map,nr=[],fI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a0(i,s){switch(i){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":tu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(s.pointerId)}}function nu(i,s,a,l,f,d){return i===null||i.nativeEvent!==d?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Nn(s),s!==null&&i0(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function dI(i,s,a,l,f){switch(s){case"focusin":return Js=nu(Js,i,s,a,l,f),!0;case"dragenter":return tr=nu(tr,i,s,a,l,f),!0;case"mouseover":return er=nu(er,i,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return tu.set(d,nu(tu.get(d)||null,i,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,eu.set(d,nu(eu.get(d)||null,i,s,a,l,f)),!0}return!1}function o0(i){var s=Si(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,ti(i.priority,function(){s0(a)});return}}else if(s===31){if(s=m(a),s!==null){i.blockedOn=s,ti(i.priority,function(){s0(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function _h(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=Fm(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);pl=l,a.target.dispatchEvent(l),pl=null}else return s=Nn(a),s!==null&&i0(s),i.blockedOn=a,!1;s.shift()}return!0}function l0(i,s,a){_h(i)&&a.delete(s)}function mI(){Hm=!1,Js!==null&&_h(Js)&&(Js=null),tr!==null&&_h(tr)&&(tr=null),er!==null&&_h(er)&&(er=null),tu.forEach(l0),eu.forEach(l0)}function Th(i,s){i.blockedOn===s&&(i.blockedOn=null,Hm||(Hm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mI)))}var Eh=null;function u0(i){Eh!==i&&(Eh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Eh===i&&(Eh=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],f=i[s+2];if(typeof l!="function"){if(qm(l||a)===null)continue;break}var d=Nn(a);d!==null&&(i.splice(s,3),s-=3,Fd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function go(i){function s(D){return Th(D,i)}Js!==null&&Th(Js,i),tr!==null&&Th(tr,i),er!==null&&Th(er,i),tu.forEach(s),eu.forEach(s);for(var a=0;a<nr.length;a++){var l=nr[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<nr.length&&(a=nr[0],a.blockedOn===null);)o0(a),a.blockedOn===null&&nr.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[ze]||null;if(typeof d=="function")_||u0(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[ze]||null)A=_.formAction;else if(qm(f)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),u0(a)}}}function c0(){function i(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Gm(i){this._internalRoot=i}Ah.prototype.render=Gm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Vn();e0(a,l,i,s,null,null)},Ah.prototype.unmount=Gm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;e0(i.current,2,null,i,null,null),nh(),s[Ei]=null}};function Ah(i){this._internalRoot=i}Ah.prototype.unstable_scheduleHydration=function(i){if(i){var s=nc();i={blockedOn:null,target:i,priority:s};for(var a=0;a<nr.length&&s!==0&&s<nr[a].priority;a++);nr.splice(a,0,i),a===0&&o0(i)}};var h0=t.version;if(h0!=="19.2.0")throw Error(r(527,h0,"19.2.0"));nt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var pI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{Wn=Sh.inject(pI),qe=Sh}catch{}}return su.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",f=v_,d=__,_=T_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=JT(i,1,!1,null,null,a,l,null,f,d,_,c0),i[Ei]=s.current,Rm(i),new Gm(s)},su.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,f="",d=v_,_=__,A=T_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=JT(i,1,!0,s,a??null,l,f,D,d,_,A,c0),s.context=t0(null),a=s.current,l=Vn(),l=Or(l),f=js(l),f.callback=null,Fs(a,f,l),a=l,s.current.lanes=a,xr(s,a),ki(s),i[Ei]=s.current,Rm(i),new Ah(s)},su.version="19.2.0",su}var E0;function wI(){if(E0)return Qm.exports;E0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qm.exports=bI(),Qm.exports}var RI=wI();const mS=yt.createContext({});function CI(e){const t=yt.useRef(null);return t.current===null&&(t.current=e()),t.current}const Sg=typeof window<"u",II=Sg?yt.useLayoutEffect:yt.useEffect,bg=yt.createContext(null);function wg(e,t){e.indexOf(t)===-1&&e.push(t)}function Rg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const vs=(e,t,n)=>n>t?t:n<e?e:n;let Cg=()=>{};const _s={},pS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function gS(e){return typeof e=="object"&&e!==null}const yS=e=>/^0[^.\s]+$/u.test(e);function Ig(e){let t;return()=>(t===void 0&&(t=e()),t)}const $n=e=>e,DI=(e,t)=>n=>t(e(n)),Lu=(...e)=>e.reduce(DI),Eu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Dg{constructor(){this.subscriptions=[]}add(t){return wg(this.subscriptions,t),()=>Rg(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zi=e=>e*1e3,Xn=e=>e/1e3;function vS(e,t){return t?e*(1e3/t):0}const _S=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,VI=1e-7,MI=12;function xI(e,t,n,r,o){let u,c,m=0;do c=t+(n-t)/2,u=_S(c,r,o)-e,u>0?n=c:t=c;while(Math.abs(u)>VI&&++m<MI);return c}function ku(e,t,n,r){if(e===t&&n===r)return $n;const o=u=>xI(u,0,1,e,n);return u=>u===0||u===1?u:_S(o(u),t,r)}const TS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ES=e=>t=>1-e(1-t),AS=ku(.33,1.53,.69,.99),Vg=ES(AS),SS=TS(Vg),bS=e=>(e*=2)<1?.5*Vg(e):.5*(2-Math.pow(2,-10*(e-1))),Mg=e=>1-Math.sin(Math.acos(e)),wS=ES(Mg),RS=TS(Mg),NI=ku(.42,0,1,1),OI=ku(0,0,.58,1),CS=ku(.42,0,.58,1),PI=e=>Array.isArray(e)&&typeof e[0]!="number",IS=e=>Array.isArray(e)&&typeof e[0]=="number",LI={linear:$n,easeIn:NI,easeInOut:CS,easeOut:OI,circIn:Mg,circInOut:RS,circOut:wS,backIn:Vg,backInOut:SS,backOut:AS,anticipate:bS},kI=e=>typeof e=="string",A0=e=>{if(IS(e)){Cg(e.length===4);const[t,n,r,o]=e;return ku(t,n,r,o)}else if(kI(e))return LI[e];return e},bh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function UI(e,t){let n=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),e()),v(m)}const g={schedule:(v,E=!1,S=!1)=>{const j=S&&o?n:r;return E&&c.add(v),j.has(v)||j.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(m=v,o){u=!0;return}o=!0,[n,r]=[r,n],n.forEach(p),n.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const zI=40;function DS(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=bh.reduce((J,ht)=>(J[ht]=UI(u),J),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:S,render:x,postRender:j}=c,Y=()=>{const J=_s.useManualTiming?o.timestamp:performance.now();n=!1,_s.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(J-o.timestamp,zI),1)),o.timestamp=J,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),v.process(o),E.process(o),S.process(o),x.process(o),j.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(Y))},H=()=>{n=!0,r=!0,o.isProcessing||e(Y)};return{schedule:bh.reduce((J,ht)=>{const at=c[ht];return J[ht]=(dt,C=!1,w=!1)=>(n||H(),at.schedule(dt,C,w)),J},{}),cancel:J=>{for(let ht=0;ht<bh.length;ht++)c[bh[ht]].cancel(J)},state:o,steps:c}}const{schedule:ue,cancel:yr,state:Xe,steps:Wm}=DS(typeof requestAnimationFrame<"u"?requestAnimationFrame:$n,!0);let Oh;function BI(){Oh=void 0}const Tn={now:()=>(Oh===void 0&&Tn.set(Xe.isProcessing||_s.useManualTiming?Xe.timestamp:performance.now()),Oh),set:e=>{Oh=e,queueMicrotask(BI)}},VS=e=>t=>typeof t=="string"&&t.startsWith(e),xg=VS("--"),jI=VS("var(--"),Ng=e=>jI(e)?FI.test(e.split("/*")[0].trim()):!1,FI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Au={...qo,transform:e=>vs(0,1,e)},wh={...qo,default:1},cu=e=>Math.round(e*1e5)/1e5,Og=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qI(e){return e==null}const HI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Pg=(e,t)=>n=>!!(typeof n=="string"&&HI.test(n)&&n.startsWith(e)||t&&!qI(n)&&Object.prototype.hasOwnProperty.call(n,t)),MS=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(Og);return{[e]:parseFloat(o),[t]:parseFloat(u),[n]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},GI=e=>vs(0,255,e),Jm={...qo,transform:e=>Math.round(GI(e))},la={test:Pg("rgb","red"),parse:MS("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Jm.transform(e)+", "+Jm.transform(t)+", "+Jm.transform(n)+", "+cu(Au.transform(r))+")"};function KI(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Vp={test:Pg("#"),parse:KI,transform:la.transform},Uu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),rr=Uu("deg"),Bi=Uu("%"),Tt=Uu("px"),YI=Uu("vh"),QI=Uu("vw"),S0={...Bi,parse:e=>Bi.parse(e)/100,transform:e=>Bi.transform(e*100)},Eo={test:Pg("hsl","hue"),parse:MS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Bi.transform(cu(t))+", "+Bi.transform(cu(n))+", "+cu(Au.transform(r))+")"},xe={test:e=>la.test(e)||Vp.test(e)||Eo.test(e),parse:e=>la.test(e)?la.parse(e):Eo.test(e)?Eo.parse(e):Vp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?la.transform(e):Eo.transform(e),getAnimatableNone:e=>{const t=xe.parse(e);return t.alpha=0,xe.transform(t)}},XI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $I(e){return isNaN(e)&&typeof e=="string"&&(e.match(Og)?.length||0)+(e.match(XI)?.length||0)>0}const xS="number",NS="color",ZI="var",WI="var(",b0="${}",JI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Su(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(JI,p=>(xe.test(p)?(r.color.push(u),o.push(NS),n.push(xe.parse(p))):p.startsWith(WI)?(r.var.push(u),o.push(ZI),n.push(p)):(r.number.push(u),o.push(xS),n.push(parseFloat(p))),++u,b0)).split(b0);return{values:n,split:m,indexes:r,types:o}}function OS(e){return Su(e).values}function PS(e){const{split:t,types:n}=Su(e),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=n[c];m===xS?u+=cu(o[c]):m===NS?u+=xe.transform(o[c]):u+=o[c]}return u}}const t2=e=>typeof e=="number"?0:xe.test(e)?xe.getAnimatableNone(e):e;function e2(e){const t=OS(e);return PS(e)(t.map(t2))}const vr={test:$I,parse:OS,createTransformer:PS,getAnimatableNone:e2};function tp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function n2({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,u=0,c=0;if(!t)o=u=c=n;else{const m=n<.5?n*(1+t):n+t-n*t,p=2*n-m;o=tp(p,m,e+1/3),u=tp(p,m,e),c=tp(p,m,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Qh(e,t){return n=>n>0?t:e}const ce=(e,t,n)=>e+(t-e)*n,ep=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},i2=[Vp,la,Eo],s2=e=>i2.find(t=>t.test(e));function w0(e){const t=s2(e);if(!t)return!1;let n=t.parse(e);return t===Eo&&(n=n2(n)),n}const R0=(e,t)=>{const n=w0(e),r=w0(t);if(!n||!r)return Qh(e,t);const o={...n};return u=>(o.red=ep(n.red,r.red,u),o.green=ep(n.green,r.green,u),o.blue=ep(n.blue,r.blue,u),o.alpha=ce(n.alpha,r.alpha,u),la.transform(o))},Mp=new Set(["none","hidden"]);function r2(e,t){return Mp.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function a2(e,t){return n=>ce(e,t,n)}function Lg(e){return typeof e=="number"?a2:typeof e=="string"?Ng(e)?Qh:xe.test(e)?R0:u2:Array.isArray(e)?LS:typeof e=="object"?xe.test(e)?R0:o2:Qh}function LS(e,t){const n=[...e],r=n.length,o=e.map((u,c)=>Lg(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)n[c]=o[c](u);return n}}function o2(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Lg(e[o])(e[o],t[o]));return o=>{for(const u in r)n[u]=r[u](o);return n}}function l2(e,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=e.indexes[u][r[u]],m=e.values[c]??0;n[o]=m,r[u]++}return n}const u2=(e,t)=>{const n=vr.createTransformer(t),r=Su(e),o=Su(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Mp.has(e)&&!o.values.length||Mp.has(t)&&!r.values.length?r2(e,t):Lu(LS(l2(r,o),o.values),n):Qh(e,t)};function kS(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ce(e,t,n):Lg(e)(e,t)}const c2=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ue.update(t,n),stop:()=>yr(t),now:()=>Xe.isProcessing?Xe.timestamp:Tn.now()}},US=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let u=0;u<o;u++)r+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Xh=2e4;function kg(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Xh;)t+=n,r=e.next(t);return t>=Xh?1/0:t}function h2(e,t=100,n){const r=n({...e,keyframes:[0,t]}),o=Math.min(kg(r),Xh);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Xn(o)}}const f2=5;function zS(e,t,n){const r=Math.max(t-f2,0);return vS(n-e(r),t-r)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},np=.001;function d2({duration:e=pe.duration,bounce:t=pe.bounce,velocity:n=pe.velocity,mass:r=pe.mass}){let o,u,c=1-t;c=vs(pe.minDamping,pe.maxDamping,c),e=vs(pe.minDuration,pe.maxDuration,Xn(e)),c<1?(o=g=>{const v=g*c,E=v*e,S=v-n,x=xp(g,c),j=Math.exp(-E);return np-S/x*j},u=g=>{const E=g*c*e,S=E*n+n,x=Math.pow(c,2)*Math.pow(g,2)*e,j=Math.exp(-E),Y=xp(Math.pow(g,2),c);return(-o(g)+np>0?-1:1)*((S-x)*j)/Y}):(o=g=>{const v=Math.exp(-g*e),E=(g-n)*e+1;return-np+v*E},u=g=>{const v=Math.exp(-g*e),E=(n-g)*(e*e);return v*E});const m=5/e,p=p2(o,u,m);if(e=zi(e),isNaN(p))return{stiffness:pe.stiffness,damping:pe.damping,duration:e};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:e}}}const m2=12;function p2(e,t,n){let r=n;for(let o=1;o<m2;o++)r=r-e(r)/t(r);return r}function xp(e,t){return e*Math.sqrt(1-t*t)}const g2=["duration","bounce"],y2=["stiffness","damping","mass"];function C0(e,t){return t.some(n=>e[n]!==void 0)}function v2(e){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...e};if(!C0(e,y2)&&C0(e,g2))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,u=2*vs(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:pe.mass,stiffness:o,damping:u}}else{const n=d2(e);t={...t,...n,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function $h(e=pe.visualDuration,t=pe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:S,isResolvedFromDuration:x}=v2({...n,velocity:-Xn(n.velocity||0)}),j=S||0,Y=g/(2*Math.sqrt(p*v)),H=c-u,$=Xn(Math.sqrt(p/v)),it=Math.abs(H)<5;r||(r=it?pe.restSpeed.granular:pe.restSpeed.default),o||(o=it?pe.restDelta.granular:pe.restDelta.default);let J;if(Y<1){const at=xp($,Y);J=dt=>{const C=Math.exp(-Y*$*dt);return c-C*((j+Y*$*H)/at*Math.sin(at*dt)+H*Math.cos(at*dt))}}else if(Y===1)J=at=>c-Math.exp(-$*at)*(H+(j+$*H)*at);else{const at=$*Math.sqrt(Y*Y-1);J=dt=>{const C=Math.exp(-Y*$*dt),w=Math.min(at*dt,300);return c-C*((j+Y*$*H)*Math.sinh(w)+at*H*Math.cosh(w))/at}}const ht={calculatedDuration:x&&E||null,next:at=>{const dt=J(at);if(x)m.done=at>=E;else{let C=at===0?j:0;Y<1&&(C=at===0?zi(j):zS(J,at,dt));const w=Math.abs(C)<=r,R=Math.abs(c-dt)<=o;m.done=w&&R}return m.value=m.done?c:dt,m},toString:()=>{const at=Math.min(kg(ht),Xh),dt=US(C=>ht.next(at*C).value,at,30);return at+"ms "+dt},toTransition:()=>{}};return ht}$h.applyToOptions=e=>{const t=h2(e,100,$h);return e.ease=t.ease,e.duration=zi(t.duration),e.type="keyframes",e};function Np({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:v}){const E=e[0],S={done:!1,value:E},x=w=>m!==void 0&&w<m||p!==void 0&&w>p,j=w=>m===void 0?p:p===void 0||Math.abs(m-w)<Math.abs(p-w)?m:p;let Y=n*t;const H=E+Y,$=c===void 0?H:c(H);$!==H&&(Y=$-E);const it=w=>-Y*Math.exp(-w/r),J=w=>$+it(w),ht=w=>{const R=it(w),O=J(w);S.done=Math.abs(R)<=g,S.value=S.done?$:O};let at,dt;const C=w=>{x(S.value)&&(at=w,dt=$h({keyframes:[S.value,j(S.value)],velocity:zS(J,w,S.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return C(0),{calculatedDuration:null,next:w=>{let R=!1;return!dt&&at===void 0&&(R=!0,ht(w),C(w)),at!==void 0&&w>=at?dt.next(w-at):(!R&&ht(w),S)}}}function _2(e,t,n){const r=[],o=n||_s.mix||kS,u=e.length-1;for(let c=0;c<u;c++){let m=o(e[c],e[c+1]);if(t){const p=Array.isArray(t)?t[c]||$n:t;m=Lu(p,m)}r.push(m)}return r}function T2(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const u=e.length;if(Cg(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const m=_2(t,r,o),p=m.length,g=v=>{if(c&&v<e[0])return t[0];let E=0;if(p>1)for(;E<e.length-2&&!(v<e[E+1]);E++);const S=Eu(e[E],e[E+1],v);return m[E](S)};return n?v=>g(vs(e[0],e[u-1],v)):g}function E2(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Eu(0,t,r);e.push(ce(n,1,o))}}function A2(e){const t=[0];return E2(t,e.length-1),t}function S2(e,t){return e.map(n=>n*t)}function b2(e,t){return e.map(()=>t||CS).splice(0,e.length-1)}function hu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=PI(r)?r.map(A0):A0(r),u={done:!1,value:t[0]},c=S2(n&&n.length===t.length?n:A2(t),e),m=T2(c,t,{ease:Array.isArray(o)?o:b2(t,o)});return{calculatedDuration:e,next:p=>(u.value=m(p),u.done=p>=e,u)}}const w2=e=>e!==null;function Ug(e,{repeat:t,repeatType:n="loop"},r,o=1){const u=e.filter(w2),m=o<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const R2={decay:Np,inertia:Np,tween:hu,keyframes:hu,spring:$h};function BS(e){typeof e.type=="string"&&(e.type=R2[e.type])}class zg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const C2=e=>e/100;class Bg extends zg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;BS(t);const{type:n=hu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=n||hu;p!==hu&&typeof m[0]!="number"&&(this.mixKeyframes=Lu(C2,kS(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=kg(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:S,repeatDelay:x,type:j,onUpdate:Y,finalKeyframe:H}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const $=this.currentTime-g*(this.playbackSpeed>=0?1:-1),it=this.playbackSpeed>=0?$<0:$>o;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let J=this.currentTime,ht=r;if(E){const w=Math.min(this.currentTime,o)/m;let R=Math.floor(w),O=w%1;!O&&w>=1&&(O=1),O===1&&R--,R=Math.min(R,E+1),!!(R%2)&&(S==="reverse"?(O=1-O,x&&(O-=x/m)):S==="mirror"&&(ht=c)),J=vs(0,1,O)*m}const at=it?{done:!1,value:v[0]}:ht.next(J);u&&(at.value=u(at.value));let{done:dt}=at;!it&&p!==null&&(dt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&dt);return C&&j!==Np&&(at.value=Ug(v,this.options,H,this.speed)),Y&&Y(at.value),C&&this.finish(),at}then(t,n){return this.finished.then(t,n)}get duration(){return Xn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(this.currentTime)}set time(t){t=zi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Tn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Xn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=c2,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function I2(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ua=e=>e*180/Math.PI,Op=e=>{const t=ua(Math.atan2(e[1],e[0]));return Pp(t)},D2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Op,rotateZ:Op,skewX:e=>ua(Math.atan(e[1])),skewY:e=>ua(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Pp=e=>(e=e%360,e<0&&(e+=360),e),I0=Op,D0=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),V0=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),V2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:D0,scaleY:V0,scale:e=>(D0(e)+V0(e))/2,rotateX:e=>Pp(ua(Math.atan2(e[6],e[5]))),rotateY:e=>Pp(ua(Math.atan2(-e[2],e[0]))),rotateZ:I0,rotate:I0,skewX:e=>ua(Math.atan(e[4])),skewY:e=>ua(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Lp(e){return e.includes("scale")?1:0}function kp(e,t){if(!e||e==="none")return Lp(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=V2,o=n;else{const m=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=D2,o=m}if(!o)return Lp(t);const u=r[t],c=o[1].split(",").map(x2);return typeof u=="function"?u(c):c[u]}const M2=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return kp(n,t)};function x2(e){return parseFloat(e.trim())}const Ho=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Go=new Set(Ho),M0=e=>e===qo||e===Tt,N2=new Set(["x","y","z"]),O2=Ho.filter(e=>!N2.has(e));function P2(e){const t=[];return O2.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const fa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>kp(t,"x"),y:(e,{transform:t})=>kp(t,"y")};fa.translateX=fa.x;fa.translateY=fa.y;const da=new Set;let Up=!1,zp=!1,Bp=!1;function jS(){if(zp){const e=Array.from(da).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=P2(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}zp=!1,Up=!1,da.forEach(e=>e.complete(Bp)),da.clear()}function FS(){da.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(zp=!0)})}function L2(){Bp=!0,FS(),jS(),Bp=!1}class jg{constructor(t,n,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(da.add(this),Up||(Up=!0,ue.read(FS),ue.resolveKeyframes(jS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&n){const m=r.readValue(n,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}I2(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),da.delete(this)}cancel(){this.state==="scheduled"&&(da.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const k2=e=>e.startsWith("--");function U2(e,t,n){k2(t)?e.style.setProperty(t,n):e.style[t]=n}const z2=Ig(()=>window.ScrollTimeline!==void 0),B2={};function j2(e,t){const n=Ig(e);return()=>B2[t]??n()}const qS=j2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),au=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,x0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:au([0,.65,.55,1]),circOut:au([.55,0,1,.45]),backIn:au([.31,.01,.66,-.59]),backOut:au([.33,1.53,.69,.99])};function HS(e,t){if(e)return typeof e=="function"?qS()?US(e,t):"ease-out":IS(e)?au(e):Array.isArray(e)?e.map(n=>HS(n,t)||x0.easeOut):x0[e]}function F2(e,t,n,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const v={[t]:n};p&&(v.offset=p);const E=HS(m,o);Array.isArray(E)&&(v.easing=E);const S={delay:r,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),e.animate(v,S)}function GS(e){return typeof e=="function"&&"applyToOptions"in e}function q2({type:e,...t}){return GS(e)&&qS()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class H2 extends zg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,Cg(typeof t.type!="string");const g=q2(t);this.animation=F2(n,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Ug(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):U2(n,r,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Xn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=zi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&z2()?(this.animation.timeline=t,$n):n(this)}}const KS={anticipate:bS,backInOut:SS,circInOut:RS};function G2(e){return e in KS}function K2(e){typeof e.ease=="string"&&G2(e.ease)&&(e.ease=KS[e.ease])}const N0=10;class Y2 extends H2{constructor(t){K2(t),BS(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const m=new Bg({...c,autoplay:!1}),p=zi(this.finishedTime??this.time);n.setWithVelocity(m.sample(p-N0).value,m.sample(p).value,N0),m.stop()}}const O0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(vr.test(e)||e==="0")&&!e.startsWith("url("));function Q2(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function X2(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],c=O0(o,t),m=O0(u,t);return!c||!m?!1:Q2(e)||(n==="spring"||GS(n))&&r}function jp(e){e.duration=0,e.type="keyframes"}const $2=new Set(["opacity","clipPath","filter","transform"]),Z2=Ig(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function W2(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:o,damping:u,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return Z2()&&n&&$2.has(n)&&(n!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const J2=40;class tD extends zg{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:v,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Tn.now();const S={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...E},x=v?.KeyframeResolver||jg;this.keyframeResolver=new x(m,(j,Y,H)=>this.onKeyframesResolved(j,Y,S,!H),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=Tn.now(),X2(t,u,c,m)||((_s.instantAnimations||!p)&&v?.(Ug(t,r,n)),t[0]=t[t.length-1],jp(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>J2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},x=!g&&W2(S)?new Y2({...S,element:S.motionValue.owner.current}):new Bg(S);x.finished.then(()=>this.notifyFinished()).catch($n),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),L2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const eD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nD(e){const t=eD.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function YS(e,t,n=1){const[r,o]=nD(e);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return pS(c)?parseFloat(c):c}return Ng(o)?YS(o,t,n+1):o}function Fg(e,t){return e?.[t]??e?.default??e}const QS=new Set(["width","height","top","left","right","bottom",...Ho]),iD={test:e=>e==="auto",parse:e=>e},XS=e=>t=>t.test(e),$S=[qo,Tt,Bi,rr,QI,YI,iD],P0=e=>$S.find(XS(e));function sD(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||yS(e):!0}const rD=new Set(["brightness","contrast","saturate","opacity"]);function aD(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Og)||[];if(!r)return e;const o=n.replace(r,"");let u=rD.has(t)?1:0;return r!==n&&(u*=100),t+"("+u+o+")"}const oD=/\b([a-z-]*)\(.*?\)/gu,Fp={...vr,getAnimatableNone:e=>{const t=e.match(oD);return t?t.map(aD).join(" "):e}},L0={...qo,transform:Math.round},lD={rotate:rr,rotateX:rr,rotateY:rr,rotateZ:rr,scale:wh,scaleX:wh,scaleY:wh,scaleZ:wh,skew:rr,skewX:rr,skewY:rr,distance:Tt,translateX:Tt,translateY:Tt,translateZ:Tt,x:Tt,y:Tt,z:Tt,perspective:Tt,transformPerspective:Tt,opacity:Au,originX:S0,originY:S0,originZ:Tt},qg={borderWidth:Tt,borderTopWidth:Tt,borderRightWidth:Tt,borderBottomWidth:Tt,borderLeftWidth:Tt,borderRadius:Tt,radius:Tt,borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomRightRadius:Tt,borderBottomLeftRadius:Tt,width:Tt,maxWidth:Tt,height:Tt,maxHeight:Tt,top:Tt,right:Tt,bottom:Tt,left:Tt,padding:Tt,paddingTop:Tt,paddingRight:Tt,paddingBottom:Tt,paddingLeft:Tt,margin:Tt,marginTop:Tt,marginRight:Tt,marginBottom:Tt,marginLeft:Tt,backgroundPositionX:Tt,backgroundPositionY:Tt,...lD,zIndex:L0,fillOpacity:Au,strokeOpacity:Au,numOctaves:L0},uD={...qg,color:xe,backgroundColor:xe,outlineColor:xe,fill:xe,stroke:xe,borderColor:xe,borderTopColor:xe,borderRightColor:xe,borderBottomColor:xe,borderLeftColor:xe,filter:Fp,WebkitFilter:Fp},ZS=e=>uD[e];function WS(e,t){let n=ZS(e);return n!==Fp&&(n=vr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const cD=new Set(["auto","none","0"]);function hD(e,t,n){let r=0,o;for(;r<e.length&&!o;){const u=e[r];typeof u=="string"&&!cD.has(u)&&Su(u).values.length&&(o=e[r]),r++}if(o&&n)for(const u of t)e[u]=WS(n,o)}class fD extends jg{constructor(t,n,r,o,u){super(t,n,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),Ng(g))){const v=YS(g,n.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!QS.has(r)||t.length!==2)return;const[o,u]=t,c=P0(o),m=P0(u);if(c!==m)if(M0(c)&&M0(m))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else fa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||sD(t[o]))&&r.push(o);r.length&&hD(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=fa[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function dD(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const o=n?.[e]??r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const JS=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function mD(e){return gS(e)&&"offsetHeight"in e}const k0=30,pD=e=>!isNaN(parseFloat(e));class gD{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Tn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=pD(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Dg);const r=this.events[t].add(n);return t==="change"?()=>{r(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>k0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,k0);return vS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Po(e,t){return new gD(e,t)}const{schedule:Hg}=DS(queueMicrotask,!1),ci={x:!1,y:!1};function t1(){return ci.x||ci.y}function yD(e){return e==="x"||e==="y"?ci[e]?null:(ci[e]=!0,()=>{ci[e]=!1}):ci.x||ci.y?null:(ci.x=ci.y=!0,()=>{ci.x=ci.y=!1})}function e1(e,t){const n=dD(e),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[n,o,()=>r.abort()]}function U0(e){return!(e.pointerType==="touch"||t1())}function vD(e,t,n={}){const[r,o,u]=e1(e,n),c=m=>{if(!U0(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const v=E=>{U0(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const n1=(e,t)=>t?e===t?!0:n1(e,t.parentElement):!1,Gg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,_D=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TD(e){return _D.has(e.tagName)||e.tabIndex!==-1}const Ph=new WeakSet;function z0(e){return t=>{t.key==="Enter"&&e(t)}}function ip(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ED=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=z0(()=>{if(Ph.has(n))return;ip(n,"down");const o=z0(()=>{ip(n,"up")}),u=()=>ip(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function B0(e){return Gg(e)&&!t1()}function AD(e,t,n={}){const[r,o,u]=e1(e,n),c=m=>{const p=m.currentTarget;if(!B0(m))return;Ph.add(p);const g=t(p,m),v=(x,j)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",S),Ph.has(p)&&Ph.delete(p),B0(x)&&typeof g=="function"&&g(x,{success:j})},E=x=>{v(x,p===window||p===document||n.useGlobalTarget||n1(p,x.target))},S=x=>{v(x,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",S,o)};return r.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),mD(m)&&(m.addEventListener("focus",g=>ED(g,o)),!TD(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function i1(e){return gS(e)&&"ownerSVGElement"in e}function SD(e){return i1(e)&&e.tagName==="svg"}const rn=e=>!!(e&&e.getVelocity),bD=[...$S,xe,vr],wD=e=>bD.find(XS(e)),s1=yt.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function RD(e=!0){const t=yt.useContext(bg);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,u=yt.useId();yt.useEffect(()=>{if(e)return o(u)},[e]);const c=yt.useCallback(()=>e&&r&&r(u),[u,r,e]);return!n&&r?[!1,c]:[!0]}const r1=yt.createContext({strict:!1}),j0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Lo={};for(const e in j0)Lo[e]={isEnabled:t=>j0[e].some(n=>!!t[n])};function CD(e){for(const t in e)Lo[t]={...Lo[t],...e[t]}}const ID=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ID.has(e)}let a1=e=>!Zh(e);function DD(e){typeof e=="function"&&(a1=t=>t.startsWith("on")?!Zh(t):e(t))}try{DD(require("@emotion/is-prop-valid").default)}catch{}function VD(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(a1(o)||n===!0&&Zh(o)||!t&&!Zh(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}const Af=yt.createContext({});function Sf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function bu(e){return typeof e=="string"||Array.isArray(e)}const Kg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yg=["initial",...Kg];function bf(e){return Sf(e.animate)||Yg.some(t=>bu(e[t]))}function o1(e){return!!(bf(e)||e.variants)}function MD(e,t){if(bf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||bu(n)?n:void 0,animate:bu(r)?r:void 0}}return e.inherit!==!1?t:{}}function xD(e){const{initial:t,animate:n}=MD(e,yt.useContext(Af));return yt.useMemo(()=>({initial:t,animate:n}),[F0(t),F0(n)])}function F0(e){return Array.isArray(e)?e.join(" "):e}const wu={};function ND(e){for(const t in e)wu[t]=e[t],xg(t)&&(wu[t].isCSSVariable=!0)}function l1(e,{layout:t,layoutId:n}){return Go.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!wu[e]||e==="opacity")}const OD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PD=Ho.length;function LD(e,t,n){let r="",o=!0;for(let u=0;u<PD;u++){const c=Ho[u],m=e[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||n){const g=JS(m,qg[c]);if(!p){o=!1;const v=OD[c]||c;r+=`${v}(${g}) `}n&&(t[c]=g)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function Qg(e,t,n){const{style:r,vars:o,transformOrigin:u}=e;let c=!1,m=!1;for(const p in t){const g=t[p];if(Go.has(p)){c=!0;continue}else if(xg(p)){o[p]=g;continue}else{const v=JS(g,qg[p]);p.startsWith("origin")?(m=!0,u[p]=v):r[p]=v}}if(t.transform||(c||n?r.transform=LD(t,e.transform,n):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const Xg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function u1(e,t,n){for(const r in t)!rn(t[r])&&!l1(r,n)&&(e[r]=t[r])}function kD({transformTemplate:e},t){return yt.useMemo(()=>{const n=Xg();return Qg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function UD(e,t){const n=e.style||{},r={};return u1(r,n,e),Object.assign(r,kD(e,t)),r}function zD(e,t){const n={},r=UD(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const BD={offset:"stroke-dashoffset",array:"stroke-dasharray"},jD={offset:"strokeDashoffset",array:"strokeDasharray"};function FD(e,t,n=1,r=0,o=!0){e.pathLength=1;const u=o?BD:jD;e[u.offset]=Tt.transform(-r);const c=Tt.transform(t),m=Tt.transform(n);e[u.array]=`${c} ${m}`}function c1(e,{attrX:t,attrY:n,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,v){if(Qg(e,m,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:E,style:S}=e;E.transform&&(S.transform=E.transform,delete E.transform),(S.transform||E.transformOrigin)&&(S.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),S.transform&&(S.transformBox=v?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),o!==void 0&&FD(E,o,u,c,!1)}const h1=()=>({...Xg(),attrs:{}}),f1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function qD(e,t,n,r){const o=yt.useMemo(()=>{const u=h1();return c1(u,t,f1(r),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};u1(u,e.style,e),o.style={...u,...o.style}}return o}const HD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $g(e){return typeof e!="string"||e.includes("-")?!1:!!(HD.indexOf(e)>-1||/[A-Z]/u.test(e))}function GD(e,t,n,{latestValues:r},o,u=!1){const m=($g(e)?qD:zD)(t,r,o,e),p=VD(t,typeof e=="string",u),g=e!==yt.Fragment?{...p,...m,ref:n}:{},{children:v}=t,E=yt.useMemo(()=>rn(v)?v.get():v,[v]);return yt.createElement(e,{...g,children:E})}function q0(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Zg(e,t,n,r){if(typeof t=="function"){const[o,u]=q0(r);t=t(n!==void 0?n:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=q0(r);t=t(n!==void 0?n:e.custom,o,u)}return t}function Lh(e){return rn(e)?e.get():e}function KD({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,o){return{latestValues:YD(n,r,o,e),renderState:t()}}function YD(e,t,n,r){const o={},u=r(e,{});for(const S in u)o[S]=Lh(u[S]);let{initial:c,animate:m}=e;const p=bf(e),g=o1(e);t&&g&&!p&&e.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const E=v?m:c;if(E&&typeof E!="boolean"&&!Sf(E)){const S=Array.isArray(E)?E:[E];for(let x=0;x<S.length;x++){const j=Zg(e,S[x]);if(j){const{transitionEnd:Y,transition:H,...$}=j;for(const it in $){let J=$[it];if(Array.isArray(J)){const ht=v?J.length-1:0;J=J[ht]}J!==null&&(o[it]=J)}for(const it in Y)o[it]=Y[it]}}}return o}const d1=e=>(t,n)=>{const r=yt.useContext(Af),o=yt.useContext(bg),u=()=>KD(e,t,r,o);return n?u():CI(u)};function Wg(e,t,n){const{style:r}=e,o={};for(const u in r)(rn(r[u])||t.style&&rn(t.style[u])||l1(u,e)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const QD=d1({scrapeMotionValuesFromProps:Wg,createRenderState:Xg});function m1(e,t,n){const r=Wg(e,t,n);for(const o in e)if(rn(e[o])||rn(t[o])){const u=Ho.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=e[o]}return r}const XD=d1({scrapeMotionValuesFromProps:m1,createRenderState:h1}),$D=Symbol.for("motionComponentSymbol");function Ao(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ZD(e,t,n){return yt.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ao(n)&&(n.current=r))},[t])}const Jg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WD="framerAppearId",p1="data-"+Jg(WD),g1=yt.createContext({});function JD(e,t,n,r,o){const{visualElement:u}=yt.useContext(Af),c=yt.useContext(r1),m=yt.useContext(bg),p=yt.useContext(s1).reducedMotion,g=yt.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(e,{visualState:t,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=yt.useContext(g1);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&tV(g.current,n,o,E);const S=yt.useRef(!1);yt.useInsertionEffect(()=>{v&&S.current&&v.update(n,m)});const x=n[p1],j=yt.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return II(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),j.current&&v.animationState&&v.animationState.animateChanges())}),yt.useEffect(()=>{v&&(!j.current&&v.animationState&&v.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),j.current=!1),v.enteringChildren=void 0)}),v}function tV(e,t,n,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:y1(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&Ao(m),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function y1(e){if(e)return e.options.allowProjection!==!1?e.projection:y1(e.parent)}function sp(e,{forwardMotionProps:t=!1}={},n,r){n&&CD(n);const o=$g(e)?XD:QD;function u(m,p){let g;const v={...yt.useContext(s1),...m,layoutId:eV(m)},{isStatic:E}=v,S=xD(m),x=o(m,E);if(!E&&Sg){nV();const j=iV(v);g=j.MeasureLayout,S.visualElement=JD(e,x,v,r,j.ProjectionNode)}return et.jsxs(Af.Provider,{value:S,children:[g&&S.visualElement?et.jsx(g,{visualElement:S.visualElement,...v}):null,GD(e,m,ZD(x,S.visualElement,p),x,E,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=yt.forwardRef(u);return c[$D]=e,c}function eV({layoutId:e}){const t=yt.useContext(mS).id;return t&&e!==void 0?t+"-"+e:e}function nV(e,t){yt.useContext(r1).strict}function iV(e){const{drag:t,layout:n}=Lo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function sV(e,t){if(typeof Proxy>"u")return sp;const n=new Map,r=(u,c)=>sp(u,c,e,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(n.has(c)||n.set(c,sp(c,void 0,e,t)),n.get(c))})}function v1({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function rV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function aV(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function rp(e){return e===void 0||e===1}function qp({scale:e,scaleX:t,scaleY:n}){return!rp(e)||!rp(t)||!rp(n)}function aa(e){return qp(e)||_1(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _1(e){return H0(e.x)||H0(e.y)}function H0(e){return e&&e!=="0%"}function Wh(e,t,n){const r=e-n,o=t*r;return n+o}function G0(e,t,n,r,o){return o!==void 0&&(e=Wh(e,o,r)),Wh(e,n,r)+t}function Hp(e,t=0,n=1,r,o){e.min=G0(e.min,t,n,r,o),e.max=G0(e.max,t,n,r,o)}function T1(e,{x:t,y:n}){Hp(e.x,t.translate,t.scale,t.originPoint),Hp(e.y,n.translate,n.scale,n.originPoint)}const K0=.999999999999,Y0=1.0000000000001;function oV(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=n[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&bo(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,T1(e,c)),r&&aa(u.latestValues)&&bo(e,u.latestValues))}t.x<Y0&&t.x>K0&&(t.x=1),t.y<Y0&&t.y>K0&&(t.y=1)}function So(e,t){e.min=e.min+t,e.max=e.max+t}function Q0(e,t,n,r,o=.5){const u=ce(e.min,e.max,o);Hp(e,t,n,u,r)}function bo(e,t){Q0(e.x,t.x,t.scaleX,t.scale,t.originX),Q0(e.y,t.y,t.scaleY,t.scale,t.originY)}function E1(e,t){return v1(aV(e.getBoundingClientRect(),t))}function lV(e,t,n){const r=E1(e,n),{scroll:o}=t;return o&&(So(r.x,o.offset.x),So(r.y,o.offset.y)),r}const X0=()=>({translate:0,scale:1,origin:0,originPoint:0}),wo=()=>({x:X0(),y:X0()}),$0=()=>({min:0,max:0}),Te=()=>({x:$0(),y:$0()}),Gp={current:null},A1={current:!1};function uV(){if(A1.current=!0,!!Sg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Gp.current=e.matches;e.addEventListener("change",t),t()}else Gp.current=!1}const cV=new WeakMap;function hV(e,t,n){for(const r in t){const o=t[r],u=n[r];if(rn(o))e.addValue(r,o);else if(rn(u))e.addValue(r,Po(o,{owner:e}));else if(u!==o)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(r);e.addValue(r,Po(c!==void 0?c:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Z0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fV{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Tn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ue.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=bf(n),this.isVariantNode=o1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in E){const x=E[S];p[S]!==void 0&&rn(x)&&x.set(p[S])}}mount(t){this.current=t,cV.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),A1.current||uV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gp.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),yr(this.notifyUpdate),yr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Go.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ue.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Lo){const n=Lo[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Te()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Z0.length;r++){const o=Z0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=hV(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Po(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(pS(r)||yS(r))?r=parseFloat(r):!wD(r)&&vr.test(n)&&(r=WS(t,n)),this.setBaseTarget(t,rn(r)?r.get():r)),rn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=Zg(this.props,n,this.presenceContext?.custom);u&&(r=u[t])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!rn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Dg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Hg.render(this.render)}}class S1 extends fV{constructor(){super(...arguments),this.KeyframeResolver=fD}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function b1(e,{style:t,vars:n},r,o){const u=e.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in n)u.setProperty(c,n[c])}function dV(e){return window.getComputedStyle(e)}class mV extends S1{constructor(){super(...arguments),this.type="html",this.renderInstance=b1}readValueFromInstance(t,n){if(Go.has(n))return this.projection?.isProjecting?Lp(n):M2(t,n);{const r=dV(t),o=(xg(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return E1(t,n)}build(t,n,r){Qg(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Wg(t,n,r)}}const w1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pV(e,t,n,r){b1(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(w1.has(o)?o:Jg(o),t.attrs[o])}class gV extends S1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Te}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Go.has(n)){const r=ZS(n);return r&&r.default||0}return n=w1.has(n)?n:Jg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return m1(t,n,r)}build(t,n,r){c1(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,o){pV(t,n,r,o)}mount(t){this.isSVGTag=f1(t.tagName),super.mount(t)}}const yV=(e,t)=>$g(e)?new gV(t):new mV(t,{allowProjection:e!==yt.Fragment});function Co(e,t,n){const r=e.getProps();return Zg(r,t,n!==void 0?n:r.custom,e)}const Kp=e=>Array.isArray(e);function vV(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Po(n))}function _V(e){return Kp(e)?e[e.length-1]||0:e}function TV(e,t){const n=Co(e,t);let{transitionEnd:r={},transition:o={},...u}=n||{};u={...u,...r};for(const c in u){const m=_V(u[c]);vV(e,c,m)}}function EV(e){return!!(rn(e)&&e.add)}function Yp(e,t){const n=e.getValue("willChange");if(EV(n))return n.add(t);if(!n&&_s.WillChange){const r=new _s.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function R1(e){return e.props[p1]}const AV=e=>e!==null;function SV(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(AV),u=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[u]}const bV={type:"spring",stiffness:500,damping:25,restSpeed:10},wV=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),RV={type:"keyframes",duration:.8},CV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IV=(e,{keyframes:t})=>t.length>2?RV:Go.has(e)?e.startsWith("scale")?wV(t[1]):bV:CV;function DV({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const ty=(e,t,n,r={},o,u)=>c=>{const m=Fg(r,e)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-zi(p);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:S=>{t.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:e,motionValue:t,element:u?void 0:o};DV(m)||Object.assign(v,IV(e,v)),v.duration&&(v.duration=zi(v.duration)),v.repeatDelay&&(v.repeatDelay=zi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(jp(v),v.delay===0&&(E=!0)),(_s.instantAnimations||_s.skipAnimations)&&(E=!0,jp(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,E&&!u&&t.get()!==void 0){const S=SV(v.keyframes,m);if(S!==void 0){ue.update(()=>{v.onUpdate(S),v.onComplete()});return}}return m.isSync?new Bg(v):new tD(v)};function VV({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function C1(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&e.animationState&&e.animationState.getState()[o];for(const v in m){const E=e.getValue(v,e.latestValues[v]??null),S=m[v];if(S===void 0||g&&VV(g,v))continue;const x={delay:n,...Fg(u||{},v)},j=E.get();if(j!==void 0&&!E.isAnimating&&!Array.isArray(S)&&S===j&&!x.velocity)continue;let Y=!1;if(window.MotionHandoffAnimation){const $=R1(e);if($){const it=window.MotionHandoffAnimation($,v,ue);it!==null&&(x.startTime=it,Y=!0)}}Yp(e,v),E.start(ty(v,E,S,e.shouldReduceMotion&&QS.has(v)?{type:!1}:x,e,Y));const H=E.animation;H&&p.push(H)}return c&&Promise.all(p).then(()=>{ue.update(()=>{c&&TV(e,c)})}),p}function I1(e,t,n,r=0,o=1){const u=Array.from(e).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=e.size,m=(c-1)*r;return typeof n=="function"?n(u,c):o===1?u*r:m-u*r}function Qp(e,t,n={}){const r=Co(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const u=r?()=>Promise.all(C1(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:E}=o;return MV(e,t,p,g,v,E,n)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(n.delay)])}function MV(e,t,n=0,r=0,o=0,u=1,c){const m=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),m.push(Qp(p,t,{...c,delay:n+(typeof r=="function"?0:r)+I1(e.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function xV(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>Qp(e,u,n));r=Promise.all(o)}else if(typeof t=="string")r=Qp(e,t,n);else{const o=typeof t=="function"?Co(e,t,n.custom):t;r=Promise.all(C1(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function D1(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const NV=Yg.length;function V1(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?V1(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<NV;n++){const r=Yg[n],o=e.props[r];(bu(o)||o===!1)&&(t[r]=o)}return t}const OV=[...Kg].reverse(),PV=Kg.length;function LV(e){return t=>Promise.all(t.map(({animation:n,options:r})=>xV(e,n,r)))}function kV(e){let t=LV(e),n=W0(),r=!0;const o=p=>(g,v)=>{const E=Co(e,v,p==="exit"?e.presenceContext?.custom:void 0);if(E){const{transition:S,transitionEnd:x,...j}=E;g={...g,...j,...x}}return g};function u(p){t=p(e)}function c(p){const{props:g}=e,v=V1(e.parent)||{},E=[],S=new Set;let x={},j=1/0;for(let H=0;H<PV;H++){const $=OV[H],it=n[$],J=g[$]!==void 0?g[$]:v[$],ht=bu(J),at=$===p?it.isActive:null;at===!1&&(j=H);let dt=J===v[$]&&J!==g[$]&&ht;if(dt&&r&&e.manuallyAnimateOnMount&&(dt=!1),it.protectedKeys={...x},!it.isActive&&at===null||!J&&!it.prevProp||Sf(J)||typeof J=="boolean")continue;const C=UV(it.prevProp,J);let w=C||$===p&&it.isActive&&!dt&&ht||H>j&&ht,R=!1;const O=Array.isArray(J)?J:[J];let V=O.reduce(o($),{});at===!1&&(V={});const{prevResolvedValues:L={}}=it,I={...L,...V},te=nt=>{w=!0,S.has(nt)&&(R=!0,S.delete(nt)),it.needsAnimating[nt]=!0;const ut=e.getValue(nt);ut&&(ut.liveStyle=!1)};for(const nt in I){const ut=V[nt],It=L[nt];if(x.hasOwnProperty(nt))continue;let Nt=!1;Kp(ut)&&Kp(It)?Nt=!D1(ut,It):Nt=ut!==It,Nt?ut!=null?te(nt):S.add(nt):ut!==void 0&&S.has(nt)?te(nt):it.protectedKeys[nt]=!0}it.prevProp=J,it.prevResolvedValues=V,it.isActive&&(x={...x,...V}),r&&e.blockInitialAnimation&&(w=!1);const fe=dt&&C;w&&(!fe||R)&&E.push(...O.map(nt=>{const ut={type:$};if(typeof nt=="string"&&r&&!fe&&e.manuallyAnimateOnMount&&e.parent){const{parent:It}=e,Nt=Co(It,nt);if(It.enteringChildren&&Nt){const{delayChildren:N}=Nt.transition||{};ut.delay=I1(It.enteringChildren,e,N)}}return{animation:nt,options:ut}}))}if(S.size){const H={};if(typeof g.initial!="boolean"){const $=Co(e,Array.isArray(g.initial)?g.initial[0]:g.initial);$&&$.transition&&(H.transition=$.transition)}S.forEach($=>{const it=e.getBaseTarget($),J=e.getValue($);J&&(J.liveStyle=!0),H[$]=it??null}),E.push({animation:H})}let Y=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(Y=!1),r=!1,Y?t(E):Promise.resolve()}function m(p,g){if(n[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(E=>E.animationState?.setActive(p,g)),n[p].isActive=g;const v=c(p);for(const E in n)n[E].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>n,reset:()=>{n=W0()}}}function UV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!D1(t,e):!1}function ra(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W0(){return{animate:ra(!0),whileInView:ra(),whileHover:ra(),whileTap:ra(),whileDrag:ra(),whileFocus:ra(),exit:ra()}}class Cr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class zV extends Cr{constructor(t){super(t),t.animationState||(t.animationState=kV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Sf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let BV=0;class jV extends Cr{constructor(){super(...arguments),this.id=BV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const FV={animation:{Feature:zV},exit:{Feature:jV}};function Ru(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function zu(e){return{point:{x:e.pageX,y:e.pageY}}}const qV=e=>t=>Gg(t)&&e(t,zu(t));function fu(e,t,n,r){return Ru(e,t,qV(n),r)}const M1=1e-4,HV=1-M1,GV=1+M1,x1=.01,KV=0-x1,YV=0+x1;function cn(e){return e.max-e.min}function QV(e,t,n){return Math.abs(e-t)<=n}function J0(e,t,n,r=.5){e.origin=r,e.originPoint=ce(t.min,t.max,e.origin),e.scale=cn(n)/cn(t),e.translate=ce(n.min,n.max,e.origin)-e.originPoint,(e.scale>=HV&&e.scale<=GV||isNaN(e.scale))&&(e.scale=1),(e.translate>=KV&&e.translate<=YV||isNaN(e.translate))&&(e.translate=0)}function du(e,t,n,r){J0(e.x,t.x,n.x,r?r.originX:void 0),J0(e.y,t.y,n.y,r?r.originY:void 0)}function tE(e,t,n){e.min=n.min+t.min,e.max=e.min+cn(t)}function XV(e,t,n){tE(e.x,t.x,n.x),tE(e.y,t.y,n.y)}function eE(e,t,n){e.min=t.min-n.min,e.max=e.min+cn(t)}function mu(e,t,n){eE(e.x,t.x,n.x),eE(e.y,t.y,n.y)}function Kn(e){return[e("x"),e("y")]}const N1=({current:e})=>e?e.ownerDocument.defaultView:null,nE=(e,t)=>Math.abs(e-t);function $V(e,t){const n=nE(e.x,t.x),r=nE(e.y,t.y);return Math.sqrt(n**2+r**2)}class O1{constructor(t,n,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=op(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,j=$V(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!j)return;const{point:Y}=S,{timestamp:H}=Xe;this.history.push({...Y,timestamp:H});const{onStart:$,onMove:it}=this.handlers;x||($&&$(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),it&&it(this.lastMoveEvent,S)},this.handlePointerMove=(S,x)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=ap(x,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(S,x)=>{this.end();const{onEnd:j,onSessionEnd:Y,resumeAnimation:H}=this.handlers;if(this.dragSnapToOrigin&&H&&H(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=op(S.type==="pointercancel"?this.lastMoveEventInfo:ap(x,this.transformPagePoint),this.history);this.startEvent&&j&&j(S,$),Y&&Y(S,$)},!Gg(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const m=zu(t),p=ap(m,this.transformPagePoint),{point:g}=p,{timestamp:v}=Xe;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=n;E&&E(t,op(p,this.history)),this.removeListeners=Lu(fu(this.contextWindow,"pointermove",this.handlePointerMove),fu(this.contextWindow,"pointerup",this.handlePointerUp),fu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),yr(this.updatePoint)}}function ap(e,t){return t?{point:t(e.point)}:e}function iE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function op({point:e},t){return{point:e,delta:iE(e,P1(t)),offset:iE(e,ZV(t)),velocity:WV(t,.1)}}function ZV(e){return e[0]}function P1(e){return e[e.length-1]}function WV(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=P1(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>zi(t)));)n--;if(!r)return{x:0,y:0};const u=Xn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function JV(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ce(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ce(n,e,r.max):Math.min(e,n)),e}function sE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function tM(e,{top:t,left:n,bottom:r,right:o}){return{x:sE(e.x,n,o),y:sE(e.y,t,r)}}function rE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function eM(e,t){return{x:rE(e.x,t.x),y:rE(e.y,t.y)}}function nM(e,t){let n=.5;const r=cn(e),o=cn(t);return o>r?n=Eu(t.min,t.max-r,e.min):r>o&&(n=Eu(e.min,e.max-o,t.min)),vs(0,1,n)}function iM(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Xp=.35;function sM(e=Xp){return e===!1?e=0:e===!0&&(e=Xp),{x:aE(e,"left","right"),y:aE(e,"top","bottom")}}function aE(e,t,n){return{min:oE(e,t),max:oE(e,n)}}function oE(e,t){return typeof e=="number"?e:e[t]||0}const rM=new WeakMap;class aM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Te(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zu(E).point)},c=(E,S)=>{const{drag:x,dragPropagation:j,onDragStart:Y}=this.getProps();if(x&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yD(x),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn($=>{let it=this.getAxisMotionValue($).get()||0;if(Bi.test(it)){const{projection:J}=this.visualElement;if(J&&J.layout){const ht=J.layout.layoutBox[$];ht&&(it=cn(ht)*(parseFloat(it)/100))}}this.originPoint[$]=it}),Y&&ue.postRender(()=>Y(E,S)),Yp(this.visualElement,"transform");const{animationState:H}=this.visualElement;H&&H.setActive("whileDrag",!0)},m=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S;const{dragPropagation:x,dragDirectionLock:j,onDirectionLock:Y,onDrag:H}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:$}=S;if(j&&this.currentDirection===null){this.currentDirection=oM($),this.currentDirection!==null&&Y&&Y(this.currentDirection);return}this.updateAxis("x",S.point,$),this.updateAxis("y",S.point,$),this.visualElement.render(),H&&H(E,S)},p=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S,this.stop(E,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Kn(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new O1(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:N1(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&ue.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!Rh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=JV(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Ao(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=tM(r.layoutBox,t):this.constraints=!1,this.elastic=sM(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Kn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=iM(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ao(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=lV(r,o.root,this.visualElement.getTransformPagePoint());let c=eM(o.layout.layoutBox,u);if(n){const m=n(rV(c));this.hasMutatedConstraints=!!m,m&&(c=v1(m))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=Kn(v=>{if(!Rh(v,n,this.currentDirection))return;let E=p&&p[v]||{};c&&(E={min:0,max:0});const S=o?200:1e6,x=o?40:1e7,j={type:"inertia",velocity:r?t[v]:0,bounceStiffness:S,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,j)});return Promise.all(g).then(m)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Yp(this.visualElement,t),r.start(ty(t,r,0,n,this.visualElement,!1))}stopAnimation(){Kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Kn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Kn(n=>{const{drag:r}=this.getProps();if(!Rh(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[n];u.set(t[n]-ce(c,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ao(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Kn(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=nM({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kn(c=>{if(!Rh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(ce(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;rM.set(this.visualElement,this);const t=this.visualElement.current,n=fu(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Ao(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ue.read(r);const c=Ru(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Kn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Xp,dragMomentum:m=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Rh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function oM(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class lM extends Cr{constructor(t){super(t),this.removeGroupControls=$n,this.removeListeners=$n,this.controls=new aM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$n}unmount(){this.removeGroupControls(),this.removeListeners()}}const lE=e=>(t,n)=>{e&&ue.postRender(()=>e(t,n))};class uM extends Cr{constructor(){super(...arguments),this.removePointerDownListener=$n}onPointerDown(t){this.session=new O1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:N1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:lE(t),onStart:lE(n),onMove:r,onEnd:(u,c)=>{delete this.session,o&&ue.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=fu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ru={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Tt.test(e))e=parseFloat(e);else return e;const n=uE(e,t.target.x),r=uE(e,t.target.y);return`${n}% ${r}%`}},cM={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=vr.parse(e);if(o.length>5)return r;const u=vr.createTransformer(e),c=typeof o[0]!="number"?1:0,m=n.x.scale*t.x,p=n.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=ce(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};let lp=!1;class hM extends yt.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;ND(fM),u&&(n.group&&n.group.add(u),r&&r.register&&o&&r.register(u),lp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),kh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,lp=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ue.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Hg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;lp=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function L1(e){const[t,n]=RD(),r=yt.useContext(mS);return et.jsx(hM,{...e,layoutGroup:r,switchLayoutGroup:yt.useContext(g1),isPresent:t,safeToRemove:n})}const fM={borderRadius:{...ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ru,borderTopRightRadius:ru,borderBottomLeftRadius:ru,borderBottomRightRadius:ru,boxShadow:cM};function dM(e,t,n){const r=rn(e)?e:Po(e);return r.start(ty("",r,t,n)),r.animation}const mM=(e,t)=>e.depth-t.depth;class pM{constructor(){this.children=[],this.isDirty=!1}add(t){wg(this.children,t),this.isDirty=!0}remove(t){Rg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(mM),this.isDirty=!1,this.children.forEach(t)}}function gM(e,t){const n=Tn.now(),r=({timestamp:o})=>{const u=o-n;u>=t&&(yr(r),e(u-t))};return ue.setup(r,!0),()=>yr(r)}const k1=["TopLeft","TopRight","BottomLeft","BottomRight"],yM=k1.length,cE=e=>typeof e=="string"?parseFloat(e):e,hE=e=>typeof e=="number"||Tt.test(e);function vM(e,t,n,r,o,u){o?(e.opacity=ce(0,n.opacity??1,_M(r)),e.opacityExit=ce(t.opacity??1,0,TM(r))):u&&(e.opacity=ce(t.opacity??1,n.opacity??1,r));for(let c=0;c<yM;c++){const m=`border${k1[c]}Radius`;let p=fE(t,m),g=fE(n,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||hE(p)===hE(g)?(e[m]=Math.max(ce(cE(p),cE(g),r),0),(Bi.test(g)||Bi.test(p))&&(e[m]+="%")):e[m]=g}(t.rotate||n.rotate)&&(e.rotate=ce(t.rotate||0,n.rotate||0,r))}function fE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const _M=U1(0,.5,wS),TM=U1(.5,.95,$n);function U1(e,t,n){return r=>r<e?0:r>t?1:n(Eu(e,t,r))}function dE(e,t){e.min=t.min,e.max=t.max}function Gn(e,t){dE(e.x,t.x),dE(e.y,t.y)}function mE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function pE(e,t,n,r,o){return e-=t,e=Wh(e,1/n,r),o!==void 0&&(e=Wh(e,1/o,r)),e}function EM(e,t=0,n=1,r=.5,o,u=e,c=e){if(Bi.test(t)&&(t=parseFloat(t),t=ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=ce(u.min,u.max,r);e===u&&(m-=t),e.min=pE(e.min,t,n,m,o),e.max=pE(e.max,t,n,m,o)}function gE(e,t,[n,r,o],u,c){EM(e,t[n],t[r],t[o],t.scale,u,c)}const AM=["x","scaleX","originX"],SM=["y","scaleY","originY"];function yE(e,t,n,r){gE(e.x,t,AM,n?n.x:void 0,r?r.x:void 0),gE(e.y,t,SM,n?n.y:void 0,r?r.y:void 0)}function vE(e){return e.translate===0&&e.scale===1}function z1(e){return vE(e.x)&&vE(e.y)}function _E(e,t){return e.min===t.min&&e.max===t.max}function bM(e,t){return _E(e.x,t.x)&&_E(e.y,t.y)}function TE(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function B1(e,t){return TE(e.x,t.x)&&TE(e.y,t.y)}function EE(e){return cn(e.x)/cn(e.y)}function AE(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class wM{constructor(){this.members=[]}add(t){wg(this.members,t),t.scheduleRender()}remove(t){if(Rg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function RM(e,t,n){let r="";const o=e.x.translate/t.x,u=e.y.translate/t.y,c=n?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:S,skewX:x,skewY:j}=n;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),E&&(r+=`rotateX(${E}deg) `),S&&(r+=`rotateY(${S}deg) `),x&&(r+=`skewX(${x}deg) `),j&&(r+=`skewY(${j}deg) `)}const m=e.x.scale*t.x,p=e.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const up=["","X","Y","Z"],CM=1e3;let IM=0;function cp(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function j1(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=R1(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ue,!(o||u))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&j1(r)}function F1({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=IM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(MM),this.nodes.forEach(PM),this.nodes.forEach(LM),this.nodes.forEach(xM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new pM)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Dg),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=i1(c)&&!SD(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),e){let v,E=0;const S=()=>this.root.updateBlockedByResize=!1;ue.read(()=>{E=window.innerWidth}),e(c,()=>{const x=window.innerWidth;x!==E&&(E=x,this.root.updateBlockedByResize=!0,v&&v(),v=gM(S,250),kh.hasAnimatedSinceResize&&(kh.hasAnimatedSinceResize=!1,this.nodes.forEach(wE)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:S,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||jM,{onLayoutAnimationStart:Y,onLayoutAnimationComplete:H}=g.getProps(),$=!this.targetLayout||!B1(this.targetLayout,x),it=!E&&S;if(this.options.layoutRoot||this.resumeFrom||it||E&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const J={...Fg(j,"layout"),onPlay:Y,onComplete:H};(g.shouldReduceMotion||this.options.layoutRoot)&&(J.delay=0,J.type=!1),this.startAnimation(J),this.setAnimationOrigin(v,it)}else E||wE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),yr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&j1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(SE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(bE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(OM),this.nodes.forEach(DM),this.nodes.forEach(VM)):this.nodes.forEach(bE),this.clearAllSnapshots();const m=Tn.now();Xe.delta=vs(0,1e3/60,m-Xe.timestamp),Xe.timestamp=m,Xe.isProcessing=!0,Wm.update.process(Xe),Wm.preRender.process(Xe),Wm.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NM),this.sharedNodes.forEach(UM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cn(this.snapshot.measuredBox.x)&&!cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Te(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!z1(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||aa(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),FM(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Te();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(qM))){const{scroll:g}=this.root;g&&(So(m.x,g.offset.x),So(m.y,g.offset.y))}return m}removeElementScroll(c){const m=Te();if(Gn(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:E}=g;g!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&Gn(m,c),So(m.x,v.offset.x),So(m.y,v.offset.y))}return m}applyTransform(c,m=!1){const p=Te();Gn(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&bo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),aa(v.latestValues)&&bo(p,v.latestValues)}return aa(this.latestValues)&&bo(p,this.latestValues),p}removeTransform(c){const m=Te();Gn(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!aa(g.latestValues))continue;qp(g.latestValues)&&g.updateSnapshot();const v=Te(),E=g.measurePageBox();Gn(v,E),yE(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return aa(this.latestValues)&&yE(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Te(),this.relativeTargetOrigin=Te(),mu(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Te(),this.targetWithTransforms=Te()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),T1(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Te(),this.relativeTargetOrigin=Te(),mu(this.relativeTargetOrigin,this.target,S.target),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qp(this.parent.latestValues)||_1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Gn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;oV(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Te());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mE(this.prevProjectionDelta.x,this.projectionDelta.x),mE(this.prevProjectionDelta.y,this.projectionDelta.y)),du(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!AE(this.projectionDelta.x,this.prevProjectionDelta.x)||!AE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wo(),this.projectionDelta=wo(),this.projectionDeltaWithTransform=wo()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=wo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=Te(),x=p?p.source:void 0,j=this.layout?this.layout.source:void 0,Y=x!==j,H=this.getStack(),$=!H||H.members.length<=1,it=!!(Y&&!$&&this.options.crossfade===!0&&!this.path.some(BM));this.animationProgress=0;let J;this.mixTargetDelta=ht=>{const at=ht/1e3;RE(E.x,c.x,at),RE(E.y,c.y,at),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mu(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zM(this.relativeTarget,this.relativeTargetOrigin,S,at),J&&bM(this.relativeTarget,J)&&(this.isProjectionDirty=!1),J||(J=Te()),Gn(J,this.relativeTarget)),Y&&(this.animationValues=v,vM(v,g,this.latestValues,at,it,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=at},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(yr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{kh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Po(0)),this.currentAnimation=dM(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(CM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:v}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&q1(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Te();const E=cn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+E;const S=cn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}Gn(m,p),bo(m,v),du(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new wM),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&cp("z",c,g,this.animationValues);for(let v=0;v<up.length;v++)cp(`rotate${up[v]}`,c,g,this.animationValues),cp(`skew${up[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Lh(m?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Lh(m?.pointerEvents)||""),this.hasProjected&&!aa(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=RM(this.projectionDeltaWithTransform,this.treeScale,v);p&&(E=p(v,E)),c.transform=E;const{x:S,y:x}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${x.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const j in wu){if(v[j]===void 0)continue;const{correct:Y,applyTo:H,isCSSVariable:$}=wu[j],it=E==="none"?v[j]:Y(v[j],g);if(H){const J=H.length;for(let ht=0;ht<J;ht++)c[H[ht]]=it}else $?this.options.visualElement.renderState.vars[j]=it:c[j]=it}this.options.layoutId&&(c.pointerEvents=g===this?Lh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(SE),this.root.sharedNodes.clear()}}}function DM(e){e.updateLayout()}function VM(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?Kn(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],S=cn(E);E.min=n[v].min,E.max=E.min+S}):q1(o,t.layoutBox,n)&&Kn(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],S=cn(n[v]);E.max=E.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+S)});const c=wo();du(c,n,t.layoutBox);const m=wo();u?du(m,e.applyTransform(r,!0),t.measuredBox):du(m,n,t.layoutBox);const p=!z1(c);let g=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:S}=v;if(E&&S){const x=Te();mu(x,t.layoutBox,E.layoutBox);const j=Te();mu(j,n,S.layoutBox),B1(x,j)||(g=!0),v.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=x,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function MM(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function xM(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function NM(e){e.clearSnapshot()}function SE(e){e.clearMeasurements()}function bE(e){e.isLayoutDirty=!1}function OM(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function wE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function PM(e){e.resolveTargetDelta()}function LM(e){e.calcProjection()}function kM(e){e.resetSkewAndRotation()}function UM(e){e.removeLeadSnapshot()}function RE(e,t,n){e.translate=ce(t.translate,0,n),e.scale=ce(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function CE(e,t,n,r){e.min=ce(t.min,n.min,r),e.max=ce(t.max,n.max,r)}function zM(e,t,n,r){CE(e.x,t.x,n.x,r),CE(e.y,t.y,n.y,r)}function BM(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jM={duration:.45,ease:[.4,0,.1,1]},IE=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),DE=IE("applewebkit/")&&!IE("chrome/")?Math.round:$n;function VE(e){e.min=DE(e.min),e.max=DE(e.max)}function FM(e){VE(e.x),VE(e.y)}function q1(e,t,n){return e==="position"||e==="preserve-aspect"&&!QV(EE(t),EE(n),.2)}function qM(e){return e!==e.root&&e.scroll?.wasRoot}const HM=F1({attachResizeListener:(e,t)=>Ru(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hp={current:void 0},H1=F1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!hp.current){const e=new HM({});e.mount(window),e.setOptions({layoutScroll:!0}),hp.current=e}return hp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),GM={pan:{Feature:uM},drag:{Feature:lM,ProjectionNode:H1,MeasureLayout:L1}};function ME(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=r[o];u&&ue.postRender(()=>u(t,zu(t)))}class KM extends Cr{mount(){const{current:t}=this.node;t&&(this.unmount=vD(t,(n,r)=>(ME(this.node,r,"Start"),o=>ME(this.node,o,"End"))))}unmount(){}}class YM extends Cr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lu(Ru(this.node.current,"focus",()=>this.onFocus()),Ru(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xE(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=r[o];u&&ue.postRender(()=>u(t,zu(t)))}class QM extends Cr{mount(){const{current:t}=this.node;t&&(this.unmount=AD(t,(n,r)=>(xE(this.node,r,"Start"),(o,{success:u})=>xE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $p=new WeakMap,fp=new WeakMap,XM=e=>{const t=$p.get(e.target);t&&t(e)},$M=e=>{e.forEach(XM)};function ZM({root:e,...t}){const n=e||document;fp.has(n)||fp.set(n,{});const r=fp.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver($M,{root:e,...t})),r[o]}function WM(e,t,n){const r=ZM(t);return $p.set(e,n),r.observe(e),()=>{$p.delete(e),r.unobserve(e)}}const JM={some:0,all:1};class tx extends Cr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:u}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:JM[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),S=g?v:E;S&&S(p)};return WM(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(ex(t,n))&&this.startObserver()}unmount(){}}function ex({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const nx={inView:{Feature:tx},tap:{Feature:QM},focus:{Feature:YM},hover:{Feature:KM}},ix={layout:{ProjectionNode:H1,MeasureLayout:L1}},sx={...FV,...nx,...GM,...ix},rx=sV(sx,yV),ax=()=>{};var NE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},ox=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[n++],c=e[n++],m=e[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=e[n++],c=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},K1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const u=e[o],c=o+1<e.length,m=c?e[o+1]:0,p=o+2<e.length,g=p?e[o+2]:0,v=u>>2,E=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,x=g&63;p||(x=64,c||(S=64)),r.push(n[v],n[E],n[S],n[x])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(G1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ox(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const u=n[e.charAt(o++)],m=o<e.length?n[e.charAt(o)]:0;++o;const g=o<e.length?n[e.charAt(o)]:64;++o;const E=o<e.length?n[e.charAt(o)]:64;if(++o,u==null||m==null||g==null||E==null)throw new lx;const S=u<<2|m>>4;if(r.push(S),g!==64){const x=m<<4&240|g>>2;if(r.push(x),E!==64){const j=g<<6&192|E;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class lx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ux=function(e){const t=G1(e);return K1.encodeByteArray(t,!0)},Jh=function(e){return ux(e).replace(/\./g,"")},Y1=function(e){try{return K1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=()=>cx().__FIREBASE_DEFAULTS__,fx=()=>{if(typeof process>"u"||typeof NE>"u")return;const e=NE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},dx=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Y1(e[1]);return t&&JSON.parse(t)},wf=()=>{try{return ax()||hx()||fx()||dx()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Q1=e=>wf()?.emulatorHosts?.[e],mx=e=>{const t=Q1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},X1=()=>wf()?.config,$1=e=>wf()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Z1(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Jh(JSON.stringify(n)),Jh(JSON.stringify(c)),""].join(".")}const pu={};function yx(){const e={prod:[],emulator:[]};for(const t of Object.keys(pu))pu[t]?e.emulator.push(t):e.prod.push(t);return e}function vx(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let OE=!1;function W1(e,t){if(typeof window>"u"||typeof document>"u"||!Ko(window.location.host)||pu[e]===t||pu[e]||OE)return;pu[e]=t;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=yx().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,x){S.setAttribute("width","24"),S.setAttribute("id",x),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{OE=!0,c()},S}function v(S,x){S.setAttribute("id",x),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=vx(r),x=n("text"),j=document.getElementById(x)||document.createElement("span"),Y=n("learnmore"),H=document.getElementById(Y)||document.createElement("a"),$=n("preprendIcon"),it=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const J=S.element;m(J),v(H,Y);const ht=g();p(it,$),J.append(it,j,H,ht),document.body.appendChild(J)}u?(j.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _x(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function Tx(){const e=wf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ex(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function J1(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Ax(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Sx(){const e=an();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function bx(){return!Tx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tb(){try{return typeof indexedDB=="object"}catch{return!1}}function eb(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}function wx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="FirebaseError";class pi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Rx,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_a.prototype.create)}}class _a{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?Cx(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new pi(o,m,r)}}function Cx(e,t){return e.replace(Ix,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const Ix=/\{\$([^}]+)}/g;function Dx(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function _r(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=e[o],c=t[o];if(PE(u)&&PE(c)){if(!_r(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function PE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Vx(e,t){const n=new Mx(e,t);return n.subscribe.bind(n)}class Mx{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xx(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=dp),o.error===void 0&&(o.error=dp),o.complete===void 0&&(o.complete=dp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xx(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function dp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=1e3,Ox=2,Px=14400*1e3,Lx=.5;function LE(e,t=Nx,n=Ox){const r=t*Math.pow(n,e),o=Math.round(Lx*r*(Math.random()-.5)*2);return Math.min(Px,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(e){return e&&e._delegate?e._delegate:e}class mi{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new px;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zx(t))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=oa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=oa){return this.instances.has(t)}getOptions(t=oa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ux(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=oa){return this.component?this.component.multipleInstances?t:oa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ux(e){return e===oa?void 0:e}function zx(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new kx(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Lt||(Lt={}));const jx={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},Fx=Lt.INFO,qx={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},Hx=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),o=qx[t];if(o)console[o](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rf{constructor(t){this.name=t,this._logLevel=Fx,this._logHandler=Hx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?jx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const Gx=(e,t)=>t.some(n=>e instanceof n);let kE,UE;function Kx(){return kE||(kE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yx(){return UE||(UE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nb=new WeakMap,Zp=new WeakMap,ib=new WeakMap,mp=new WeakMap,ey=new WeakMap;function Qx(e){const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",c)},u=()=>{n(hr(e.result)),o()},c=()=>{r(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&nb.set(n,e)}).catch(()=>{}),ey.set(t,e),t}function Xx(e){if(Zp.has(e))return;const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",c),e.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",c),e.addEventListener("abort",c)});Zp.set(e,t)}let Wp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Zp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ib.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function $x(e){Wp=e(Wp)}function Zx(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(pp(this),t,...n);return ib.set(r,t.sort?t.sort():[t]),hr(r)}:Yx().includes(e)?function(...t){return e.apply(pp(this),t),hr(nb.get(this))}:function(...t){return hr(e.apply(pp(this),t))}}function Wx(e){return typeof e=="function"?Zx(e):(e instanceof IDBTransaction&&Xx(e),Gx(e,Kx())?new Proxy(e,Wp):e)}function hr(e){if(e instanceof IDBRequest)return Qx(e);if(mp.has(e))return mp.get(e);const t=Wx(e);return t!==e&&(mp.set(e,t),ey.set(t,e)),t}const pp=e=>ey.get(e);function sb(e,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(e,t),m=hr(c);return r&&c.addEventListener("upgradeneeded",p=>{r(hr(c.result),p.oldVersion,p.newVersion,hr(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Jx=["get","getKey","getAll","getAllKeys","count"],tN=["put","add","delete","clear"],gp=new Map;function zE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gp.get(t))return gp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=tN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Jx.includes(n)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return gp.set(t,u),u}$x(e=>({...e,get:(t,n,r)=>zE(t,n)||e.get(t,n,r),has:(t,n)=>!!zE(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nN(e){return e.getComponent()?.type==="VERSION"}const Jp="@firebase/app",BE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new Rf("@firebase/app"),iN="@firebase/app-compat",sN="@firebase/analytics-compat",rN="@firebase/analytics",aN="@firebase/app-check-compat",oN="@firebase/app-check",lN="@firebase/auth",uN="@firebase/auth-compat",cN="@firebase/database",hN="@firebase/data-connect",fN="@firebase/database-compat",dN="@firebase/functions",mN="@firebase/functions-compat",pN="@firebase/installations",gN="@firebase/installations-compat",yN="@firebase/messaging",vN="@firebase/messaging-compat",_N="@firebase/performance",TN="@firebase/performance-compat",EN="@firebase/remote-config",AN="@firebase/remote-config-compat",SN="@firebase/storage",bN="@firebase/storage-compat",wN="@firebase/firestore",RN="@firebase/ai",CN="@firebase/firestore-compat",IN="firebase",DN="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="[DEFAULT]",VN={[Jp]:"fire-core",[iN]:"fire-core-compat",[rN]:"fire-analytics",[sN]:"fire-analytics-compat",[oN]:"fire-app-check",[aN]:"fire-app-check-compat",[lN]:"fire-auth",[uN]:"fire-auth-compat",[cN]:"fire-rtdb",[hN]:"fire-data-connect",[fN]:"fire-rtdb-compat",[dN]:"fire-fn",[mN]:"fire-fn-compat",[pN]:"fire-iid",[gN]:"fire-iid-compat",[yN]:"fire-fcm",[vN]:"fire-fcm-compat",[_N]:"fire-perf",[TN]:"fire-perf-compat",[EN]:"fire-rc",[AN]:"fire-rc-compat",[SN]:"fire-gcs",[bN]:"fire-gcs-compat",[wN]:"fire-fst",[CN]:"fire-fst-compat",[RN]:"fire-vertex","fire-js":"fire-js",[IN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=new Map,MN=new Map,eg=new Map;function jE(e,t){try{e.container.addComponent(t)}catch(n){Ts.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Yi(e){const t=e.name;if(eg.has(t))return Ts.debug(`There were multiple attempts to register component ${t}.`),!1;eg.set(t,e);for(const n of tf.values())jE(n,e);for(const n of MN.values())jE(n,e);return!0}function Ta(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function hi(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new _a("app","Firebase",xN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=DN;function rb(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:tg,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw fr.create("bad-app-name",{appName:String(o)});if(n||(n=X1()),!n)throw fr.create("no-options");const u=tf.get(o);if(u){if(_r(n,u.options)&&_r(r,u.config))return u;throw fr.create("duplicate-app",{appName:o})}const c=new Bx(o);for(const p of eg.values())c.addComponent(p);const m=new NN(n,r,c);return tf.set(o,m),m}function ny(e=tg){const t=tf.get(e);if(!t&&e===tg&&X1())return rb();if(!t)throw fr.create("no-app",{appName:e});return t}function Zn(e,t,n){let r=VN[e]??e;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ts.warn(c.join(" "));return}Yi(new mi(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="firebase-heartbeat-database",PN=1,Cu="firebase-heartbeat-store";let yp=null;function ab(){return yp||(yp=sb(ON,PN,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Cu)}catch(n){console.warn(n)}}}}).catch(e=>{throw fr.create("idb-open",{originalErrorMessage:e.message})})),yp}async function LN(e){try{const n=(await ab()).transaction(Cu),r=await n.objectStore(Cu).get(ob(e));return await n.done,r}catch(t){if(t instanceof pi)Ts.warn(t.message);else{const n=fr.create("idb-get",{originalErrorMessage:t?.message});Ts.warn(n.message)}}}async function FE(e,t){try{const r=(await ab()).transaction(Cu,"readwrite");await r.objectStore(Cu).put(t,ob(e)),await r.done}catch(n){if(n instanceof pi)Ts.warn(n.message);else{const r=fr.create("idb-set",{originalErrorMessage:n?.message});Ts.warn(r.message)}}}function ob(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=1024,UN=30;class zN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>UN){const o=FN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ts.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=qE(),{heartbeatsToSend:n,unsentEntries:r}=BN(this._heartbeatsCache.heartbeats),o=Jh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ts.warn(t),""}}}function qE(){return new Date().toISOString().substring(0,10)}function BN(e,t=kN){const n=[];let r=e.slice();for(const o of e){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),HE(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),HE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tb()?eb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return FE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return FE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function HE(e){return Jh(JSON.stringify({version:2,heartbeats:e})).length}function FN(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(e){Yi(new mi("platform-logger",t=>new eN(t),"PRIVATE")),Yi(new mi("heartbeat",t=>new zN(t),"PRIVATE")),Zn(Jp,BE,e),Zn(Jp,BE,"esm2020"),Zn("fire-js","")}qN("");var GE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dr,lb;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,w){function R(){}R.prototype=w.prototype,C.F=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(O,V,L){for(var I=Array(arguments.length-2),te=2;te<arguments.length;te++)I[te-2]=arguments[te];return w.prototype[V].apply(O,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,R){R||(R=0);const O=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)O[V]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(V=0;V<16;++V)O[V]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],V=C.g[2];let L=C.g[3],I;I=w+(L^R&(V^L))+O[0]+3614090360&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(V^w&(R^V))+O[1]+3905402710&4294967295,L=w+(I<<12&4294967295|I>>>20),I=V+(R^L&(w^R))+O[2]+606105819&4294967295,V=L+(I<<17&4294967295|I>>>15),I=R+(w^V&(L^w))+O[3]+3250441966&4294967295,R=V+(I<<22&4294967295|I>>>10),I=w+(L^R&(V^L))+O[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(V^w&(R^V))+O[5]+1200080426&4294967295,L=w+(I<<12&4294967295|I>>>20),I=V+(R^L&(w^R))+O[6]+2821735955&4294967295,V=L+(I<<17&4294967295|I>>>15),I=R+(w^V&(L^w))+O[7]+4249261313&4294967295,R=V+(I<<22&4294967295|I>>>10),I=w+(L^R&(V^L))+O[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(V^w&(R^V))+O[9]+2336552879&4294967295,L=w+(I<<12&4294967295|I>>>20),I=V+(R^L&(w^R))+O[10]+4294925233&4294967295,V=L+(I<<17&4294967295|I>>>15),I=R+(w^V&(L^w))+O[11]+2304563134&4294967295,R=V+(I<<22&4294967295|I>>>10),I=w+(L^R&(V^L))+O[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(V^w&(R^V))+O[13]+4254626195&4294967295,L=w+(I<<12&4294967295|I>>>20),I=V+(R^L&(w^R))+O[14]+2792965006&4294967295,V=L+(I<<17&4294967295|I>>>15),I=R+(w^V&(L^w))+O[15]+1236535329&4294967295,R=V+(I<<22&4294967295|I>>>10),I=w+(V^L&(R^V))+O[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^V&(w^R))+O[6]+3225465664&4294967295,L=w+(I<<9&4294967295|I>>>23),I=V+(w^R&(L^w))+O[11]+643717713&4294967295,V=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(V^L))+O[0]+3921069994&4294967295,R=V+(I<<20&4294967295|I>>>12),I=w+(V^L&(R^V))+O[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^V&(w^R))+O[10]+38016083&4294967295,L=w+(I<<9&4294967295|I>>>23),I=V+(w^R&(L^w))+O[15]+3634488961&4294967295,V=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(V^L))+O[4]+3889429448&4294967295,R=V+(I<<20&4294967295|I>>>12),I=w+(V^L&(R^V))+O[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^V&(w^R))+O[14]+3275163606&4294967295,L=w+(I<<9&4294967295|I>>>23),I=V+(w^R&(L^w))+O[3]+4107603335&4294967295,V=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(V^L))+O[8]+1163531501&4294967295,R=V+(I<<20&4294967295|I>>>12),I=w+(V^L&(R^V))+O[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^V&(w^R))+O[2]+4243563512&4294967295,L=w+(I<<9&4294967295|I>>>23),I=V+(w^R&(L^w))+O[7]+1735328473&4294967295,V=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(V^L))+O[12]+2368359562&4294967295,R=V+(I<<20&4294967295|I>>>12),I=w+(R^V^L)+O[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^V)+O[8]+2272392833&4294967295,L=w+(I<<11&4294967295|I>>>21),I=V+(L^w^R)+O[11]+1839030562&4294967295,V=L+(I<<16&4294967295|I>>>16),I=R+(V^L^w)+O[14]+4259657740&4294967295,R=V+(I<<23&4294967295|I>>>9),I=w+(R^V^L)+O[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^V)+O[4]+1272893353&4294967295,L=w+(I<<11&4294967295|I>>>21),I=V+(L^w^R)+O[7]+4139469664&4294967295,V=L+(I<<16&4294967295|I>>>16),I=R+(V^L^w)+O[10]+3200236656&4294967295,R=V+(I<<23&4294967295|I>>>9),I=w+(R^V^L)+O[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^V)+O[0]+3936430074&4294967295,L=w+(I<<11&4294967295|I>>>21),I=V+(L^w^R)+O[3]+3572445317&4294967295,V=L+(I<<16&4294967295|I>>>16),I=R+(V^L^w)+O[6]+76029189&4294967295,R=V+(I<<23&4294967295|I>>>9),I=w+(R^V^L)+O[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^V)+O[12]+3873151461&4294967295,L=w+(I<<11&4294967295|I>>>21),I=V+(L^w^R)+O[15]+530742520&4294967295,V=L+(I<<16&4294967295|I>>>16),I=R+(V^L^w)+O[2]+3299628645&4294967295,R=V+(I<<23&4294967295|I>>>9),I=w+(V^(R|~L))+O[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~V))+O[7]+1126891415&4294967295,L=w+(I<<10&4294967295|I>>>22),I=V+(w^(L|~R))+O[14]+2878612391&4294967295,V=L+(I<<15&4294967295|I>>>17),I=R+(L^(V|~w))+O[5]+4237533241&4294967295,R=V+(I<<21&4294967295|I>>>11),I=w+(V^(R|~L))+O[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~V))+O[3]+2399980690&4294967295,L=w+(I<<10&4294967295|I>>>22),I=V+(w^(L|~R))+O[10]+4293915773&4294967295,V=L+(I<<15&4294967295|I>>>17),I=R+(L^(V|~w))+O[1]+2240044497&4294967295,R=V+(I<<21&4294967295|I>>>11),I=w+(V^(R|~L))+O[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~V))+O[15]+4264355552&4294967295,L=w+(I<<10&4294967295|I>>>22),I=V+(w^(L|~R))+O[6]+2734768916&4294967295,V=L+(I<<15&4294967295|I>>>17),I=R+(L^(V|~w))+O[13]+1309151649&4294967295,R=V+(I<<21&4294967295|I>>>11),I=w+(V^(R|~L))+O[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~V))+O[11]+3174756917&4294967295,L=w+(I<<10&4294967295|I>>>22),I=V+(w^(L|~R))+O[2]+718787259&4294967295,V=L+(I<<15&4294967295|I>>>17),I=R+(L^(V|~w))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const R=w-this.blockSize,O=this.C;let V=this.h,L=0;for(;L<w;){if(V==0)for(;L<=R;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(O[V++]=C.charCodeAt(L++),V==this.blockSize){o(this,O),V=0;break}}else for(;L<w;)if(O[V++]=C[L++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)C[w++]=this.g[R]>>>O&255;return C};function u(C,w){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function c(C,w){this.h=w;const R=[];let O=!0;for(let V=C.length-1;V>=0;V--){const L=C[V]|0;O&&L==w||(R[V]=L,O=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?u(C,function(w){return new c([w|0],w<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return H(g(-C));const w=[];let R=1;for(let O=0;C>=R;O++)w[O]=C/R|0,R*=4294967296;return new c(w,0)}function v(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return H(v(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(w,8));let O=E;for(let L=0;L<C.length;L+=8){var V=Math.min(8,C.length-L);const I=parseInt(C.substring(L,L+V),w);V<8?(V=g(Math.pow(w,V)),O=O.j(V).add(g(I))):(O=O.j(R),O=O.add(g(I)))}return O}var E=p(0),S=p(1),x=p(16777216);e=c.prototype,e.m=function(){if(Y(this))return-H(this).m();let C=0,w=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);C+=(O>=0?O:4294967296+O)*w,w*=4294967296}return C},e.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(j(this))return"0";if(Y(this))return"-"+H(this).toString(C);const w=g(Math.pow(C,6));var R=this;let O="";for(;;){const V=ht(R,w).g;R=$(R,V.j(w));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=V,j(R))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},e.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function j(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function Y(C){return C.h==-1}e.l=function(C){return C=$(this,C),Y(C)?-1:j(C)?0:1};function H(C){const w=C.g.length,R=[];for(let O=0;O<w;O++)R[O]=~C.g[O];return new c(R,~C.h).add(S)}e.abs=function(){return Y(this)?H(this):this},e.add=function(C){const w=Math.max(this.g.length,C.g.length),R=[];let O=0;for(let V=0;V<=w;V++){let L=O+(this.i(V)&65535)+(C.i(V)&65535),I=(L>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);O=I>>>16,L&=65535,I&=65535,R[V]=I<<16|L}return new c(R,R[R.length-1]&-2147483648?-1:0)};function $(C,w){return C.add(H(w))}e.j=function(C){if(j(this)||j(C))return E;if(Y(this))return Y(C)?H(this).j(H(C)):H(H(this).j(C));if(Y(C))return H(this.j(H(C)));if(this.l(x)<0&&C.l(x)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,R=[];for(var O=0;O<2*w;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<C.g.length;V++){const L=this.i(O)>>>16,I=this.i(O)&65535,te=C.i(V)>>>16,fe=C.i(V)&65535;R[2*O+2*V]+=I*fe,it(R,2*O+2*V),R[2*O+2*V+1]+=L*fe,it(R,2*O+2*V+1),R[2*O+2*V+1]+=I*te,it(R,2*O+2*V+1),R[2*O+2*V+2]+=L*te,it(R,2*O+2*V+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new c(R,0)};function it(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function J(C,w){this.g=C,this.h=w}function ht(C,w){if(j(w))throw Error("division by zero");if(j(C))return new J(E,E);if(Y(C))return w=ht(H(C),w),new J(H(w.g),H(w.h));if(Y(w))return w=ht(C,H(w)),new J(H(w.g),w.h);if(C.g.length>30){if(Y(C)||Y(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,O=w;O.l(C)<=0;)R=at(R),O=at(O);var V=dt(R,1),L=dt(O,1);for(O=dt(O,2),R=dt(R,2);!j(O);){var I=L.add(O);I.l(C)<=0&&(V=V.add(R),L=I),O=dt(O,1),R=dt(R,1)}return w=$(C,V.j(w)),new J(V,w)}for(V=E;C.l(w)>=0;){for(R=Math.max(1,Math.floor(C.m()/w.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=g(R),I=L.j(w);Y(I)||I.l(C)>0;)R-=O,L=g(R),I=L.j(w);j(L)&&(L=S),V=V.add(L),C=$(C,I)}return new J(V,C)}e.B=function(C){return ht(this,C).h},e.and=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<w;O++)R[O]=this.i(O)&C.i(O);return new c(R,this.h&C.h)},e.or=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<w;O++)R[O]=this.i(O)|C.i(O);return new c(R,this.h|C.h)},e.xor=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<w;O++)R[O]=this.i(O)^C.i(O);return new c(R,this.h^C.h)};function at(C){const w=C.g.length+1,R=[];for(let O=0;O<w;O++)R[O]=C.i(O)<<1|C.i(O-1)>>>31;return new c(R,C.h)}function dt(C,w){const R=w>>5;w%=32;const O=C.g.length-R,V=[];for(let L=0;L<O;L++)V[L]=w>0?C.i(L+R)>>>w|C.i(L+R+1)<<32-w:C.i(L+R);return new c(V,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,lb=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,dr=c}).apply(typeof GE<"u"?GE:typeof self<"u"?self:typeof window<"u"?window:{});var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ub,ou,cb,Uh,ng,hb,fb,db;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ch=="object"&&Ch];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function o(h,y){if(y)t:{var T=r;h=h.split(".");for(var b=0;b<h.length-1;b++){var k=h[b];if(!(k in T))break t;T=T[k]}h=h[h.length-1],b=T[h],y=y(b),y!=b&&y!=null&&t(T,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var T=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&T.push([b,y[b]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function v(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var b=T.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function E(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(b,k,F){for(var st=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)st[Rt-2]=arguments[Rt];return y.prototype[k].apply(b,st)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function x(h){const y=h.length;if(y>0){const T=Array(y);for(let b=0;b<y;b++)T[b]=h[b];return T}return[]}function j(h,y){for(let b=1;b<arguments.length;b++){const k=arguments[b];var T=typeof k;if(T=T!="object"?T:k?Array.isArray(k)?"array":T:"null",T=="array"||T=="object"&&typeof k.length=="number"){T=h.length||0;const F=k.length||0;h.length=T+F;for(let st=0;st<F;st++)h[T+st]=k[st]}else h.push(k)}}class Y{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(h){c.setTimeout(()=>{throw h},0)}function $(){var h=C;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class it{constructor(){this.h=this.g=null}add(y,T){const b=J.get();b.set(y,T),this.h?this.h.next=b:this.g=b,this.h=b}}var J=new Y(()=>new ht,h=>h.reset());class ht{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let at,dt=!1,C=new it,w=()=>{const h=Promise.resolve(void 0);at=()=>{h.then(R)}};function R(){for(var h;h=$();){try{h.h.call(h.g)}catch(T){H(T)}var y=J;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}dt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function te(h,y){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(te,V),te.prototype.init=function(h,y){const T=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),K=0;function nt(h,y,T,b,k){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!b,this.ha=k,this.key=++K,this.da=this.fa=!1}function ut(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function It(h,y,T){for(const b in h)y.call(T,h[b],b,h)}function Nt(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function N(h){const y={};for(const T in h)y[T]=h[T];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(h,y){let T,b;for(let k=1;k<arguments.length;k++){b=arguments[k];for(T in b)h[T]=b[T];for(let F=0;F<Z.length;F++)T=Z[F],Object.prototype.hasOwnProperty.call(b,T)&&(h[T]=b[T])}}function lt(h){this.src=h,this.g={},this.h=0}lt.prototype.add=function(h,y,T,b,k){const F=h.toString();h=this.g[F],h||(h=this.g[F]=[],this.h++);const st=Dt(h,y,b,k);return st>-1?(y=h[st],T||(y.fa=!1)):(y=new nt(y,this.src,F,!!b,k),y.fa=T,h.push(y)),y};function At(h,y){const T=y.type;if(T in h.g){var b=h.g[T],k=Array.prototype.indexOf.call(b,y,void 0),F;(F=k>=0)&&Array.prototype.splice.call(b,k,1),F&&(ut(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Dt(h,y,T,b){for(let k=0;k<h.length;++k){const F=h[k];if(!F.da&&F.listener==y&&F.capture==!!T&&F.ha==b)return k}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Oe={};function ae(h,y,T,b,k){if(Array.isArray(y)){for(let F=0;F<y.length;F++)ae(h,y[F],T,b,k);return null}return T=el(T),h&&h[fe]?h.J(y,T,m(b)?!!b.capture:!1,k):Ir(h,y,T,!1,b,k)}function Ir(h,y,T,b,k,F){if(!y)throw Error("Invalid event type");const st=m(k)?!!k.capture:!!k;let Rt=Dr(h);if(Rt||(h[Bt]=Rt=new lt(h)),T=Rt.add(y,T,b,st,F),T.proxy)return T;if(b=Ra(),T.proxy=b,b.src=h,b.listener=T,h.addEventListener)L||(k=st),k===void 0&&(k=!1),h.addEventListener(y.toString(),b,k);else if(h.attachEvent)h.attachEvent(gi(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ra(){function h(T){return y.call(h.src,h.listener,T)}const y=Jo;return h}function Ca(h,y,T,b,k){if(Array.isArray(y))for(var F=0;F<y.length;F++)Ca(h,y[F],T,b,k);else b=m(b)?!!b.capture:!!b,T=el(T),h&&h[fe]?(h=h.i,F=String(y).toString(),F in h.g&&(y=h.g[F],T=Dt(y,T,b,k),T>-1&&(ut(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[F],h.h--)))):h&&(h=Dr(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Dt(y,T,b,k)),(T=h>-1?y[h]:null)&&Ia(T))}function Ia(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[fe])At(y.i,h);else{var T=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(T,b,h.capture):y.detachEvent?y.detachEvent(gi(T),b):y.addListener&&y.removeListener&&y.removeListener(b),(T=Dr(y))?(At(T,h),T.h==0&&(T.src=null,y[Bt]=null)):ut(h)}}}function gi(h){return h in Oe?Oe[h]:Oe[h]="on"+h}function Jo(h,y){if(h.da)h=!0;else{y=new te(y,this);const T=h.listener,b=h.ha||h.src;h.fa&&Ia(h),h=T.call(b,y)}return h}function Dr(h){return h=h[Bt],h instanceof lt?h:null}var tl="__closure_events_fn_"+(Math.random()*1e9>>>0);function el(h){return typeof h=="function"?h:(h[tl]||(h[tl]=function(y){return h.handleEvent(y)}),h[tl])}function Ae(){O.call(this),this.i=new lt(this),this.M=this,this.G=null}E(Ae,O),Ae.prototype[fe]=!0,Ae.prototype.removeEventListener=function(h,y,T,b){Ca(this,h,y,T,b)};function Pe(h,y){var T,b=h.G;if(b)for(T=[];b;b=b.G)T.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new V(y,h);else if(y instanceof V)y.target=y.target||h;else{var k=y;y=new V(b,h),rt(y,k)}k=!0;let F,st;if(T)for(st=T.length-1;st>=0;st--)F=y.g=T[st],k=ws(F,b,!0,y)&&k;if(F=y.g=h,k=ws(F,b,!0,y)&&k,k=ws(F,b,!1,y)&&k,T)for(st=0;st<T.length;st++)F=y.g=T[st],k=ws(F,b,!1,y)&&k}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let b=0;b<T.length;b++)ut(T[b]);delete h.g[y],h.h--}}this.G=null},Ae.prototype.J=function(h,y,T,b){return this.i.add(String(h),y,!1,T,b)},Ae.prototype.K=function(h,y,T,b){return this.i.add(String(h),y,!0,T,b)};function ws(h,y,T,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let k=!0;for(let F=0;F<y.length;++F){const st=y[F];if(st&&!st.da&&st.capture==T){const Rt=st.listener,ye=st.ha||st.src;st.fa&&At(h.i,st),k=Rt.call(ye,b)!==!1&&k}}return k&&!b.defaultPrevented}function Qf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Xu(h){h.g=Qf(()=>{h.g=null,h.i&&(h.i=!1,Xu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class on extends O{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Xu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(h){O.call(this),this.h=h,this.g={}}E(Vr,O);var nl=[];function il(h){It(h.g,function(y,T){this.g.hasOwnProperty(T)&&Ia(y)},h),h.g={}}Vr.prototype.N=function(){Vr.Z.N.call(this),il(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rs=c.JSON.stringify,Xf=c.JSON.parse,$u=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Zu(){}function Wu(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){V.call(this,"d")}E(qe,V);function xn(){V.call(this,"c")}E(xn,V);var ge={},Ju=null;function Da(){return Ju=Ju||new Ae}ge.Ia="serverreachability";function tc(h){V.call(this,ge.Ia,h)}E(tc,V);function yi(h){const y=Da();Pe(y,new tc(y))}ge.STAT_EVENT="statevent";function Mr(h,y){V.call(this,ge.STAT_EVENT,h),this.stat=y}E(Mr,V);function Se(h){const y=Da();Pe(y,new Mr(y,h))}ge.Ja="timingevent";function vi(h,y){V.call(this,ge.Ja,h),this.size=y}E(vi,V);function _i(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function $f(h,y,T,b,k,F){h.info(function(){if(h.g)if(F){var st="",Rt=F.split("&");for(let Ht=0;Ht<Rt.length;Ht++){var ye=Rt[Ht].split("=");if(ye.length>1){const oe=ye[0];ye=ye[1];const Ln=oe.split("_");st=Ln.length>=2&&Ln[1]=="type"?st+(oe+"="+ye+"&"):st+(oe+"=redacted&")}}}else st=null;else st=F;return"XMLHTTP REQ ("+b+") [attempt "+k+"]: "+y+`
`+T+`
`+st})}function ec(h,y,T,b,k,F,st){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+k+"]: "+y+`
`+T+`
`+F+" "+st})}function Ti(h,y,T,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Zf(h,T)+(b?" "+b:"")})}function xr(h,y){h.info(function(){return"TIMEOUT: "+y})}Jn.prototype.info=function(){};function Zf(h,y){if(!h.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(h=0;h<F.length;h++)if(Array.isArray(F[h])){var T=F[h];if(!(T.length<2)){var b=T[1];if(Array.isArray(b)&&!(b.length<1)){var k=b[0];if(k!="noop"&&k!="stop"&&k!="close")for(let st=1;st<b.length;st++)b[st]=""}}}}return Rs(F)}catch{return y}}var Nr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},sl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rl;function Or(){}E(Or,Zu),Or.prototype.g=function(){return new XMLHttpRequest},rl=new Or;function $i(h){return encodeURIComponent(String(h))}function nc(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function ti(h,y,T,b){this.j=h,this.i=y,this.l=T,this.S=b||1,this.V=new Vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var be={},ze={};function Ei(h,y,T){h.M=1,h.A=Pr(Re(y)),h.u=T,h.R=!0,Va(h,null)}function Va(h,y){h.F=Date.now(),Ai(h),h.B=Re(h.A);var T=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),Oa(T.i,"t",b),h.C=0,T=h.j.L,h.h=new ei,h.g=yc(h.j,T?y:null,!h.u),h.P>0&&(h.O=new on(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,b=h.ba;var k="readystatechange";Array.isArray(k)||(k&&(nl[0]=k.toString()),k=nl);for(let F=0;F<k.length;F++){const st=ae(T,k[F],b||y.handleEvent,!1,y.h||y);if(!st)break;y.g[st.key]=st}y=h.J?N(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),yi(),$f(h.i,h.v,h.B,h.l,h.S,h.u)}ti.prototype.ba=function(h){h=h.target;const y=this.O;y&&si(h)==3?y.j():this.Y(h)},ti.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=si(this.g),ye=this.g.ya(),Ht=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||Rt!=4||ye==7||(ye==8||Ht<=0?yi(3):yi(2)),Si(this);var y=this.g.ca();this.X=y;var T=Wf(this);if(this.o=y==200,ec(this.i,this.v,this.B,this.l,this.S,Rt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var b,k=this.g;if((b=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var F=b;break e}}F=null}if(h=F)Ti(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,h);else{this.o=!1,this.m=3,Se(12),An(this),Nn(this);break t}}if(this.R){h=!0;let oe;for(;!this.K&&this.C<T.length;)if(oe=sc(this,T),oe==ze){Rt==4&&(this.m=4,Se(14),h=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==be){this.m=4,Se(15),Ti(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Ti(this.i,this.l,oe,null),bi(this,oe);if(ic(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||T.length!=0||this.h.h||(this.m=1,Se(16),h=!1),this.o=this.o&&h,!h)Ti(this.i,this.l,T,"[Invalid Chunked Response]"),An(this),Nn(this);else if(T.length>0&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.aa&&!st.P&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Tl(st),st.P=!0,Se(11))}}else Ti(this.i,this.l,T,null),bi(this,T);Rt==4&&An(this),this.o&&!this.K&&(Rt==4?dc(this.j,this):(this.o=!1,Ai(this)))}else Wi(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),An(this),Nn(this)}}}catch{}finally{}};function Wf(h){if(!ic(h))return h.g.la();const y=He(h.g);if(y==="")return"";let T="";const b=y.length,k=si(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return An(h),Nn(h),"";h.h.i=new c.TextDecoder}for(let F=0;F<b;F++)h.h.h=!0,T+=h.h.i.decode(y[F],{stream:!(k&&F==b-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function ic(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function sc(h,y){var T=h.C,b=y.indexOf(`
`,T);return b==-1?ze:(T=Number(y.substring(T,b)),isNaN(T)?be:(b+=1,b+T>y.length?ze:(y=y.slice(b,b+T),h.C=b+T,y)))}ti.prototype.cancel=function(){this.K=!0,An(this)};function Ai(h){h.T=Date.now()+h.H,Ma(h,h.H)}function Ma(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=_i(g(h.aa,h),y)}function Si(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ti.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(xr(this.i,this.B),this.M!=2&&(yi(),Se(17)),An(this),this.m=2,Nn(this)):Ma(this,this.T-h)};function Nn(h){h.j.I==0||h.K||dc(h.j,h)}function An(h){Si(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,il(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function bi(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||Ri(T.h,h))){if(!h.L&&Ri(T.h,h)&&T.I==3){try{var b=T.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var k=b;if(k[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)za(T),Os(T);else break t;Fr(T),Se(18)}}else T.xa=k[1],0<T.xa-T.K&&k[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=_i(g(T.Va,T),6e3));wi(T.h)<=1&&T.ta&&(T.ta=void 0)}else xi(T,11)}else if((h.L||T.g==h)&&za(T),!I(y))for(k=T.Ba.g.parse(y),y=0;y<k.length;y++){let Ht=k[y];const oe=Ht[0];if(!(oe<=T.K))if(T.K=oe,Ht=Ht[1],T.I==2)if(Ht[0]=="c"){T.M=Ht[1],T.ba=Ht[2];const Ln=Ht[3];Ln!=null&&(T.ka=Ln,T.j.info("VER="+T.ka));const Ni=Ht[4];Ni!=null&&(T.za=Ni,T.j.info("SVER="+T.za));const ri=Ht[5];ri!=null&&typeof ri=="number"&&ri>0&&(b=1.5*ri,T.O=b,T.j.info("backChannelRequestTimeoutMs_="+b)),b=T;const ai=h.g;if(ai){const qr=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var F=b.h;F.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ll(F,F.h),F.h=null))}if(b.G){const Ba=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(b.wa=Ba,Yt(b.J,b.G,Ba))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),b=T;var st=h;if(b.na=gc(b,b.L?b.ba:null,b.W),st.L){ul(b.h,st);var Rt=st,ye=b.O;ye&&(Rt.H=ye),Rt.D&&(Si(Rt),Ai(Rt)),b.g=st}else hc(b);T.i.length>0&&Mi(T)}else Ht[0]!="stop"&&Ht[0]!="close"||xi(T,7);else T.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?xi(T,7):vl(T):Ht[0]!="noop"&&T.l&&T.l.qa(Ht),T.A=0)}}yi(4)}catch{}}var we=class{constructor(h,y){this.g=h,this.map=y}};function al(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ol(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function wi(h){return h.h?1:h.g?h.g.size:0}function Ri(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function ll(h,y){h.g?h.g.add(y):h.h=y}function ul(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}al.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function cl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return x(h.i)}var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xa(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const b=h[T].indexOf("=");let k,F=null;b>=0?(k=h[T].substring(0,b),F=h[T].substring(b+1)):k=h[T],y(k,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Sn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Sn?(this.l=h.l,Be(this,h.j),this.o=h.o,this.g=h.g,Cs(this,h.u),this.h=h.h,hl(this,uc(h.i)),this.m=h.m):h&&(y=String(h).match(rc))?(this.l=!1,Be(this,y[1]||"",!0),this.o=Ci(y[2]||""),this.g=Ci(y[3]||"",!0),Cs(this,y[4]),this.h=Ci(y[5]||"",!0),hl(this,y[6]||"",!0),this.m=Ci(y[7]||"")):(this.l=!1,this.i=new Ds(null,this.l))}Sn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Lr(y,Na,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Lr(y,Na,!0),"@"),h.push($i(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Lr(T,T.charAt(0)=="/"?fl:ac,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Lr(T,oc)),h.join("")},Sn.prototype.resolve=function(h){const y=Re(this);let T=!!h.j;T?Be(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var b=h.h;if(T)Cs(y,h.u);else if(T=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var k=y.h.lastIndexOf("/");k!=-1&&(b=y.h.slice(0,k+1)+b)}if(k=b,k==".."||k==".")b="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){b=k.lastIndexOf("/",0)==0,k=k.split("/");const F=[];for(let st=0;st<k.length;){const Rt=k[st++];Rt=="."?b&&st==k.length&&F.push(""):Rt==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),b&&st==k.length&&F.push("")):(F.push(Rt),b=!0)}b=F.join("/")}else b=k}return T?y.h=b:T=h.i.toString()!=="",T?hl(y,uc(h.i)):T=!!h.m,T&&(y.m=h.m),y};function Re(h){return new Sn(h)}function Be(h,y,T){h.j=T?Ci(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Cs(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function hl(h,y,T){y instanceof Ds?(h.i=y,Pa(h.i,h.l)):(T||(y=Lr(y,Is)),h.i=new Ds(y,h.l))}function Yt(h,y,T){h.i.set(y,T)}function Pr(h){return Yt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ci(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Lr(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,fn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Na=/[#\/\?@]/g,ac=/[#\?:]/g,fl=/[#\?]/g,Is=/[#\?@]/g,oc=/#/g;function Ds(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function dn(h){h.g||(h.g=new Map,h.h=0,h.i&&xa(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}e=Ds.prototype,e.add=function(h,y){dn(this),this.i=null,h=Vs(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function lc(h,y){dn(h),y=Vs(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function dl(h,y){return dn(h),y=Vs(h,y),h.g.has(y)}e.forEach=function(h,y){dn(this),this.g.forEach(function(T,b){T.forEach(function(k){h.call(y,k,b,this)},this)},this)};function ml(h,y){dn(h);let T=[];if(typeof y=="string")dl(h,y)&&(T=T.concat(h.g.get(Vs(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}e.set=function(h,y){return dn(this),this.i=null,h=Vs(this,h),dl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},e.get=function(h,y){return h?(h=ml(this,h),h.length>0?String(h[0]):y):y};function Oa(h,y,T){lc(h,y),T.length>0&&(h.i=null,h.g.set(Vs(h,y),x(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var T=y[b];const k=$i(T);T=ml(this,T);for(let F=0;F<T.length;F++){let st=k;T[F]!==""&&(st+="="+$i(T[F])),h.push(st)}}return this.i=h.join("&")};function uc(h){const y=new Ds;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Vs(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Pa(h,y){y&&!h.j&&(dn(h),h.i=null,h.g.forEach(function(T,b){const k=b.toLowerCase();b!=k&&(lc(this,b),Oa(this,k,T))},h)),h.j=y}function ni(h,y){const T=new Jn;if(c.Image){const b=new Image;b.onload=v(On,T,"TestLoadImage: loaded",!0,y,b),b.onerror=v(On,T,"TestLoadImage: error",!1,y,b),b.onabort=v(On,T,"TestLoadImage: abort",!1,y,b),b.ontimeout=v(On,T,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function pl(h,y){const T=new Jn,b=new AbortController,k=setTimeout(()=>{b.abort(),On(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(F=>{clearTimeout(k),F.ok?On(T,"TestPingServer: ok",!0,y):On(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(k),On(T,"TestPingServer: error",!1,y)})}function On(h,y,T,b,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),b(T)}catch{}}function Ms(){this.g=new $u}function Ii(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Ii,Zu),Ii.prototype.g=function(){return new kr(this.i,this.h)};function kr(h,y){Ae.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(kr,Ae),e=kr.prototype,e.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ii(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;La(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function La(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?xs(this):ii(this),this.readyState==3&&La(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,xs(this))},e.Na=function(h){this.g&&(this.response=h,xs(this))},e.ga=function(){this.g&&xs(this)};function xs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ii(h)}e.setRequestHeader=function(h,y){this.A.append(h,y)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function ii(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Pn(h){let y="";return It(h,function(T,b){y+=b,y+=":",y+=T,y+=`\r
`}),y}function Ur(h,y,T){t:{for(b in T){var b=!1;break t}b=!0}b||(T=Pn(T),typeof h=="string"?T!=null&&$i(T):Yt(h,y,T))}function $t(h){Ae.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E($t,Ae);var Di=/^https?$/i,gl=["POST","PUT"];e=$t.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,y,T,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(F){zr(this,F);return}if(h=T||"",T=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var k in b)T.set(k,b[k]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const F of b.keys())T.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(T.keys()).find(F=>F.toLowerCase()=="content-type"),k=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(gl,y,void 0)>=0)||b||k||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,st]of T)this.g.setRequestHeader(F,st);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(F){zr(this,F)}};function zr(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,yl(h),Zi(h)}function yl(h){h.A||(h.A=!0,Pe(h,"complete"),Pe(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pe(this,"complete"),Pe(this,"abort"),Zi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),$t.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},e.Xa=function(){Br(this)};function Br(h){if(h.h&&typeof u<"u"){if(h.v&&si(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pe(h,"readystatechange"),si(h)==4){h.h=!1;try{const F=h.ca();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var b;if(b=F===0){let st=String(h.D).match(rc)[1]||null;!st&&c.self&&c.self.location&&(st=c.self.location.protocol.slice(0,-1)),b=!Di.test(st?st.toLowerCase():"")}T=b}if(T)Pe(h,"complete"),Pe(h,"success");else{h.o=6;try{var k=si(h)>2?h.g.statusText:""}catch{k=""}h.l=k+" ["+h.ca()+"]",yl(h)}}finally{Zi(h)}}}}function Zi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||Pe(h,"ready");try{T.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function si(h){return h.g?h.g.readyState:0}e.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Xf(y)}};function He(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(h){const y={};h=(h.g&&si(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(I(h[b]))continue;var T=nc(h[b]);const k=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const F=y[k]||[];y[k]=F,F.push(T)}Nt(y,function(b){return b.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Ns(h){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,h),this.Za=Vi("retryDelaySeedMs",1e4,h),this.Ta=Vi("forwardChannelMaxRetries",2,h),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new al(h&&h.concurrentRequestLimit),this.Ba=new Ms,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Ns.prototype,e.ka=8,e.I=1,e.connect=function(h,y,T,b){Se(0),this.W=h,this.H=y||{},T&&b!==void 0&&(this.H.OSID=T,this.H.OAID=b),this.F=this.X,this.J=gc(this,null,this.W),Mi(this)};function vl(h){if(ka(h),h.I==3){var y=h.V++,T=Re(h.J);if(Yt(T,"SID",h.M),Yt(T,"RID",y),Yt(T,"TYPE","terminate"),jr(h,T),y=new ti(h,h.j,y),y.M=2,y.A=Pr(Re(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=yc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ai(y)}pc(h)}function Os(h){h.g&&(Tl(h),h.g.cancel(),h.g=null)}function ka(h){Os(h),h.v&&(c.clearTimeout(h.v),h.v=null),za(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Mi(h){if(!ol(h.h)&&!h.m){h.m=!0;var y=h.Ea;at||w(),dt||(at(),dt=!0),C.add(y,h),h.D=0}}function Ua(h,y){return wi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=_i(g(h.Ea,h,y),mc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const k=new ti(this,this.j,h);let F=this.o;if(this.U&&(F?(F=N(F),rt(F,this.U)):F=this.U),this.u!==null||this.R||(k.J=F,F=null),this.S)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var b=this.i[T];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=cc(this,k,y),T=Re(this.J),Yt(T,"RID",h),Yt(T,"CVER",22),this.G&&Yt(T,"X-HTTP-Session-Id",this.G),jr(this,T),F&&(this.R?y="headers="+$i(Pn(F))+"&"+y:this.u&&Ur(T,this.u,F)),ll(this.h,k),this.Ra&&Yt(T,"TYPE","init"),this.S?(Yt(T,"$req",y),Yt(T,"SID","null"),k.U=!0,Ei(k,T,null)):Ei(k,T,y),this.I=2}}else this.I==3&&(h?_l(this,h):this.i.length==0||ol(this.h)||_l(this))};function _l(h,y){var T;y?T=y.l:T=h.V++;const b=Re(h.J);Yt(b,"SID",h.M),Yt(b,"RID",T),Yt(b,"AID",h.K),jr(h,b),h.u&&h.o&&Ur(b,h.u,h.o),T=new ti(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=cc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ll(h.h,T),Ei(T,b,y)}function jr(h,y){h.H&&It(h.H,function(T,b){Yt(y,b,T)}),h.l&&It({},function(T,b){Yt(y,b,T)})}function cc(h,y,T){T=Math.min(h.i.length,T);const b=h.l?g(h.l.Ka,h.l,h):null;t:{var k=h.i;let Rt=-1;for(;;){const ye=["count="+T];Rt==-1?T>0?(Rt=k[0].g,ye.push("ofs="+Rt)):Rt=0:ye.push("ofs="+Rt);let Ht=!0;for(let oe=0;oe<T;oe++){var F=k[oe].g;const Ln=k[oe].map;if(F-=Rt,F<0)Rt=Math.max(0,k[oe].g-100),Ht=!1;else try{F="req"+F+"_"||"";try{var st=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Ni,ri]of st){let ai=ri;m(ri)&&(ai=Rs(ri)),ye.push(F+Ni+"="+encodeURIComponent(ai))}}catch(Ni){throw ye.push(F+"type="+encodeURIComponent("_badmap")),Ni}}catch{b&&b(Ln)}}if(Ht){st=ye.join("&");break t}}st=void 0}return h=h.i.splice(0,T),y.G=h,st}function hc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;at||w(),dt||(at(),dt=!0),C.add(y,h),h.A=0}}function Fr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=_i(g(h.Da,h),mc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,fc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=_i(g(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),Os(this),fc(this))};function Tl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function fc(h){h.g=new ti(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Re(h.na);Yt(y,"RID","rpc"),Yt(y,"SID",h.M),Yt(y,"AID",h.K),Yt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Yt(y,"TO",h.ia),Yt(y,"TYPE","xmlhttp"),jr(h,y),h.u&&h.o&&Ur(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Pr(Re(y)),T.u=null,T.R=!0,Va(T,h)}e.Va=function(){this.C!=null&&(this.C=null,Os(this),Fr(this),Se(19))};function za(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function dc(h,y){var T=null;if(h.g==y){za(h),Tl(h),h.g=null;var b=2}else if(Ri(h.h,y))T=y.G,ul(h.h,y),b=1;else return;if(h.I!=0){if(y.o)if(b==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var k=h.D;b=Da(),Pe(b,new vi(b,T)),Mi(h)}else hc(h);else if(k=y.m,k==3||k==0&&y.X>0||!(b==1&&Ua(h,y)||b==2&&Fr(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),k){case 1:xi(h,5);break;case 4:xi(h,10);break;case 3:xi(h,6);break;default:xi(h,2)}}}function mc(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function xi(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),b=h.Ua;const k=!b;b=new Sn(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Be(b,"https"),Pr(b),k?ni(b.toString(),T):pl(b.toString(),T)}else Se(2);h.I=0,h.l&&h.l.pa(y),pc(h),ka(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function pc(h){if(h.I=0,h.ja=[],h.l){const y=cl(h.h);(y.length!=0||h.i.length!=0)&&(j(h.ja,y),j(h.ja,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.oa()}}function gc(h,y,T){var b=T instanceof Sn?Re(T):new Sn(T);if(b.g!="")y&&(b.g=y+"."+b.g),Cs(b,b.u);else{var k=c.location;b=k.protocol,y=y?y+"."+k.hostname:k.hostname,k=+k.port;const F=new Sn(null);b&&Be(F,b),y&&(F.g=y),k&&Cs(F,k),T&&(F.h=T),b=F}return T=h.G,y=h.wa,T&&y&&Yt(b,T,y),Yt(b,"VER",h.ka),jr(h,b),b}function yc(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new $t(new Ii({ab:T})):new $t(h.ma),y.Fa(h.L),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function vc(){}e=vc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Ps(){}Ps.prototype.g=function(h,y){return new ln(h,y)};function ln(h,y){Ae.call(this),this.g=new Ns(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!I(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Ji(this)}E(ln,Ae),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){vl(this.g)},ln.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Rs(h),h=T);y.i.push(new we(y.Ya++,h)),y.I==3&&Mi(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,ln.Z.N.call(this)};function _c(h){qe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const T in y){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(_c,qe);function Tc(){xn.call(this),this.status=1}E(Tc,xn);function Ji(h){this.g=h}E(Ji,vc),Ji.prototype.ra=function(){Pe(this.g,"a")},Ji.prototype.qa=function(h){Pe(this.g,new _c(h))},Ji.prototype.pa=function(h){Pe(this.g,new Tc)},Ji.prototype.oa=function(){Pe(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,db=function(){return new Ps},fb=function(){return Da()},hb=ge,ng={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nr.NO_ERROR=0,Nr.TIMEOUT=8,Nr.HTTP_ERROR=6,Uh=Nr,sl.COMPLETE="complete",cb=sl,Wu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,ou=Wu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,ub=$t}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});const KE="@firebase/firestore",YE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new Rf("@firebase/firestore");function yo(){return ma.logLevel}function ot(e,...t){if(ma.logLevel<=Lt.DEBUG){const n=t.map(iy);ma.debug(`Firestore (${Qo}): ${e}`,...n)}}function Es(e,...t){if(ma.logLevel<=Lt.ERROR){const n=t.map(iy);ma.error(`Firestore (${Qo}): ${e}`,...n)}}function ko(e,...t){if(ma.logLevel<=Lt.WARN){const n=t.map(iy);ma.warn(`Firestore (${Qo}): ${e}`,...n)}}function iy(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,mb(e,r,n)}function mb(e,t,n){let r=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Es(r),new Error(r)}function Kt(e,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,e||mb(t,o,r)}function wt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends pi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class HN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class GN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class KN{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new mr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new mr)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new pb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class YN{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QN{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new YN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class QE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const r=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new QE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new QE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=$N(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function kt(e,t){return e<t?-1:e>t?1:0}function ig(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const o=e.charAt(r),u=t.charAt(r);if(o!==u)return vp(o)===vp(u)?kt(o,u):vp(o)?1:-1}return kt(e.length,t.length)}const ZN=55296,WN=57343;function vp(e){const t=e.charCodeAt(0);return t>=ZN&&t<=WN}function Uo(e,t,n){return e.length===t.length&&e.every(((r,o)=>n(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="__name__";class Ui{constructor(t,n,r){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&_t(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ui.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ui?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=Ui.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return kt(t.length,n.length)}static compareSegments(t,n){const r=Ui.isNumericId(t),o=Ui.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ui.extractNumericId(t).compare(Ui.extractNumericId(n)):ig(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return dr.fromString(t.substring(4,t.length-2))}}class se extends Ui{construct(t,n,r){return new se(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new mt(tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new se(n)}static emptyPath(){return new se([])}}const JN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Ui{construct(t,n,r){return new Ze(t,n,r)}static isValidIdentifier(t){return JN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===XE}static keyField(){return new Ze([XE])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new mt(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new mt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new mt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new mt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(se.fromString(t))}static fromName(t){return new gt(se.fromString(t).popFirst(5))}static empty(){return new gt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return se.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new se(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(e,t,n){if(!n)throw new mt(tt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function tO(e,t,n,r){if(t===!0&&r===!0)throw new mt(tt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function $E(e){if(!gt.isDocumentKey(e))throw new mt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ZE(e){if(gt.isDocumentKey(e))throw new mt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function yb(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function ry(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":_t(12329,{type:typeof e})}function ef(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ry(e);throw new mt(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(e,t){const n={typeString:e};return t&&(n.value=t),n}function ju(e,t){if(!yb(e))throw new mt(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const c=e[r];if(o&&typeof c!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new mt(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=-62135596800,JE=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*JE);return new re(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new mt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new mt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<WE)throw new mt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JE}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ju(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-WE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ne("string",re._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new re(0,0))}static max(){return new St(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=-1;function eO(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=St.fromTimestamp(r===1e9?new re(n+1,0):new re(n,r));return new Tr(o,gt.empty(),t)}function nO(e){return new Tr(e.readTime,e.key,Iu)}class Tr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Tr(St.min(),gt.empty(),Iu)}static max(){return new Tr(St.max(),gt.empty(),Iu)}}function iO(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(e.documentKey,t.documentKey),n!==0?n:kt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(e){if(e.code!==tt.FAILED_PRECONDITION||e.message!==sO)throw e;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):W.reject(n)}static resolve(t){return new W(((n,r)=>{n(t)}))}static reject(t){return new W(((n,r)=>{r(t)}))}static waitFor(t){return new W(((n,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(p=>r(p)))})),c=!0,u===o&&n()}))}static or(t){let n=W.resolve(!1);for(const r of t)n=n.next((o=>o?W.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new W(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((v=>{c[g]=v,++m,m===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,n){return new W(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function aO(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $o(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Cf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=-1;function If(e){return e==null}function nf(e){return e===0&&1/e==-1/0}function oO(e){return typeof e=="number"&&Number.isInteger(e)&&!nf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="";function lO(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=tA(t)),t=uO(e.get(n),t);return tA(t)}function uO(e,t){let n=t;const r=e.length;for(let o=0;o<r;o++){const u=e.charAt(o);switch(u){case"\0":n+="";break;case vb:n+="";break;default:n+=u}}return n}function tA(e){return e+vb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ea(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _b(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,n){this.comparator=t,this.root=n||$e.EMPTY}insert(t,n){return new he(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ih(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ih(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ih(this.root,t,this.comparator,!0)}}class Ih{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??$e.RED,this.left=o??$e.EMPTY,this.right=u??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new $e(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return $e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new $e(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new nA(this.data.getIterator())}getIteratorFrom(t){return new nA(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ue(this.comparator);return n.data=t,n}}class nA{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new fi([])}unionWith(t){let n=new Ue(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new fi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Uo(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Tb("Invalid base64 string: "+u):u}})(t);return new Je(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Je(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const cO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(e){if(Kt(!!e,39018),typeof e=="string"){let t=0;const n=cO.exec(e);if(Kt(!!n,46558,{timestamp:e}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ee(e.seconds),nanos:Ee(e.nanos)}}function Ee(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ar(e){return typeof e=="string"?Je.fromBase64String(e):Je.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="server_timestamp",Ab="__type__",Sb="__previous_value__",bb="__local_write_time__";function oy(e){return(e?.mapValue?.fields||{})[Ab]?.stringValue===Eb}function Df(e){const t=e.mapValue.fields[Sb];return oy(t)?Df(t):t}function Du(e){const t=Er(e.mapValue.fields[bb].timestampValue);return new re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(t,n,r,o,u,c,m,p,g,v){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const sf="(default)";class Vu{constructor(t,n){this.projectId=t,this.database=n||sf}static empty(){return new Vu("","")}get isDefaultDatabase(){return this.database===sf}isEqual(t){return t instanceof Vu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="__type__",fO="__max__",Dh={mapValue:{}},Rb="__vector__",rf="value";function Sr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oy(e)?4:mO(e)?9007199254740991:dO(e)?10:11:_t(28295,{value:e})}function Qi(e,t){if(e===t)return!0;const n=Sr(e);if(n!==Sr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Du(e).isEqual(Du(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Er(o.timestampValue),m=Er(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(o,u){return Ar(o.bytesValue).isEqual(Ar(u.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ee(o.geoPointValue.latitude)===Ee(u.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(u.geoPointValue.longitude)})(e,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ee(o.integerValue)===Ee(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Ee(o.doubleValue),m=Ee(u.doubleValue);return c===m?nf(c)===nf(m):isNaN(c)&&isNaN(m)}return!1})(e,t);case 9:return Uo(e.arrayValue.values||[],t.arrayValue.values||[],Qi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(eA(c)!==eA(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Qi(c[p],m[p])))return!1;return!0})(e,t);default:return _t(52216,{left:e})}}function Mu(e,t){return(e.values||[]).find((n=>Qi(n,t)))!==void 0}function zo(e,t){if(e===t)return 0;const n=Sr(e),r=Sr(t);if(n!==r)return kt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(e.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Ee(u.integerValue||u.doubleValue),p=Ee(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(e,t);case 3:return iA(e.timestampValue,t.timestampValue);case 4:return iA(Du(e),Du(t));case 5:return ig(e.stringValue,t.stringValue);case 6:return(function(u,c){const m=Ar(u),p=Ar(c);return m.compareTo(p)})(e.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=kt(m[g],p[g]);if(v!==0)return v}return kt(m.length,p.length)})(e.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=kt(Ee(u.latitude),Ee(c.latitude));return m!==0?m:kt(Ee(u.longitude),Ee(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return sA(e.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[rf]?.arrayValue,v=p[rf]?.arrayValue,E=kt(g?.values?.length||0,v?.values?.length||0);return E!==0?E:sA(g,v)})(e.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Dh.mapValue&&c===Dh.mapValue)return 0;if(u===Dh.mapValue)return 1;if(c===Dh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const S=ig(p[E],v[E]);if(S!==0)return S;const x=zo(m[p[E]],g[v[E]]);if(x!==0)return x}return kt(p.length,v.length)})(e.mapValue,t.mapValue);default:throw _t(23264,{he:n})}}function iA(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return kt(e,t);const n=Er(e),r=Er(t),o=kt(n.seconds,r.seconds);return o!==0?o:kt(n.nanos,r.nanos)}function sA(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=zo(n[o],r[o]);if(u)return u}return kt(n.length,r.length)}function Bo(e){return sg(e)}function sg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const r=Er(n);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Ar(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return gt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=sg(u);return r+"]"})(e.arrayValue):"mapValue"in e?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${sg(n.fields[c])}`;return o+"}"})(e.mapValue):_t(61005,{value:e})}function zh(e){switch(Sr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Df(e);return t?16+zh(t):16;case 5:return 2*e.stringValue.length;case 6:return Ar(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+zh(u)),0)})(e.arrayValue);case 10:case 11:return(function(r){let o=0;return Ea(r.fields,((u,c)=>{o+=u.length+zh(c)})),o})(e.mapValue);default:throw _t(13486,{value:e})}}function rg(e){return!!e&&"integerValue"in e}function ly(e){return!!e&&"arrayValue"in e}function rA(e){return!!e&&"nullValue"in e}function aA(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Bh(e){return!!e&&"mapValue"in e}function dO(e){return(e?.mapValue?.fields||{})[wb]?.stringValue===Rb}function gu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Ea(e.mapValue.fields,((n,r)=>t.mapValue.fields[n]=gu(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gu(e.arrayValue.values[n]);return t}return{...e}}function mO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===fO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.value=t}static empty(){return new Yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Bh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=gu(n)}setAll(t){let n=Ze.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=m.popLast()}c?r[m.lastSegment()]=gu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Qi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){Ea(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Yn(gu(this.value))}}function Cb(e){const t=[];return Ea(e.fields,((n,r)=>{const o=new Ze([n]);if(Bh(r)){const u=Cb(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new fi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,n,r,o,u,c,m){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new sn(t,0,St.min(),St.min(),St.min(),Yn.empty(),0)}static newFoundDocument(t,n,r,o){return new sn(t,1,n,St.min(),r,o,0)}static newNoDocument(t,n){return new sn(t,2,n,St.min(),St.min(),Yn.empty(),0)}static newUnknownDocument(t,n){return new sn(t,3,n,St.min(),St.min(),Yn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,n){this.position=t,this.inclusive=n}}function oA(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const u=t[o],c=e.position[o];if(u.field.isKeyField()?r=gt.comparator(gt.fromName(c.referenceValue),n.key):r=zo(c,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function lA(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Qi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,n="asc"){this.field=t,this.dir=n}}function pO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{}class ke extends Ib{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new yO(t,n,r):n==="array-contains"?new TO(t,r):n==="in"?new EO(t,r):n==="not-in"?new AO(t,r):n==="array-contains-any"?new SO(t,r):new ke(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new vO(t,r):new _O(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zo(n,this.value)):n!==null&&Sr(this.value)===Sr(n)&&this.matchesComparison(zo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xi extends Ib{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Xi(t,n)}matches(t){return Db(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Db(e){return e.op==="and"}function Vb(e){return gO(e)&&Db(e)}function gO(e){for(const t of e.filters)if(t instanceof Xi)return!1;return!0}function ag(e){if(e instanceof ke)return e.field.canonicalString()+e.op.toString()+Bo(e.value);if(Vb(e))return e.filters.map((t=>ag(t))).join(",");{const t=e.filters.map((n=>ag(n))).join(",");return`${e.op}(${t})`}}function Mb(e,t){return e instanceof ke?(function(r,o){return o instanceof ke&&r.op===o.op&&r.field.isEqual(o.field)&&Qi(r.value,o.value)})(e,t):e instanceof Xi?(function(r,o){return o instanceof Xi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&Mb(c,o.filters[m])),!0):!1})(e,t):void _t(19439)}function xb(e){return e instanceof ke?(function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`})(e):e instanceof Xi?(function(n){return n.op.toString()+" {"+n.getFilters().map(xb).join(" ,")+"}"})(e):"Filter"}class yO extends ke{constructor(t,n,r){super(t,n,r),this.key=gt.fromName(r.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class vO extends ke{constructor(t,n){super(t,"in",n),this.keys=Nb("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class _O extends ke{constructor(t,n){super(t,"not-in",n),this.keys=Nb("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Nb(e,t){return(t.arrayValue?.values||[]).map((n=>gt.fromName(n.referenceValue)))}class TO extends ke{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ly(n)&&Mu(n.arrayValue,this.value)}}class EO extends ke{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Mu(this.value.arrayValue,n)}}class AO extends ke{constructor(t,n){super(t,"not-in",n)}matches(t){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mu(this.value.arrayValue,n)}}class SO extends ke{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ly(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Mu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(t,n=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function uA(e,t=null,n=[],r=[],o=null,u=null,c=null){return new bO(e,t,n,r,o,u,c)}function uy(e){const t=wt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>ag(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),If(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>Bo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>Bo(r))).join(",")),t.Te=n}return t.Te}function cy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!pO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Mb(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lA(e.startAt,t.startAt)&&lA(e.endAt,t.endAt)}function og(e){return gt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,n=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wO(e,t,n,r,o,u,c,m){return new Vf(e,t,n,r,o,u,c,m)}function Ob(e){return new Vf(e)}function cA(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function RO(e){return e.collectionGroup!==null}function yu(e){const t=wt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Ue(Ze.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new of(u,r))})),n.has(Ze.keyField().canonicalString())||t.Ie.push(new of(Ze.keyField(),r))}return t.Ie}function ji(e){const t=wt(e);return t.Ee||(t.Ee=CO(t,yu(e))),t.Ee}function CO(e,t){if(e.limitType==="F")return uA(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new of(o.field,u)}));const n=e.endAt?new af(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new af(e.startAt.position,e.startAt.inclusive):null;return uA(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function lg(e,t,n){return new Vf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Mf(e,t){return cy(ji(e),ji(t))&&e.limitType===t.limitType}function Pb(e){return`${uy(ji(e))}|lt:${e.limitType}`}function vo(e){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>xb(o))).join(", ")}]`),If(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Bo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Bo(o))).join(",")),`Target(${r})`})(ji(e))}; limitType=${e.limitType})`}function xf(e,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):gt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(e,t)&&(function(r,o){for(const u of yu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(e,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(e,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=oA(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,yu(r),o)||r.endAt&&!(function(c,m,p){const g=oA(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,yu(r),o))})(e,t)}function IO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Lb(e){return(t,n)=>{let r=!1;for(const o of yu(e)){const u=DO(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function DO(e,t,n){const r=e.field.isKeyField()?gt.comparator(t.key,n.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?zo(p,g):_t(42886)})(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ea(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return _b(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new he(gt.comparator);function As(){return VO}const kb=new he(gt.comparator);function lu(...e){let t=kb;for(const n of e)t=t.insert(n.key,n);return t}function Ub(e){let t=kb;return e.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function ca(){return vu()}function zb(){return vu()}function vu(){return new Aa((e=>e.toString()),((e,t)=>e.isEqual(t)))}const MO=new he(gt.comparator),xO=new Ue(gt.comparator);function Ut(...e){let t=xO;for(const n of e)t=t.add(n);return t}const NO=new Ue(kt);function OO(){return NO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(t)?"-0":t}}function Bb(e){return{integerValue:""+e}}function PO(e,t){return oO(t)?Bb(t):hy(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(){this._=void 0}}function LO(e,t,n){return e instanceof xu?(function(o,u){const c={fields:{[Ab]:{stringValue:Eb},[bb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&oy(u)&&(u=Df(u)),u&&(c.fields[Sb]=u),{mapValue:c}})(n,t):e instanceof Nu?Fb(e,t):e instanceof Ou?qb(e,t):(function(o,u){const c=jb(o,u),m=hA(c)+hA(o.Ae);return rg(c)&&rg(o.Ae)?Bb(m):hy(o.serializer,m)})(e,t)}function kO(e,t,n){return e instanceof Nu?Fb(e,t):e instanceof Ou?qb(e,t):n}function jb(e,t){return e instanceof lf?(function(r){return rg(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class xu extends Nf{}class Nu extends Nf{constructor(t){super(),this.elements=t}}function Fb(e,t){const n=Hb(t);for(const r of e.elements)n.some((o=>Qi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Ou extends Nf{constructor(t){super(),this.elements=t}}function qb(e,t){let n=Hb(t);for(const r of e.elements)n=n.filter((o=>!Qi(o,r)));return{arrayValue:{values:n}}}class lf extends Nf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function hA(e){return Ee(e.integerValue||e.doubleValue)}function Hb(e){return ly(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(t,n){this.field=t,this.transform=n}}function zO(e,t){return e.field.isEqual(t.field)&&(function(r,o){return r instanceof Nu&&o instanceof Nu||r instanceof Ou&&o instanceof Ou?Uo(r.elements,o.elements,Qi):r instanceof lf&&o instanceof lf?Qi(r.Ae,o.Ae):r instanceof xu&&o instanceof xu})(e.transform,t.transform)}class BO{constructor(t,n){this.version=t,this.transformResults=n}}class ys{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ys}static exists(t){return new ys(void 0,t)}static updateTime(t){return new ys(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Of{}function Gb(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Yb(e.key,ys.none()):new Fu(e.key,e.data,ys.none());{const n=e.data,r=Yn.empty();let o=new Ue(Ze.comparator);for(let u of t.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Sa(e.key,r,new fi(o.toArray()),ys.none())}}function jO(e,t,n){e instanceof Fu?(function(o,u,c){const m=o.value.clone(),p=dA(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):e instanceof Sa?(function(o,u,c){if(!jh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=dA(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(Kb(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(e,t,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function _u(e,t,n,r){return e instanceof Fu?(function(u,c,m,p){if(!jh(u.precondition,c))return m;const g=u.value.clone(),v=mA(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,r):e instanceof Sa?(function(u,c,m,p){if(!jh(u.precondition,c))return m;const g=mA(u.fieldTransforms,p,c),v=c.data;return v.setAll(Kb(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(e,t,n,r):(function(u,c,m){return jh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(e,t,n)}function FO(e,t){let n=null;for(const r of e.fieldTransforms){const o=t.data.field(r.field),u=jb(r.transform,o||null);u!=null&&(n===null&&(n=Yn.empty()),n.set(r.field,u))}return n||null}function fA(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Uo(r,o,((u,c)=>zO(u,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Fu extends Of{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sa extends Of{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Kb(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function dA(e,t,n){const r=new Map;Kt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const u=e[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,kO(c,m,n[o]))}return r}function mA(e,t,n){const r=new Map;for(const o of e){const u=o.transform,c=n.data.field(o.field);r.set(o.field,LO(u,c,t))}return r}class Yb extends Of{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qO extends Of{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&jO(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=_u(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=_u(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=zb();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const p=Gb(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Uo(this.mutations,t.mutations,((n,r)=>fA(n,r)))&&Uo(this.baseMutations,t.baseMutations,((n,r)=>fA(n,r)))}}class fy{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Kt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return MO})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new fy(t,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me,jt;function YO(e){switch(e){case tt.OK:return _t(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return _t(15467,{code:e})}}function Qb(e){if(e===void 0)return Es("GRPC error has no .code"),tt.UNKNOWN;switch(e){case Me.OK:return tt.OK;case Me.CANCELLED:return tt.CANCELLED;case Me.UNKNOWN:return tt.UNKNOWN;case Me.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Me.INTERNAL:return tt.INTERNAL;case Me.UNAVAILABLE:return tt.UNAVAILABLE;case Me.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Me.NOT_FOUND:return tt.NOT_FOUND;case Me.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Me.ABORTED:return tt.ABORTED;case Me.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Me.DATA_LOSS:return tt.DATA_LOSS;default:return _t(39323,{code:e})}}(jt=Me||(Me={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new dr([4294967295,4294967295],0);function pA(e){const t=QO().encode(e),n=new lb;return n.update(t),new Uint8Array(n.digest())}function gA(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new dr([n,r],0),new dr([o,u],0)]}class dy{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uu(`Invalid padding: ${n}`);if(r<0)throw new uu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new uu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=dr.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(dr.fromNumber(r)));return o.compare(XO)===1&&(o=new dr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=pA(t),[r,o]=gA(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new dy(u,o,n);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const n=pA(t),[r,o]=gA(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,qu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Pf(St.min(),o,new he(kt),As(),Ut())}}class qu{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new qu(r,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t,n,r,o){this.be=t,this.removedTargetIds=n,this.key=r,this.De=o}}class Xb{constructor(t,n){this.targetId=t,this.Ce=n}}class $b{constructor(t,n,r=Je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class yA{constructor(){this.ve=0,this.Fe=vA(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),r=Ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:_t(38017,{changeType:u})}})),new qu(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=vA()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $O{constructor(t){this.Ge=t,this.ze=new Map,this.je=As(),this.Je=Vh(),this.He=Vh(),this.Ye=new he(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(og(u))if(r===0){const c=new gt(u.path);this.et(n,c,sn.newNoDocument(c,St.min()))}else Kt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=Ar(r).toUint8Array()}catch(p){if(p instanceof Tb)return ko("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new dy(c,o,u)}catch(p){return ko(p instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&og(m.target)){const p=new gt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,sn.newNoDocument(p,t))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let r=Ut();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Pf(t,n,this.Ye,this.je,r);return this.je=As(),this.Je=Vh(),this.He=Vh(),this.Ye=new he(kt),o}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new yA,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ue(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ue(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new yA),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Vh(){return new he(gt.comparator)}function vA(){return new he(gt.comparator)}const ZO={asc:"ASCENDING",desc:"DESCENDING"},WO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JO={and:"AND",or:"OR"};class t4{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ug(e,t){return e.useProto3Json||If(t)?t:{value:t}}function uf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function e4(e,t){return uf(e,t.toTimestamp())}function Fi(e){return Kt(!!e,49232),St.fromTimestamp((function(n){const r=Er(n);return new re(r.seconds,r.nanos)})(e))}function my(e,t){return cg(e,t).canonicalString()}function cg(e,t){const n=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(e).child("documents");return t===void 0?n:n.child(t)}function Wb(e){const t=se.fromString(e);return Kt(iw(t),10190,{key:t.toString()}),t}function hg(e,t){return my(e.databaseId,t.path)}function _p(e,t){const n=Wb(t);if(n.get(1)!==e.databaseId.projectId)throw new mt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gt(tw(n))}function Jb(e,t){return my(e.databaseId,t)}function n4(e){const t=Wb(e);return t.length===4?se.emptyPath():tw(t)}function fg(e){return new se(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function tw(e){return Kt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function _A(e,t,n){return{name:hg(e,t),fields:n.value.mapValue.fields}}function i4(e,t){let n;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Kt(v===void 0||typeof v=="string",58123),Je.fromBase64String(v||"")):(Kt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Je.fromUint8Array(v||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?tt.UNKNOWN:Qb(g.code);return new mt(v,g.message||"")})(c);n=new $b(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=_p(e,r.document.name),u=Fi(r.document.updateTime),c=r.document.createTime?Fi(r.document.createTime):St.min(),m=new Yn({mapValue:{fields:r.document.fields}}),p=sn.newFoundDocument(o,u,c,m),g=r.targetIds||[],v=r.removedTargetIds||[];n=new Fh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=_p(e,r.document),u=r.readTime?Fi(r.readTime):St.min(),c=sn.newNoDocument(o,u),m=r.removedTargetIds||[];n=new Fh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=_p(e,r.document),u=r.removedTargetIds||[];n=new Fh([],u,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new KO(o,u),m=r.targetId;n=new Xb(m,c)}}return n}function s4(e,t){let n;if(t instanceof Fu)n={update:_A(e,t.key,t.value)};else if(t instanceof Yb)n={delete:hg(e,t.key)};else if(t instanceof Sa)n={update:_A(e,t.key,t.data),updateMask:d4(t.fieldMask)};else{if(!(t instanceof qO))return _t(16599,{Vt:t.type});n={verify:hg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof xu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Nu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ou)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof lf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw _t(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:e4(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)})(e,t.precondition)),n}function r4(e,t){return e&&e.length>0?(Kt(t!==void 0,14353),e.map((n=>(function(o,u){let c=o.updateTime?Fi(o.updateTime):Fi(u);return c.isEqual(St.min())&&(c=Fi(u)),new BO(c,o.transformResults||[])})(n,t)))):[]}function a4(e,t){return{documents:[Jb(e,t.path)]}}function o4(e,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Jb(e,o);const u=(function(g){if(g.length!==0)return nw(Xi.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:_o(S.field),direction:c4(S.dir)}})(v)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const m=ug(e,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function l4(e){let t=n4(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Kt(r===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];n.where&&(u=(function(E){const S=ew(E);return S instanceof Xi&&Vb(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((S=>(function(j){return new of(To(j.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(E){let S;return S=typeof E=="object"?E.value:E,If(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(E){const S=!!E.before,x=E.values||[];return new af(x,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(E){const S=!E.before,x=E.values||[];return new af(x,S)})(n.endAt)),wO(t,o,c,u,m,"F",p,g)}function u4(e,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function ew(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=To(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=To(n.unaryFilter.field);return ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=To(n.unaryFilter.field);return ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=To(n.unaryFilter.field);return ke.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(e):e.fieldFilter!==void 0?(function(n){return ke.create(To(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Xi.create(n.compositeFilter.filters.map((r=>ew(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(n.compositeFilter.op))})(e):_t(30097,{filter:e})}function c4(e){return ZO[e]}function h4(e){return WO[e]}function f4(e){return JO[e]}function _o(e){return{fieldPath:e.canonicalString()}}function To(e){return Ze.fromServerFormat(e.fieldPath)}function nw(e){return e instanceof ke?(function(n){if(n.op==="=="){if(aA(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(rA(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aA(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(rA(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:h4(n.op),value:n.value}}})(e):e instanceof Xi?(function(n){const r=n.getFilters().map((o=>nw(o)));return r.length===1?r[0]:{compositeFilter:{op:f4(n.op),filters:r}}})(e):_t(54877,{filter:e})}function d4(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function iw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(t,n,r,o,u=St.min(),c=St.min(),m=Je.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new cr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(t){this.yt=t}}function p4(e){const t=l4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?lg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.Cn=new y4}addToCollectionParentIndex(t,n){return this.Cn.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(Tr.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(Tr.min())}updateCollectionGroup(t,n,r){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class y4{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Ue(se.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ue(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sw=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(sw,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new jo(0)}static cr(){return new jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="LruGarbageCollector",v4=1048576;function AA([e,t],[n,r]){const o=kt(e,n);return o===0?kt(t,r):o}class _4{constructor(t){this.Ir=t,this.buffer=new Ue(AA),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();AA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class T4{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(EA,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$o(n)?ot(EA,"Ignoring IndexedDB error during garbage collection: ",n):await Xo(n)}await this.Vr(3e5)}))}}class E4{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return W.resolve(Cf.ce);const r=new _4(n);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(TA)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TA):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(r=E,m=Date.now(),this.removeTargets(t,r,n)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((E=>(g=Date.now(),yo()<=Lt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function A4(e,t){return new E4(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.changes=new Aa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&_u(r.mutation,o,fi.empty(),re.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Ut()){const o=ca();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let c=lu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const r=ca();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Ut())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(t,n,r,o){let u=As();const c=vu(),m=(function(){return vu()})();return n.forEach(((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Sa)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),_u(v.mutation,g,v.mutation.getFieldMask(),re.now())):c.set(g.key,fi.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>m.set(g,new b4(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const r=vu();let o=new he(((c,m)=>c-m)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=r.get(p)||fi.empty();v=m.applyToLocalView(g,v),r.set(p,v);const E=(o.get(m.batchId)||Ut()).add(p);o=o.insert(m.batchId,E)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,E=zb();v.forEach((S=>{if(!u.has(S)){const x=Gb(n.get(S),r.get(S));x!==null&&E.set(S,x),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return W.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return(function(c){return gt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):RO(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):W.resolve(ca());let m=Iu,p=u;return c.next((g=>W.forEach(g,((v,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(v)?W.resolve():this.remoteDocumentCache.getEntry(t,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ut()))).next((v=>({batchId:m,changes:Ub(v)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next((r=>{let o=lu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let c=lu();return this.indexManager.getCollectionParents(t,u).next((m=>W.forEach(m,(p=>{const g=(function(E,S){return new Vf(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((E,S)=>{c=c.insert(E,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,sn.newInvalidDocument(v)))}));let m=lu();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&_u(v.mutation,g,fi.empty(),re.now()),xf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Fi(o.createTime)}})(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:p4(o.bundledQuery),readTime:Fi(o.readTime)}})(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.overlays=new he(gt.comparator),this.qr=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ca();return W.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.St(t,n,u)})),W.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(t,n,r){const o=ca(),u=n.length+1,c=new gt(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new he(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=ca(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=ca(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return W.resolve(m)}St(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new GO(n,r));let u=this.qr.get(n);u===void 0&&(u=Ut(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(){this.Qr=new Ue(Fe.$r),this.Ur=new Ue(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Fe(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Fe(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new gt(new se([])),r=new Fe(n,t),o=new Fe(n,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new gt(new se([])),r=new Fe(n,t),o=new Fe(n,t+1);let u=Ut();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const n=new Fe(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Fe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return gt.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ue(Fe.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new HO(u,n,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Fe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(c)}lookupMutationBatch(t,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?ay:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Fe(n,0),o=new Fe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ue(kt);return n.forEach((o=>{const u=new Fe(o,0),c=new Fe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;gt.isDocumentKey(u)||(u=u.child(""));const c=new Fe(new gt(u),0);let m=new Ue(kt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),W.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(n.mutations,(o=>{const u=new Fe(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Fe(n,0),o=this.Zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(t){this.ri=t,this.docs=(function(){return new he(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(t,n){let r=As();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),W.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=As();const c=n.path,m=new gt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||iO(nO(v),r)<=0||(o.has(v.key)||xf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,n,r,o){_t(9500)}ii(t,n){return W.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new M4(this)}getSize(t){return W.resolve(this.size)}}class M4 extends S4{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),W.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(t){this.persistence=t,this.si=new Aa((n=>uy(n)),cy),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new py,this.targetCount=0,this.ai=jo.ur()}forEachTarget(t,n){return this.si.forEach(((r,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),W.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new jo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.Pr(n),W.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return W.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),W.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),W.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return W.resolve(r)}containsKey(t,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,n){this.ui={},this.overlays={},this.ci=new Cf(0),this.li=!1,this.li=!0,this.hi=new I4,this.referenceDelegate=t(this),this.Pi=new x4(this),this.indexManager=new g4,this.remoteDocumentCache=(function(o){return new V4(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new m4(n),this.Ii=new R4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new C4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new D4(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){ot("MemoryPersistence","Starting transaction:",t);const o=new N4(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return W.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class N4 extends rO{constructor(t){super(),this.currentSequenceNumber=t}}class gy{constructor(t){this.persistence=t,this.Ri=new py,this.Vi=null}static mi(t){return new gy(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),W.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(r=>{const o=gt.fromPath(r);return this.gi(t,o).next((u=>{u||n.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class cf{constructor(t,n){this.persistence=t,this.pi=new Aa((r=>lO(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=A4(this,n)}static mi(t,n){return new cf(t,n)}Ei(){}di(t){return W.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return W.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?W.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,n).next((m=>{m||(r++,u.removeEntry(c,St.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),W.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=zh(t.data.value)),n}br(t,n,r){return W.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return W.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=o}static As(t,n){let r=Ut(),o=Ut();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yy(t,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bx()?8:aO(an())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.ys(t,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,n,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new O4;return this.Ss(t,n,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,c,m.size)}))})).next((()=>u.result))}bs(t,n,r,o){return r.documentReadCount<this.fs?(yo()<=Lt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(yo()<=Lt.DEBUG&&ot("QueryEngine","Query:",vo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(yo()<=Lt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ji(n))):W.resolve())}ys(t,n){if(cA(n))return W.resolve(null);let r=ji(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=lg(n,null,"F"),r=ji(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Ut(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,c,p.readTime)?this.ys(t,lg(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,r,o){return cA(n)||o.isEqual(St.min())?W.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,r,o)?W.resolve(null):(yo()<=Lt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vo(n)),this.vs(t,c,n,eO(o,Iu)).next((m=>m)))}))}Ds(t,n){let r=new Ue(Lb(t));return n.forEach(((o,u)=>{xf(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,r){return yo()<=Lt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",vo(n)),this.ps.getDocumentsMatchingQuery(t,n,Tr.min(),r)}vs(t,n,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="LocalStore",L4=3e8;class k4{constructor(t,n,r,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new he(kt),this.xs=new Aa((u=>uy(u)),cy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new w4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function U4(e,t,n,r){return new k4(e,t,n,r)}async function aw(e,t){const n=wt(e);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Ut();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function z4(e,t){const n=wt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const E=g.batch,S=E.keys();let x=W.resolve();return S.forEach((j=>{x=x.next((()=>v.getEntry(p,j))).next((Y=>{const H=g.docVersions.get(j);Kt(H!==null,48541),Y.version.compareTo(H)<0&&(E.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),v.addEntry(Y)))}))})),x.next((()=>m.mutationQueue.removeMutationBatch(p,E)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Ut();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function ow(e){const t=wt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function B4(e,t){const n=wt(e),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((v,E)=>{const S=o.get(E);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,E))));let x=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?x=x.withResumeToken(Je.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,r)),o=o.insert(E,x),(function(Y,H,$){return Y.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=L4?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(S,x,v)&&m.push(n.Pi.updateTargetData(u,x))}));let p=As(),g=Ut();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(j4(u,c,t.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!r.isEqual(St.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((E=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(v)}return W.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function j4(e,t,n){let r=Ut(),o=Ut();return n.forEach((u=>r=r.add(u))),t.getEntries(e,r).next((u=>{let c=As();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):ot(vy,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function F4(e,t){const n=wt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=ay),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function q4(e,t){const n=wt(e);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,t).next((u=>u?(o=u,W.resolve(o)):n.Pi.allocateTargetId(r).next((c=>(o=new cr(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function dg(e,t,n){const r=wt(e),o=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!$o(c))throw c;ot(vy,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function SA(e,t,n){const r=wt(e);let o=St.min(),u=Ut();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const E=wt(p),S=E.xs.get(v);return S!==void 0?W.resolve(E.Ms.get(S)):E.Pi.getTargetData(g,v)})(r,c,ji(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,n?o:St.min(),n?u:Ut()))).next((m=>(H4(r,IO(t),m),{documents:m,Qs:u})))))}function H4(e,t,n){let r=e.Os.get(t)||St.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),e.Os.set(t,r)}class bA{constructor(){this.activeTargetIds=OO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class G4{constructor(){this.Mo=new bA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new bA,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="ConnectivityMonitor";class RA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(wA,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(wA,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh=null;function mg(){return Mh===null?Mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mh++,"0x"+Mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="RestConnection",Y4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q4{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===sf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,n,r,o,u){const c=mg(),m=this.zo(t,n.toUriEncodedString());ot(Tp,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=Ko(g);return this.Jo(t,m,p,r,v).then((E=>(ot(Tp,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw ko(Tp,`RPC '${t}' ${c} failed with error: `,E,"url: ",m,"request:",r),E}))}Ho(t,n,r,o,u,c){return this.Go(t,n,r,o,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const r=Y4[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class $4 extends Q4{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,o,u){const c=mg();return new Promise(((m,p)=>{const g=new ub;g.setWithCredentials(!0),g.listenOnce(cb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Uh.NO_ERROR:const E=g.getResponseJson();ot(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),m(E);break;case Uh.TIMEOUT:ot(en,`RPC '${t}' ${c} timed out`),p(new mt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const S=g.getStatus();if(ot(en,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const j=x?.error;if(j&&j.status&&j.message){const Y=(function($){const it=$.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(it)>=0?it:tt.UNKNOWN})(j.status);p(new mt(Y,j.message))}else p(new mt(tt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new mt(tt.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ot(en,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);ot(en,`RPC '${t}' ${c} sending request:`,o),g.send(n,"POST",v,r,15)}))}T_(t,n,r){const o=mg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=db(),m=fb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const v=u.join("");ot(en,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=c.createWebChannel(v,p);this.I_(E);let S=!1,x=!1;const j=new X4({Yo:H=>{x?ot(en,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(S||(ot(en,`Opening RPC '${t}' stream ${o} transport.`),E.open(),S=!0),ot(en,`RPC '${t}' stream ${o} sending:`,H),E.send(H))},Zo:()=>E.close()}),Y=(H,$,it)=>{H.listen($,(J=>{try{it(J)}catch(ht){setTimeout((()=>{throw ht}),0)}}))};return Y(E,ou.EventType.OPEN,(()=>{x||(ot(en,`RPC '${t}' stream ${o} transport opened.`),j.o_())})),Y(E,ou.EventType.CLOSE,(()=>{x||(x=!0,ot(en,`RPC '${t}' stream ${o} transport closed`),j.a_(),this.E_(E))})),Y(E,ou.EventType.ERROR,(H=>{x||(x=!0,ko(en,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),j.a_(new mt(tt.UNAVAILABLE,"The operation could not be completed")))})),Y(E,ou.EventType.MESSAGE,(H=>{if(!x){const $=H.data[0];Kt(!!$,16349);const it=$,J=it?.error||it[0]?.error;if(J){ot(en,`RPC '${t}' stream ${o} received error:`,J);const ht=J.status;let at=(function(w){const R=Me[w];if(R!==void 0)return Qb(R)})(ht),dt=J.message;at===void 0&&(at=tt.INTERNAL,dt="Unknown error status: "+ht+" with message "+J.message),x=!0,j.a_(new mt(at,dt)),E.close()}else ot(en,`RPC '${t}' stream ${o} received:`,$),j.u_($)}})),Y(m,hb.STAT_EVENT,(H=>{H.stat===ng.PROXY?ot(en,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===ng.NOPROXY&&ot(en,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(e){return new t4(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="PersistentStream";class uw{constructor(t,n,r,o,u,c,m,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lw(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(Es(n.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new mt(tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(CA,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ot(CA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Z4 extends uw{constructor(t,n,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=i4(this.serializer,t),r=(function(u){if(!("targetChange"in u))return St.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?Fi(c.readTime):St.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=fg(this.serializer),n.addTarget=(function(u,c){let m;const p=c.target;if(m=og(p)?{documents:a4(u,p)}:{query:o4(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=Zb(u,c.resumeToken);const g=ug(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(St.min())>0){m.readTime=uf(u,c.snapshotVersion.toTimestamp());const g=ug(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=u4(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=fg(this.serializer),n.removeTarget=t,this.q_(n)}}class W4 extends uw{constructor(t,n,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=r4(t.writeResults,t.commitTime),r=Fi(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=fg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>s4(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{}class tP extends J4{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new mt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,cg(n,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new mt(tt.UNKNOWN,u.toString())}))}Ho(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,cg(n,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(tt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class eP{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="RemoteStore";class nP{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{ba(this)&&(ot(pa,"Restarting streams for network reachability change."),await(async function(p){const g=wt(p);g.Ea.add(4),await Hu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await kf(g)})(this))}))})),this.Ra=new eP(r,o)}}async function kf(e){if(ba(e))for(const t of e.da)await t(!0)}async function Hu(e){for(const t of e.da)await t(!1)}function cw(e,t){const n=wt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Ay(n)?Ey(n):Zo(n).O_()&&Ty(n,t))}function _y(e,t){const n=wt(e),r=Zo(n);n.Ia.delete(t),r.O_()&&hw(n,t),n.Ia.size===0&&(r.O_()?r.L_():ba(n)&&n.Ra.set("Unknown"))}function Ty(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Zo(e).Y_(t)}function hw(e,t){e.Va.Ue(t),Zo(e).Z_(t)}function Ey(e){e.Va=new $O({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Zo(e).start(),e.Ra.ua()}function Ay(e){return ba(e)&&!Zo(e).x_()&&e.Ia.size>0}function ba(e){return wt(e).Ea.size===0}function fw(e){e.Va=void 0}async function iP(e){e.Ra.set("Online")}async function sP(e){e.Ia.forEach(((t,n)=>{Ty(e,t)}))}async function rP(e,t){fw(e),Ay(e)?(e.Ra.ha(t),Ey(e)):e.Ra.set("Unknown")}async function aP(e,t,n){if(e.Ra.set("Online"),t instanceof $b&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(e,t)}catch(r){ot(pa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await hf(e,r)}else if(t instanceof Fh?e.Va.Ze(t):t instanceof Xb?e.Va.st(t):e.Va.tt(t),!n.isEqual(St.min()))try{const r=await ow(e.localStore);n.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Je.EMPTY_BYTE_STRING,v.snapshotVersion)),hw(u,p);const E=new cr(v.target,p,g,v.sequenceNumber);Ty(u,E)})),u.remoteSyncer.applyRemoteEvent(m)})(e,n)}catch(r){ot(pa,"Failed to raise snapshot:",r),await hf(e,r)}}async function hf(e,t,n){if(!$o(t))throw t;e.Ea.add(1),await Hu(e),e.Ra.set("Offline"),n||(n=()=>ow(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ot(pa,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await kf(e)}))}function dw(e,t){return t().catch((n=>hf(e,n,t)))}async function Uf(e){const t=wt(e),n=br(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ay;for(;oP(t);)try{const o=await F4(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,lP(t,o)}catch(o){await hf(t,o)}mw(t)&&pw(t)}function oP(e){return ba(e)&&e.Ta.length<10}function lP(e,t){e.Ta.push(t);const n=br(e);n.O_()&&n.X_&&n.ea(t.mutations)}function mw(e){return ba(e)&&!br(e).x_()&&e.Ta.length>0}function pw(e){br(e).start()}async function uP(e){br(e).ra()}async function cP(e){const t=br(e);for(const n of e.Ta)t.ea(n.mutations)}async function hP(e,t,n){const r=e.Ta.shift(),o=fy.from(r,t,n);await dw(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await Uf(e)}async function fP(e,t){t&&br(e).X_&&await(async function(r,o){if((function(c){return YO(c)&&c!==tt.ABORTED})(o.code)){const u=r.Ta.shift();br(r).B_(),await dw(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Uf(r)}})(e,t),mw(e)&&pw(e)}async function IA(e,t){const n=wt(e);n.asyncQueue.verifyOperationInProgress(),ot(pa,"RemoteStore received new credentials");const r=ba(n);n.Ea.add(3),await Hu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await kf(n)}async function dP(e,t){const n=wt(e);t?(n.Ea.delete(2),await kf(n)):t||(n.Ea.add(2),await Hu(n),n.Ra.set("Unknown"))}function Zo(e){return e.ma||(e.ma=(function(n,r,o){const u=wt(n);return u.sa(),new Z4(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Xo:iP.bind(null,e),t_:sP.bind(null,e),r_:rP.bind(null,e),H_:aP.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),Ay(e)?Ey(e):e.Ra.set("Unknown")):(await e.ma.stop(),fw(e))}))),e.ma}function br(e){return e.fa||(e.fa=(function(n,r,o){const u=wt(n);return u.sa(),new W4(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:uP.bind(null,e),r_:fP.bind(null,e),ta:cP.bind(null,e),na:hP.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Uf(e)):(await e.fa.stop(),e.Ta.length>0&&(ot(pa,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const c=Date.now()+r,m=new Sy(t,n,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function by(e,t){if(Es("AsyncQueue",`${t}: ${e}`),$o(e))return new mt(tt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{static emptySet(t){return new Io(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||gt.comparator(n.key,r.key):(n,r)=>gt.comparator(n.key,r.key),this.keyedMap=lu(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Io)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Io;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.ga=new he(gt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class Fo{constructor(t,n,r,o,u,c,m,p,g){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,r,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new Fo(t,n,Io.emptySet(n),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class pP{constructor(){this.queries=VA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=wt(n),u=o.queries;o.queries=VA(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new mt(tt.ABORTED,"Firestore shutting down"))}}function VA(){return new Aa((e=>Pb(e)),Mf)}async function gP(e,t){const n=wt(e);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new mP,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=by(c,`Initialization of query '${vo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&wy(n)}async function yP(e,t){const n=wt(e),r=t.query;let o=3;const u=n.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vP(e,t){const n=wt(e);let r=!1;for(const o of t){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&wy(n)}function _P(e,t,n){const r=wt(e),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(t)}function wy(e){e.Ca.forEach((t=>{t.next()}))}var pg,MA;(MA=pg||(pg={})).Ma="default",MA.Cache="cache";class TP{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Fo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Fo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==pg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t){this.key=t}}class yw{constructor(t){this.key=t}}class EP{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=Lb(t),this.tu=new Io(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new DA,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,E)=>{const S=o.get(v),x=xf(this.query,E)?E:null,j=!!S&&this.mutatedKeys.has(S.key),Y=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let H=!1;S&&x?S.data.isEqual(x.data)?j!==Y&&(r.track({type:3,doc:x}),H=!0):this.su(S,x)||(r.track({type:2,doc:x}),H=!0,(p&&this.eu(x,p)>0||g&&this.eu(x,g)<0)&&(m=!0)):!S&&x?(r.track({type:0,doc:x}),H=!0):S&&!x&&(r.track({type:1,doc:S}),H=!0,(p||g)&&(m=!0)),H&&(x?(c=c.add(x),u=Y?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,E)=>(function(x,j){const Y=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:H})}};return Y(x)-Y(j)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Fo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new DA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new yw(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new gw(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ry="SyncEngine";class AP{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class SP{constructor(t){this.key=t,this.hu=!1}}class bP{constructor(t,n,r,o,u,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Aa((m=>Pb(m)),Mf),this.Iu=new Map,this.Eu=new Set,this.du=new he(gt.comparator),this.Au=new Map,this.Ru=new py,this.Vu={},this.mu=new Map,this.fu=jo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wP(e,t,n=!0){const r=Sw(e);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await vw(r,t,n,!0),o}async function RP(e,t){const n=Sw(e);await vw(n,t,!0,!1)}async function vw(e,t,n,r){const o=await q4(e.localStore,ji(t)),u=o.targetId,c=e.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await CP(e,t,u,c==="current",o.resumeToken)),e.isPrimaryClient&&n&&cw(e.remoteStore,o),m}async function CP(e,t,n,r,o){e.pu=(E,S,x)=>(async function(Y,H,$,it){let J=H.view.ru($);J.Cs&&(J=await SA(Y.localStore,H.query,!1).then((({documents:C})=>H.view.ru(C,J))));const ht=it&&it.targetChanges.get(H.targetId),at=it&&it.targetMismatches.get(H.targetId)!=null,dt=H.view.applyChanges(J,Y.isPrimaryClient,ht,at);return NA(Y,H.targetId,dt.au),dt.snapshot})(e,E,S,x);const u=await SA(e.localStore,t,!0),c=new EP(t,u.Qs),m=c.ru(u.documents),p=qu.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",o),g=c.applyChanges(m,e.isPrimaryClient,p);NA(e,n,g.au);const v=new AP(t,n,c);return e.Tu.set(t,v),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function IP(e,t,n){const r=wt(e),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Mf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await dg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&_y(r.remoteStore,o.targetId),gg(r,o.targetId)})).catch(Xo)):(gg(r,o.targetId),await dg(r.localStore,o.targetId,!0))}async function DP(e,t){const n=wt(e),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_y(n.remoteStore,r.targetId))}async function VP(e,t,n){const r=kP(e);try{const o=await(function(c,m){const p=wt(c),g=re.now(),v=m.reduce(((x,j)=>x.add(j.key)),Ut());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let j=As(),Y=Ut();return p.Ns.getEntries(x,v).next((H=>{j=H,j.forEach((($,it)=>{it.isValidDocument()||(Y=Y.add($))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,j))).next((H=>{E=H;const $=[];for(const it of m){const J=FO(it,E.get(it.key).overlayedDocument);J!=null&&$.push(new Sa(it.key,J,Cb(J.value.mapValue),ys.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,$,m)})).next((H=>{S=H;const $=H.applyToLocalDocumentSet(E,Y);return p.documentOverlayCache.saveOverlays(x,H.batchId,$)}))})).then((()=>({batchId:S.batchId,changes:Ub(E)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new he(kt)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,n),await Gu(r,o.changes),await Uf(r.remoteStore)}catch(o){const u=by(o,"Failed to persist write");n.reject(u)}}async function _w(e,t){const n=wt(e);try{const r=await B4(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Kt(c.hu,14607):o.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))})),await Gu(n,r,t)}catch(r){await Xo(r)}}function xA(e,t,n){const r=wt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=wt(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,E)=>{for(const S of E.Sa)S.va(m)&&(g=!0)})),g&&wy(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function MP(e,t,n){const r=wt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new he(gt.comparator);c=c.insert(u,sn.newNoDocument(u,St.min()));const m=Ut().add(u),p=new Pf(St.min(),new Map,new he(kt),c,m);await _w(r,p),r.du=r.du.remove(u),r.Au.delete(t),Cy(r)}else await dg(r.localStore,t,!1).then((()=>gg(r,t,n))).catch(Xo)}async function xP(e,t){const n=wt(e),r=t.batch.batchId;try{const o=await z4(n.localStore,t);Ew(n,r,null),Tw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gu(n,o)}catch(o){await Xo(o)}}async function NP(e,t,n){const r=wt(e);try{const o=await(function(c,m){const p=wt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((E=>(Kt(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);Ew(r,t,n),Tw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Gu(r,o)}catch(o){await Xo(o)}}function Tw(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function Ew(e,t,n){const r=wt(e);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function gg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((r=>{e.Ru.containsKey(r)||Aw(e,r)}))}function Aw(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(_y(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Cy(e))}function NA(e,t,n){for(const r of n)r instanceof gw?(e.Ru.addReference(r.key,t),OP(e,r)):r instanceof yw?(ot(Ry,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Aw(e,r.key)):_t(19791,{wu:r})}function OP(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(ot(Ry,"New document in limbo: "+n),e.Eu.add(r),Cy(e))}function Cy(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new gt(se.fromString(t)),r=e.fu.next();e.Au.set(r,new SP(n)),e.du=e.du.insert(n,r),cw(e.remoteStore,new cr(ji(Ob(n.path)),r,"TargetPurposeLimboResolution",Cf.ce))}}async function Gu(e,t,n){const r=wt(e),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,n).then((g=>{if((g||n)&&r.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=yy.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const v=wt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>W.forEach(g,(S=>W.forEach(S.Es,(x=>v.persistence.referenceDelegate.addReference(E,S.targetId,x))).next((()=>W.forEach(S.ds,(x=>v.persistence.referenceDelegate.removeReference(E,S.targetId,x)))))))))}catch(E){if(!$o(E))throw E;ot(vy,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const x=v.Ms.get(S),j=x.snapshotVersion,Y=x.withLastLimboFreeSnapshotVersion(j);v.Ms=v.Ms.insert(S,Y)}}})(r.localStore,u))}async function PP(e,t){const n=wt(e);if(!n.currentUser.isEqual(t)){ot(Ry,"User change. New user:",t.toKey());const r=await aw(n.localStore,t);n.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new mt(tt.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Gu(n,r.Ls)}}function LP(e,t){const n=wt(e),r=n.Au.get(t);if(r&&r.hu)return Ut().add(r.key);{let o=Ut();const u=n.Iu.get(t);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function Sw(e){const t=wt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_w.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MP.bind(null,t),t.Pu.H_=vP.bind(null,t.eventManager),t.Pu.yu=_P.bind(null,t.eventManager),t}function kP(e){const t=wt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NP.bind(null,t),t}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Lf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return U4(this.persistence,new P4,t.initialUser,this.serializer)}Cu(t){return new rw(gy.mi,this.serializer)}Du(t){return new G4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class UP extends ff{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof cf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new T4(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new rw((r=>cf.mi(r,n)),this.serializer)}}class yg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PP.bind(null,this.syncEngine),await dP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new pP})()}createDatastore(t){const n=Lf(t.databaseInfo.databaseId),r=(function(u){return new $4(u)})(t.databaseInfo);return(function(u,c,m,p){return new tP(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,c,m){return new nP(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>xA(this.syncEngine,n,0)),(function(){return RA.v()?new RA:new K4})())}createSyncEngine(t,n){return(function(o,u,c,m,p,g,v){const E=new bP(o,u,c,m,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=wt(n);ot(pa,"RemoteStore shutting down."),r.Ea.add(5),await Hu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yg.provider={build:()=>new yg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Es("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="FirestoreClient";class BP{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=sy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{ot(wr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ot(wr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=by(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Ap(e,t){e.asyncQueue.verifyOperationInProgress(),ot(wr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async o=>{r.isEqual(o)||(await aw(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function OA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await jP(e);ot(wr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((r=>IA(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,o)=>IA(t.remoteStore,o))),e._onlineComponents=t}async function jP(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ot(wr,"Using user provided OfflineComponentProvider");try{await Ap(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ko("Error using user provided cache. Falling back to memory cache: "+n),await Ap(e,new ff)}}else ot(wr,"Using default OfflineComponentProvider"),await Ap(e,new UP(void 0));return e._offlineComponents}async function bw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ot(wr,"Using user provided OnlineComponentProvider"),await OA(e,e._uninitializedComponentsProvider._online)):(ot(wr,"Using default OnlineComponentProvider"),await OA(e,new yg))),e._onlineComponents}function FP(e){return bw(e).then((t=>t.syncEngine))}async function qP(e){const t=await bw(e),n=t.eventManager;return n.onListen=wP.bind(null,t.syncEngine),n.onUnlisten=IP.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=RP.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=DP.bind(null,t.syncEngine),n}function HP(e,t,n={}){const r=new mr;return e.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new zP({next:S=>{v.Nu(),c.enqueueAndForget((()=>yP(u,E))),S.fromCache&&p.source==="server"?g.reject(new mt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new TP(m,v,{includeMetadataChanges:!0,qa:!0});return gP(u,E)})(await qP(e),e.asyncQueue,t,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="firestore.googleapis.com",LA=!0;class kA{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Rw,this.ssl=LA}else this.host=t.host,this.ssl=t.ssl??LA;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=sw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<v4)throw new mt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}tO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ww(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new mt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new mt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new mt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zf{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new HN;switch(r.type){case"firstParty":return new QN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new mt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=PA.get(n);r&&(ot("ComponentProvider","Removing Datastore"),PA.delete(n),r.terminate())})(this),Promise.resolve()}}function GP(e,t,n,r={}){e=ef(e,zf);const o=Ko(t),u=e._getSettings(),c={...u,emulatorOptions:e._getEmulatorOptions()},m=`${t}:${n}`;o&&(Z1(`https://${m}`),W1("Firestore",!0)),u.host!==Rw&&u.host!==m&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!_r(p,c)&&(e._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=nn.MOCK_USER;else{g=gx(r.mockUserToken,e._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new mt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nn(E)}e._authCredentials=new GN(new pb(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Bf(this.firestore,t,this._query)}}class We{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new We(this.firestore,t,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(ju(n,We._jsonSchema))return new We(t,r||null,new gt(se.fromString(n.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:Ne("string",We._jsonSchemaVersion),referencePath:Ne("string")};class pr extends Bf{constructor(t,n,r){super(t,n,Ob(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new We(this.firestore,null,new gt(t))}withConverter(t){return new pr(this.firestore,t,this._path)}}function Cw(e,t,...n){if(e=En(e),gb("collection","path",t),e instanceof zf){const r=se.fromString(t,...n);return ZE(r),new pr(e,null,r)}{if(!(e instanceof We||e instanceof pr))throw new mt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(se.fromString(t,...n));return ZE(r),new pr(e.firestore,null,r)}}function KP(e,t,...n){if(e=En(e),arguments.length===1&&(t=sy.newId()),gb("doc","path",t),e instanceof zf){const r=se.fromString(t,...n);return $E(r),new We(e,null,new gt(r))}{if(!(e instanceof We||e instanceof pr))throw new mt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(se.fromString(t,...n));return $E(r),new We(e.firestore,e instanceof pr?e.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="AsyncQueue";class zA{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lw(this,"async_queue_retry"),this._c=()=>{const r=Ep();r&&ot(UA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!$o(t))throw t;ot(UA,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",BA(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Sy.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:BA(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function BA(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Iy extends zf{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new zA,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new zA(t),this._firestoreClient=void 0,await t}}}function Iw(e,t){const n=typeof e=="object"?e:ny(),r=typeof e=="string"?e:sf,o=Ta(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=mx("firestore");u&&GP(o,...u)}return o}function Dw(e){if(e._terminated)throw new mt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||YP(e),e._firestoreClient}function YP(e){const t=e._freezeSettings(),n=(function(o,u,c,m){return new hO(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,ww(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new BP(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(Je.fromBase64String(t))}catch(n){throw new mt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Qn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ju(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Ne("string",Qn._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new mt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new mt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new mt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(t){if(ju(t,qi._jsonSchema))return new qi(t.latitude,t.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Ne("string",qi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ju(t,Hi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Hi(t.vectorValues);throw new mt(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:Ne("string",Hi._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=/^__.*__$/;class XP{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Sa(t,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(t,this.data,n,this.fieldTransforms)}}function Vw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:e})}}class My{constructor(t,n,r,o,u,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new My({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return df(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Vw(this.Ac)&&QP.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class $P{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Lf(t)}Cc(t,n,r,o=!1){return new My({Ac:t,methodName:n,Dc:r,path:Ze.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZP(e){const t=e._freezeSettings(),n=Lf(e._databaseId);return new $P(e._databaseId,!!t.ignoreUndefinedProperties,n)}function WP(e,t,n,r,o,u={}){const c=e.Cc(u.merge||u.mergeFields?2:0,t,n,o);Ow("Data must be an object, but it was:",c,r);const m=xw(r,c);let p,g;if(u.merge)p=new fi(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const S=JP(t,E,n);if(!c.contains(S))throw new mt(tt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);e3(v,S)||v.push(S)}p=new fi(v),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new XP(new Yn(m),p,g)}class xy extends Vy{_toFieldTransform(t){return new UO(t.path,new xu)}isEqual(t){return t instanceof xy}}function Mw(e,t){if(Nw(e=En(e)))return Ow("Unsupported field value:",t,e),xw(e,t);if(e instanceof Vy)return(function(r,o){if(!Vw(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=Mw(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(e,t)}return(function(r,o){if((r=En(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PO(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=re.fromDate(r);return{timestampValue:uf(o.serializer,u)}}if(r instanceof re){const u=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uf(o.serializer,u)}}if(r instanceof qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qn)return{bytesValue:Zb(o.serializer,r._byteString)};if(r instanceof We){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:my(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Hi)return(function(c,m){return{mapValue:{fields:{[wb]:{stringValue:Rb},[rf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return hy(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${ry(r)}`)})(e,t)}function xw(e,t){const n={};return _b(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ea(e,((r,o)=>{const u=Mw(o,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function Nw(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof re||e instanceof qi||e instanceof Qn||e instanceof We||e instanceof Vy||e instanceof Hi)}function Ow(e,t,n){if(!Nw(n)||!yb(n)){const r=ry(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function JP(e,t,n){if((t=En(t))instanceof Dy)return t._internalPath;if(typeof t=="string")return Pw(e,t);throw df("Field path arguments must be of type string or ",e,!1,void 0,n)}const t3=new RegExp("[~\\*/\\[\\]]");function Pw(e,t,n){if(t.search(t3)>=0)throw df(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Dy(...t.split("."))._internalPath}catch{throw df(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function df(e,t,n,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new mt(tt.INVALID_ARGUMENT,m+e+p)}function e3(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new n3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(kw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n3 extends Lw{data(){return super.data()}}function kw(e,t){return typeof t=="string"?Pw(e,t):t instanceof Dy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new mt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s3{convertValue(t,n="none"){switch(Sr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ar(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ea(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[rf].arrayValue?.values?.map((r=>Ee(r.doubleValue)));return new Hi(n)}convertGeoPoint(t){return new qi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Df(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Du(t));default:return null}}convertTimestamp(t){const n=Er(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=se.fromString(t);Kt(iw(r),9688,{name:t});const o=new Vu(r.get(1),r.get(3)),u=new gt(r.popFirst(5));return o.isEqual(n)||Es(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(e,t,n){let r;return r=e?e.toFirestore(t):t,r}class xh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Do extends Lw{constructor(t,n,r,o,u,c){super(t,n,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(kw("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Do._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Do._jsonSchemaVersion="firestore/documentSnapshot/1.0",Do._jsonSchema={type:Ne("string",Do._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class qh extends Do{data(t={}){return super.data(t)}}class Vo{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new xh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new qh(this._firestore,this._userDataWriter,r.key,r,new xh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new mt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:a3(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Vo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=sy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function a3(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:e})}}Vo._jsonSchemaVersion="firestore/querySnapshot/1.0",Vo._jsonSchema={type:Ne("string",Vo._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class o3 extends s3{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new We(this.firestore,null,n)}}function l3(e){e=ef(e,Bf);const t=ef(e.firestore,Iy),n=Dw(t),r=new o3(t);return i3(e._query),HP(n,e._query).then((o=>new Vo(t,r,e,o)))}function u3(e,t){const n=ef(e.firestore,Iy),r=KP(e),o=r3(e.converter,t);return c3(n,[WP(ZP(e.firestore),"addDoc",r._key,o,e.converter!==null,{}).toMutation(r._key,ys.exists(!1))]).then((()=>r))}function c3(e,t){return(function(r,o){const u=new mr;return r.asyncQueue.enqueueAndForget((async()=>VP(await FP(r),o,u))),u.promise})(Dw(e),t)}function h3(){return new xy("serverTimestamp")}(function(t,n=!0){(function(o){Qo=o})(Yo),Yi(new mi("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Iy(new KN(r.getProvider("auth-internal")),new XN(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new mt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vu(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Zn(KE,YE,t),Zn(KE,YE,"esm2020")})();var f3="firebase",d3="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn(f3,d3,"app");const Uw="@firebase/installations",Ny="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=1e4,Bw=`w:${Ny}`,jw="FIS_v2",m3="https://firebaseinstallations.googleapis.com/v1",p3=3600*1e3,g3="installations",y3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ga=new _a(g3,y3,v3);function Fw(e){return e instanceof pi&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw({projectId:e}){return`${m3}/projects/${e}/installations`}function Hw(e){return{token:e.token,requestStatus:2,expiresIn:T3(e.expiresIn),creationTime:Date.now()}}async function Gw(e,t){const r=(await t.json()).error;return ga.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Kw({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function _3(e,{refreshToken:t}){const n=Kw(e);return n.append("Authorization",E3(t)),n}async function Yw(e){const t=await e();return t.status>=500&&t.status<600?e():t}function T3(e){return Number(e.replace("s","000"))}function E3(e){return`${jw} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=qw(e),o=Kw(e),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={fid:n,authVersion:jw,appId:e.appId,sdkVersion:Bw},m={method:"POST",headers:o,body:JSON.stringify(c)},p=await Yw(()=>fetch(r,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:Hw(g.authToken)}}else throw await Gw("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=/^[cdef][\w-]{21}$/,vg="";function w3(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=R3(e);return b3.test(n)?n:vg}catch{return vg}}function R3(e){return S3(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=new Map;function $w(e,t){const n=jf(e);Zw(n,t),C3(n,t)}function Zw(e,t){const n=Xw.get(e);if(n)for(const r of n)r(t)}function C3(e,t){const n=I3();n&&n.postMessage({key:e,fid:t}),D3()}let ha=null;function I3(){return!ha&&"BroadcastChannel"in self&&(ha=new BroadcastChannel("[Firebase] FID Change"),ha.onmessage=e=>{Zw(e.data.key,e.data.fid)}),ha}function D3(){Xw.size===0&&ha&&(ha.close(),ha=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="firebase-installations-database",M3=1,ya="firebase-installations-store";let Sp=null;function Oy(){return Sp||(Sp=sb(V3,M3,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ya)}}})),Sp}async function mf(e,t){const n=jf(e),o=(await Oy()).transaction(ya,"readwrite"),u=o.objectStore(ya),c=await u.get(n);return await u.put(t,n),await o.done,(!c||c.fid!==t.fid)&&$w(e,t.fid),t}async function Ww(e){const t=jf(e),r=(await Oy()).transaction(ya,"readwrite");await r.objectStore(ya).delete(t),await r.done}async function Ff(e,t){const n=jf(e),o=(await Oy()).transaction(ya,"readwrite"),u=o.objectStore(ya),c=await u.get(n),m=t(c);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!c||c.fid!==m.fid)&&$w(e,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Py(e){let t;const n=await Ff(e.appConfig,r=>{const o=x3(r),u=N3(e,o);return t=u.registrationPromise,u.installationEntry});return n.fid===vg?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function x3(e){const t=e||{fid:w3(),registrationStatus:0};return Jw(t)}function N3(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ga.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=O3(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:P3(e)}:{installationEntry:t}}async function O3(e,t){try{const n=await A3(e,t);return mf(e.appConfig,n)}catch(n){throw Fw(n)&&n.customData.serverCode===409?await Ww(e.appConfig):await mf(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function P3(e){let t=await jA(e.appConfig);for(;t.registrationStatus===1;)await Qw(100),t=await jA(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Py(e);return r||n}return t}function jA(e){return Ff(e,t=>{if(!t)throw ga.create("installation-not-found");return Jw(t)})}function Jw(e){return L3(e)?{fid:e.fid,registrationStatus:0}:e}function L3(e){return e.registrationStatus===1&&e.registrationTime+zw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3({appConfig:e,heartbeatServiceProvider:t},n){const r=U3(e,n),o=_3(e,n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={installation:{sdkVersion:Bw,appId:e.appId}},m={method:"POST",headers:o,body:JSON.stringify(c)},p=await Yw(()=>fetch(r,m));if(p.ok){const g=await p.json();return Hw(g)}else throw await Gw("Generate Auth Token",p)}function U3(e,{fid:t}){return`${qw(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ly(e,t=!1){let n;const r=await Ff(e.appConfig,u=>{if(!tR(u))throw ga.create("not-registered");const c=u.authToken;if(!t&&j3(c))return u;if(c.requestStatus===1)return n=z3(e,t),u;{if(!navigator.onLine)throw ga.create("app-offline");const m=q3(u);return n=B3(e,m),m}});return n?await n:r.authToken}async function z3(e,t){let n=await FA(e.appConfig);for(;n.authToken.requestStatus===1;)await Qw(100),n=await FA(e.appConfig);const r=n.authToken;return r.requestStatus===0?Ly(e,t):r}function FA(e){return Ff(e,t=>{if(!tR(t))throw ga.create("not-registered");const n=t.authToken;return H3(n)?{...t,authToken:{requestStatus:0}}:t})}async function B3(e,t){try{const n=await k3(e,t),r={...t,authToken:n};return await mf(e.appConfig,r),n}catch(n){if(Fw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Ww(e.appConfig);else{const r={...t,authToken:{requestStatus:0}};await mf(e.appConfig,r)}throw n}}function tR(e){return e!==void 0&&e.registrationStatus===2}function j3(e){return e.requestStatus===2&&!F3(e)}function F3(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+p3}function q3(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function H3(e){return e.requestStatus===1&&e.requestTime+zw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(e){const t=e,{installationEntry:n,registrationPromise:r}=await Py(t);return r?r.catch(console.error):Ly(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(e,t=!1){const n=e;return await Y3(n),(await Ly(n,t)).token}async function Y3(e){const{registrationPromise:t}=await Py(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(e){if(!e||!e.options)throw bp("App Configuration");if(!e.name)throw bp("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw bp(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function bp(e){return ga.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="installations",X3="installations-internal",$3=e=>{const t=e.getProvider("app").getImmediate(),n=Q3(t),r=Ta(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Z3=e=>{const t=e.getProvider("app").getImmediate(),n=Ta(t,eR).getImmediate();return{getId:()=>G3(n),getToken:o=>K3(n,o)}};function W3(){Yi(new mi(eR,$3,"PUBLIC")),Yi(new mi(X3,Z3,"PRIVATE"))}W3();Zn(Uw,Ny);Zn(Uw,Ny,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="analytics",J3="firebase_id",tL="origin",eL=60*1e3,nL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ky="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=new Rf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Mn=new _a("analytics","Analytics",iL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(e){if(!e.startsWith(ky)){const t=Mn.create("invalid-gtag-resource",{gtagURL:e});return hn.warn(t.message),""}return e}function nR(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function rL(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function aL(e,t){const n=rL("firebase-js-sdk-policy",{createScriptURL:sL}),r=document.createElement("script"),o=`${ky}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function oL(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function lL(e,t,n,r,o,u){const c=r[o];try{if(c)await t[c];else{const p=(await nR(n)).find(g=>g.measurementId===o);p&&await t[p.appId]}}catch(m){hn.error(m)}e("config",o,u)}async function uL(e,t,n,r,o){try{let u=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const m=await nR(n);for(const p of c){const g=m.find(E=>E.measurementId===p),v=g&&t[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),e("event",r,o||{})}catch(u){hn.error(u)}}function cL(e,t,n,r){async function o(u,...c){try{if(u==="event"){const[m,p]=c;await uL(e,t,n,m,p)}else if(u==="config"){const[m,p]=c;await lL(e,t,n,r,m,p)}else if(u==="consent"){const[m,p]=c;e("consent",m,p)}else if(u==="get"){const[m,p,g]=c;e("get",m,p,g)}else if(u==="set"){const[m]=c;e("set",m)}else e(u,...c)}catch(m){hn.error(m)}}return o}function hL(e,t,n,r,o){let u=function(...c){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=cL(u,e,t,n),{gtagCore:u,wrappedGtag:window[o]}}function fL(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(ky)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=30,mL=1e3;class pL{constructor(t={},n=mL){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const iR=new pL;function gL(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function yL(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:gL(n)},o=nL.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let c="";try{const m=await u.json();m.error?.message&&(c=m.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c})}return u.json()}async function vL(e,t=iR,n){const{appId:r,apiKey:o,measurementId:u}=e.options;if(!r)throw Mn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw Mn.create("no-api-key")}const c=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new EL;return setTimeout(async()=>{m.abort()},eL),sR({appId:r,apiKey:o,measurementId:u},c,m,t)}async function sR(e,{throttleEndTimeMillis:t,backoffCount:n},r,o=iR){const{appId:u,measurementId:c}=e;try{await _L(r,t)}catch(m){if(c)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:c};throw m}try{const m=await yL(e);return o.deleteThrottleMetadata(u),m}catch(m){const p=m;if(!TL(p)){if(o.deleteThrottleMetadata(u),c)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:c};throw m}const g=Number(p?.customData?.httpStatus)===503?LE(n,o.intervalMillis,dL):LE(n,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,v),hn.debug(`Calling attemptFetch again in ${g} millis`),sR(e,v,r,o)}}function _L(e,t){return new Promise((n,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(n,o);e.addEventListener(()=>{clearTimeout(u),r(Mn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function TL(e){if(!(e instanceof pi)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class EL{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function AL(e,t,n,r,o){if(o&&o.global){e("event",n,r);return}else{const u=await t,c={...r,send_to:u};e("event",n,c)}}async function SL(e,t,n,r){if(r&&r.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return e("set",o),Promise.resolve()}else{const o=await t;e("config",o,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bL(){if(tb())try{await eb()}catch(e){return hn.warn(Mn.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}else return hn.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wL(e,t,n,r,o,u,c){const m=vL(e);m.then(S=>{n[S.measurementId]=S.appId,e.options.measurementId&&S.measurementId!==e.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>hn.error(S)),t.push(m);const p=bL().then(S=>{if(S)return r.getId()}),[g,v]=await Promise.all([m,p]);fL(u)||aL(u,g.measurementId),o("js",new Date);const E=c?.config??{};return E[tL]="firebase",E.update=!0,v!=null&&(E[J3]=v),o("config",g.measurementId,E),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(t){this.app=t}_delete(){return delete Mo[this.app.options.appId],Promise.resolve()}}let Mo={},qA=[];const HA={};let wp="dataLayer",CL="gtag",GA,Uy,KA=!1;function IL(){const e=[];if(J1()&&e.push("This is a browser extension environment."),wx()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=Mn.create("invalid-analytics-context",{errorInfo:t});hn.warn(n.message)}}function DL(e,t,n){IL();const r=e.options.appId;if(!r)throw Mn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mn.create("no-api-key");if(Mo[r]!=null)throw Mn.create("already-exists",{id:r});if(!KA){oL(wp);const{wrappedGtag:u,gtagCore:c}=hL(Mo,qA,HA,wp,CL);Uy=u,GA=c,KA=!0}return Mo[r]=wL(e,qA,HA,t,GA,wp,n),new RL(e)}function VL(e=ny()){e=En(e);const t=Ta(e,pf);return t.isInitialized()?t.getImmediate():ML(e)}function ML(e,t={}){const n=Ta(e,pf);if(n.isInitialized()){const o=n.getImmediate();if(_r(t,n.getOptions()))return o;throw Mn.create("already-initialized")}return n.initialize({options:t})}function xL(e,t,n){e=En(e),SL(Uy,Mo[e.app.options.appId],t,n).catch(r=>hn.error(r))}function NL(e,t,n,r){e=En(e),AL(Uy,Mo[e.app.options.appId],t,n,r).catch(o=>hn.error(o))}const YA="@firebase/analytics",QA="0.10.19";function OL(){Yi(new mi(pf,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return DL(r,o,n)},"PUBLIC")),Yi(new mi("analytics-internal",e,"PRIVATE")),Zn(YA,QA),Zn(YA,QA,"esm2020");function e(t){try{const n=t.getProvider(pf).getImmediate();return{logEvent:(r,o,u)=>NL(n,r,o,u),setUserProperties:(r,o)=>xL(n,r,o)}}catch(n){throw Mn.create("interop-component-reg-failed",{reason:n})}}}OL();function rR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PL=rR,aR=new _a("auth","Firebase",rR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new Rf("@firebase/auth");function LL(e,...t){gf.logLevel<=Lt.WARN&&gf.warn(`Auth (${Yo}): ${e}`,...t)}function Hh(e,...t){gf.logLevel<=Lt.ERROR&&gf.error(`Auth (${Yo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(e,...t){throw zy(e,...t)}function Gi(e,...t){return zy(e,...t)}function oR(e,t,n){const r={...PL(),[t]:n};return new _a("auth","Firebase",r).create(t,{appName:e.name})}function gr(e){return oR(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zy(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return aR.create(e,...t)}function Et(e,t,...n){if(!e)throw zy(t,...n)}function ps(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Hh(t),new Error(t)}function bs(e,t){e||ps(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(){return typeof self<"u"&&self.location?.href||""}function kL(){return XA()==="http:"||XA()==="https:"}function XA(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kL()||J1()||"connection"in navigator)?navigator.onLine:!0}function zL(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(t,n){this.shortDelay=t,this.longDelay=n,bs(n>t,"Short delay should be less than long delay!"),this.isMobile=_x()||Ax()}get(){return UL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(e,t){bs(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FL=new Ku(3e4,6e4);function qf(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Wo(e,t,n,r,o={}){return uR(e,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=Bu({key:e.config.apiKey,...c}).slice(1),p=await e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:p,...u};return Ex()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&Ko(e.emulatorConfig.host)&&(g.credentials="include"),lR.fetch()(await hR(e,e.config.apiHost,n,m),g)})}async function uR(e,t,n){e._canInitEmulator=!1;const r={...BL,...t};try{const o=new qL(e),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Nh(e,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(e,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Nh(e,"email-already-in-use",c);if(p==="USER_DISABLED")throw Nh(e,"user-disabled",c);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw oR(e,v,g);Ss(e,v)}}catch(o){if(o instanceof pi)throw o;Ss(e,"network-request-failed",{message:String(o)})}}async function cR(e,t,n,r,o={}){const u=await Wo(e,t,n,r,o);return"mfaPendingCredential"in u&&Ss(e,"multi-factor-auth-required",{_serverResponse:u}),u}async function hR(e,t,n,r){const o=`${t}${n}?${r}`,u=e,c=u.config.emulator?By(e.config,o):`${e.config.apiScheme}://${o}`;return jL.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class qL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gi(this.auth,"network-request-failed")),FL.get())})}}function Nh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Gi(e,t,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(e,t){return Wo(e,"POST","/v1/accounts:delete",t)}async function yf(e,t){return Wo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function GL(e,t=!1){const n=En(e),r=await n.getIdToken(t),o=jy(r);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:Tu(Rp(o.auth_time)),issuedAtTime:Tu(Rp(o.iat)),expirationTime:Tu(Rp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Rp(e){return Number(e)*1e3}function jy(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Y1(n);return o?JSON.parse(o):(Hh("Failed to decode base64 JWT payload"),null)}catch(o){return Hh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function $A(e){const t=jy(e);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof pi&&KL(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function KL({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vf(e){const t=e.auth,n=await e.getIdToken(),r=await Pu(e,yf(t,{idToken:n}));Et(r?.users.length,t,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const u=o.providerUserInfo?.length?fR(o.providerUserInfo):[],c=XL(e.providerData,u),m=e.isAnonymous,p=!(e.email&&o.passwordHash)&&!c?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Tg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(e,v)}async function QL(e){const t=En(e);await vf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function XL(e,t){return[...e.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function fR(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $L(e,t){const n=await uR(e,{},async()=>{const r=Bu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=e.config,c=await hR(e,o,"/v1/token",`key=${u}`),m=await e._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return e.emulatorConfig&&Ko(e.emulatorConfig.host)&&(p.credentials="include"),lR.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZL(e,t){return Wo(e,"POST","/v2/accounts:revokeToken",qf(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$A(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=$A(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await $L(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,c=new xo;return r&&(Et(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(Et(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(e,t){Et(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class di{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new YL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Pu(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return GL(this,t)}reload(){return QL(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new di({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await vf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(gr(this.auth));const t=await this.getIdToken();return await Pu(this,HL(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:x,providerData:j,stsTokenManager:Y}=n;Et(E&&Y,t,"internal-error");const H=xo.fromJSON(this.name,Y);Et(typeof E=="string",t,"internal-error"),sr(r,t.name),sr(o,t.name),Et(typeof S=="boolean",t,"internal-error"),Et(typeof x=="boolean",t,"internal-error"),sr(u,t.name),sr(c,t.name),sr(m,t.name),sr(p,t.name),sr(g,t.name),sr(v,t.name);const $=new di({uid:E,auth:t,email:o,emailVerified:S,displayName:r,isAnonymous:x,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:g,lastLoginAt:v});return j&&Array.isArray(j)&&($.providerData=j.map(it=>({...it}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(t,n,r=!1){const o=new xo;o.updateFromServerResponse(n);const u=new di({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await vf(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?fR(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new xo;m.updateFromIdToken(r);const p=new di({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new Map;function gs(e){bs(e instanceof Function,"Expected a class definition");let t=ZA.get(e);return t?(bs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ZA.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}dR.type="NONE";const WA=dR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(e,t,n){return`firebase:${e}:${t}:${n}`}class No{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Gh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Gh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await yf(this.auth,{idToken:t}).catch(()=>{});return n?di._fromGetAccountInfoResponse(this.auth,n,t):null}return di._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new No(gs(WA),t,r);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||gs(WA);const c=Gh(r,t.config.apiKey,t.name);let m=null;for(const g of n)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const S=await yf(t,{idToken:v}).catch(()=>{});if(!S)break;E=await di._fromGetAccountInfoResponse(t,S,v)}else E=di._fromJSON(t,v);g!==u&&(m=E),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new No(u,t,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new No(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_R(t))return"Blackberry";if(TR(t))return"Webos";if(pR(t))return"Safari";if((t.includes("chrome/")||gR(t))&&!t.includes("edge/"))return"Chrome";if(vR(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function mR(e=an()){return/firefox\//i.test(e)}function pR(e=an()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gR(e=an()){return/crios\//i.test(e)}function yR(e=an()){return/iemobile/i.test(e)}function vR(e=an()){return/android/i.test(e)}function _R(e=an()){return/blackberry/i.test(e)}function TR(e=an()){return/webos/i.test(e)}function Fy(e=an()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function WL(e=an()){return Fy(e)&&!!window.navigator?.standalone}function JL(){return Sx()&&document.documentMode===10}function ER(e=an()){return Fy(e)||vR(e)||TR(e)||_R(e)||/windows phone/i.test(e)||yR(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(e,t=[]){let n;switch(e){case"Browser":n=JA(an());break;case"Worker":n=`${JA(an())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(e,t={}){return Wo(e,"GET","/v2/passwordPolicy",qf(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=6;class i6{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??n6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tS(this),this.idTokenSubscription=new tS(this),this.beforeStateQueue=new t6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=gs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await No.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await yf(this,{idToken:t}),r=await di._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(hi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await vf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=zL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(hi(this.app))return Promise.reject(gr(this));const n=t?En(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return hi(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await e6(this),n=new i6(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new _a("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ZL(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&gs(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[gs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=AR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&LL(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Hf(e){return En(e)}class tS{constructor(t){this.auth=t,this.observer=null,this.addObserver=Vx(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function r6(e){qy=e}function a6(e){return qy.loadJS(e)}function o6(){return qy.gapiScript}function l6(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(e,t){const n=Ta(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(_r(u,t??{}))return o;Ss(o,"already-initialized")}return n.initialize({options:t})}function c6(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(gs);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function h6(e,t,n){const r=Hf(e);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=SR(t),{host:c,port:m}=f6(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(_r(g,r.config.emulator)&&_r(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Ko(c)?(Z1(`${u}//${c}${p}`),W1("Auth",!0)):d6()}function SR(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function f6(e){const t=SR(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:eS(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:eS(c)}}}function eS(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function d6(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ps("not implemented")}_getIdTokenResponse(t){return ps("not implemented")}_linkToIdToken(t,n){return ps("not implemented")}_getReauthenticationResolver(t){return ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(e,t){return cR(e,"POST","/v1/accounts:signInWithIdp",qf(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="http://localhost";class va extends bR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new va(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ss("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const c=new va(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Oo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Oo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Oo(t,n)}buildRequest(){const t={requestUri:m6,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Bu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends wR{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Yu{constructor(){super("facebook.com")}static credential(t){return va._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ar.credential(t.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Yu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return va._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return or.credential(n,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Yu{constructor(){super("github.com")}static credential(t){return va._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return lr.credential(t.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Yu{constructor(){super("twitter.com")}static credential(t,n){return va._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p6(e,t){return cR(e,"POST","/v1/accounts:signUp",qf(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await di._fromIdTokenResponse(t,r,o),c=nS(r);return new Rr({user:u,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=nS(r);return new Rr({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function nS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g6(e){if(hi(e.app))return Promise.reject(gr(e));const t=Hf(e);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Rr({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await p6(t,{returnSecureToken:!0}),r=await Rr._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends pi{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,_f.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new _f(t,n,r,o)}}function RR(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_f._fromErrorAndOperation(e,u,t,r):u})}async function y6(e,t,n=!1){const r=await Pu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Rr._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v6(e,t,n=!1){const{auth:r}=e;if(hi(r.app))return Promise.reject(gr(r));const o="reauthenticate";try{const u=await Pu(e,RR(r,o,t,e),n);Et(u.idToken,r,"internal-error");const c=jy(u.idToken);Et(c,r,"internal-error");const{sub:m}=c;return Et(e.uid===m,r,"user-mismatch"),Rr._forOperation(e,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ss(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(e,t,n=!1){if(hi(e.app))return Promise.reject(gr(e));const r="signIn",o=await RR(e,r,t),u=await Rr._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(u.user),u}function T6(e,t,n,r){return En(e).onIdTokenChanged(t,n,r)}function E6(e,t,n){return En(e).beforeAuthStateChanged(t,n)}const Tf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tf,"1"),this.storage.removeItem(Tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=1e3,S6=10;class IR extends CR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ER(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);JL()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,S6):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},A6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}IR.type="LOCAL";const b6=IR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR extends CR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}DR.type="SESSION";const VR=DR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new Gf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,u)),p=await w6(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Hy("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function C6(e){Ki().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function I6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function D6(){return navigator?.serviceWorker?.controller||null}function V6(){return MR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="firebaseLocalStorageDb",M6=1,Ef="firebaseLocalStorage",NR="fbase_key";class Qu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kf(e,t){return e.transaction([Ef],t?"readwrite":"readonly").objectStore(Ef)}function x6(){const e=indexedDB.deleteDatabase(xR);return new Qu(e).toPromise()}function Eg(){const e=indexedDB.open(xR,M6);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Ef,{keyPath:NR})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Ef)?t(r):(r.close(),await x6(),t(await Eg()))})})}async function iS(e,t,n){const r=Kf(e,!0).put({[NR]:t,value:n});return new Qu(r).toPromise()}async function N6(e,t){const n=Kf(e,!1).get(t),r=await new Qu(n).toPromise();return r===void 0?null:r.value}function sS(e,t){const n=Kf(e,!0).delete(t);return new Qu(n).toPromise()}const O6=800,P6=3;class OR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>P6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gf._getInstance(V6()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await I6(),!this.activeServiceWorker)return;this.sender=new R6(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||D6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Eg();return await iS(t,Tf,"1"),await sS(t,Tf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iS(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>N6(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>sS(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Kf(o,!1).getAll();return new Qu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OR.type="LOCAL";const L6=OR;new Ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(e,t){return t?gs(t):(Et(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy extends bR{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Oo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Oo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function U6(e){return _6(e.auth,new Gy(e),e.bypassAuthState)}function z6(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),v6(n,new Gy(e),e.bypassAuthState)}async function B6(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),y6(n,new Gy(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return U6;case"linkViaPopup":case"linkViaRedirect":return B6;case"reauthViaPopup":case"reauthViaRedirect":return z6;default:Ss(this.auth,"internal-error")}}resolve(t){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=new Ku(2e3,1e4);class Ro extends PR{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Ro.currentPopupAction&&Ro.currentPopupAction.cancel(),Ro.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const t=Hy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ro.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,j6.get())};t()}}Ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6="pendingRedirect",Kh=new Map;class q6 extends PR{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Kh.get(this.auth._key());if(!t){try{const r=await H6(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Kh.set(this.auth._key(),t)}return this.bypassAuthState||Kh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H6(e,t){const n=Y6(t),r=K6(e);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function G6(e,t){Kh.set(e._key(),t)}function K6(e){return gs(e._redirectPersistence)}function Y6(e){return Gh(F6,e.config.apiKey,e.name)}async function Q6(e,t,n=!1){if(hi(e.app))return Promise.reject(gr(e));const r=Hf(e),o=k6(r,t),c=await new q6(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=600*1e3;class $6{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Z6(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!LR(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Gi(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=X6&&this.cachedEventUids.clear(),this.cachedEventUids.has(rS(t))}saveEventToCache(t){this.cachedEventUids.add(rS(t)),this.lastProcessedEventTime=Date.now()}}function rS(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function LR({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function Z6(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LR(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W6(e,t={}){return Wo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tk=/^https?/;async function ek(e){if(e.config.emulator)return;const{authorizedDomains:t}=await W6(e);for(const n of t)try{if(nk(n))return}catch{}Ss(e,"unauthorized-domain")}function nk(e){const t=_g(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!tk.test(n))return!1;if(J6.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=new Ku(3e4,6e4);function aS(){const e=Ki().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function sk(e){return new Promise((t,n)=>{function r(){aS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{aS(),n(Gi(e,"network-request-failed"))},timeout:ik.get()})}if(Ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ki().gapi?.load)r();else{const o=l6("iframefcb");return Ki()[o]=()=>{gapi.load?r():n(Gi(e,"network-request-failed"))},a6(`${o6()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Yh=null,t})}let Yh=null;function rk(e){return Yh=Yh||sk(e),Yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=new Ku(5e3,15e3),ok="__/auth/iframe",lk="emulator/auth/iframe",uk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ck=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hk(e){const t=e.config;Et(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?By(t,lk):`https://${e.config.authDomain}/${ok}`,r={apiKey:t.apiKey,appName:e.name,v:Yo},o=ck.get(e.config.apiHost);o&&(r.eid=o);const u=e._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Bu(r).slice(1)}`}async function fk(e){const t=await rk(e),n=Ki().gapi;return Et(n,e,"internal-error"),t.open({where:document.body,url:hk(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uk,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Gi(e,"network-request-failed"),m=Ki().setTimeout(()=>{u(c)},ak.get());function p(){Ki().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mk=500,pk=600,gk="_blank",yk="http://localhost";class oS{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vk(e,t,n,r=mk,o=pk){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...dk,width:r.toString(),height:o.toString(),top:u,left:c},g=an().toLowerCase();n&&(m=gR(g)?gk:n),mR(g)&&(t=t||yk,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[x,j])=>`${S}${x}=${j},`,"");if(WL(g)&&m!=="_self")return _k(t||"",m),new oS(null);const E=window.open(t||"",m,v);Et(E,e,"popup-blocked");try{E.focus()}catch{}return new oS(E)}function _k(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="__/auth/handler",Ek="emulator/auth/handler",Ak=encodeURIComponent("fac");async function lS(e,t,n,r,o,u){Et(e.config.authDomain,e,"auth-domain-config-required"),Et(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Yo,eventId:o};if(t instanceof wR){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",Dx(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(t instanceof Yu){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}e.tenantId&&(c.tid=e.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await e._getAppCheckToken(),g=p?`#${Ak}=${encodeURIComponent(p)}`:"";return`${Sk(e)}?${Bu(m).slice(1)}${g}`}function Sk({config:e}){return e.emulator?By(e,Ek):`https://${e.authDomain}/${Tk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="webStorageSupport";class bk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VR,this._completeRedirectFn=Q6,this._overrideRedirectResult=G6}async _openPopup(t,n,r,o){bs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await lS(t,n,r,_g(),o);return vk(t,u,Hy())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await lS(t,n,r,_g(),o);return C6(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(bs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await fk(t),r=new $6(t);return n.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Cp,{type:Cp},o=>{const u=o?.[0]?.[Cp];u!==void 0&&n(!!u),Ss(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ek(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return ER()||pR()||Fy()}}const wk=bk;var uS="@firebase/auth",cS="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ik(e){Yi(new mi("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AR(e)},g=new s6(r,o,u,p);return c6(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Yi(new mi("auth-internal",t=>{const n=Hf(t.getProvider("auth").getImmediate());return(r=>new Rk(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(uS,cS,Ck(e)),Zn(uS,cS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=300,Vk=$1("authIdTokenMaxAge")||Dk;let hS=null;const Mk=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Vk)return;const o=n?.token;hS!==o&&(hS=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xk(e=ny()){const t=Ta(e,"auth");if(t.isInitialized())return t.getImmediate();const n=u6(e,{popupRedirectResolver:wk,persistence:[L6,b6,VR]}),r=$1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=Mk(u.toString());E6(n,c,()=>c(n.currentUser)),T6(n,m=>c(m))}}const o=Q1("auth");return o&&h6(n,`http://${o}`),n}function Nk(){return document.getElementsByTagName("head")?.[0]??document}r6({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=o=>{const u=Gi("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",Nk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ik("Browser");const Ok={apiKey:"AIzaSyDDn0scNPa0ShKCzal-LA__jnJvJXu2Hhc",authDomain:"la-reserva-ad06d.firebaseapp.com",projectId:"la-reserva-ad06d",storageBucket:"la-reserva-ad06d.firebasestorage.app",messagingSenderId:"442213613501",appId:"1:442213613501:web:b4276ad3174f11513e5cd4",measurementId:"G-D4GYRPK8PQ"},Yf=rb(Ok);let Pk;try{Pk=VL(Yf)}catch{}const Lk=xk(Yf),kk=Iw(Yf);g6(Lk).catch(e=>console.error("Auth anónima falló:",e));const Uk=Iw(Yf);async function zk(){try{console.log("🟢 Conectando a Firebase...");const e=await l3(Cw(Uk,"test"));console.log("✅ Conexión exitosa a Firestore"),e.forEach(t=>{console.log(`${t.id} =>`,t.data())})}catch(e){console.error("❌ Error al conectar con Firebase:",e)}}async function Bk(e){const t={alias:e.alias?.trim()||null,direccion:e.direccion?.trim()||null,notas:e.notas?.trim()||null,observaciones:e.observaciones?.trim()||null,vecino:e.alias?.trim()||"(anónimo)",items:(e.items||[]).filter(r=>(r?.cantidad??0)>0).map(r=>({materialId:r.materialId,cantidad:Number(r.cantidad||0),unidad:r.unidad||"kg/unidad",limpio:!!r.limpio,humedo:r.humedo??null,roto:r.roto??null})),createdAt:h3()};return(await u3(Cw(kk,"aportes"),t)).id}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fk=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),fS=e=>{const t=Fk(e);return t.charAt(0).toUpperCase()+t.slice(1)},kR=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),qk=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=yt.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...m},p)=>yt.createElement("svg",{ref:p,...Hk,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:kR("lucide",o),...!u&&!qk(m)&&{"aria-hidden":"true"},...m},[...c.map(([g,v])=>yt.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=(e,t)=>{const n=yt.forwardRef(({className:r,...o},u)=>yt.createElement(Gk,{ref:u,iconNode:t,className:kR(`lucide-${jk(fS(e))}`,`lucide-${e}`,r),...o}));return n.displayName=fS(e),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Yk=wa("bell",Kk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],UR=wa("book-open",Qk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],zR=wa("chart-bar",Xk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M7 11h10",key:"1twpyw"}],["path",{d:"M7 15h6",key:"d9of3u"}],["path",{d:"M7 7h8",key:"af5zfr"}]],BR=wa("message-square-text",$k);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]],dS=wa("recycle",Zk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jk=wa("settings",Wk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],eU=wa("users",tU),Ip=[{id:"aluminio",nombre:"Aluminio",tipo:"metal"},{id:"carton",nombre:"Cartón",tipo:"papel"},{id:"papel",nombre:"Papel",tipo:"papel"},{id:"chatarra",nombre:"Chatarra / Hojalata",tipo:"metal"},{id:"nylon",nombre:"Nylon",tipo:"plastico"},{id:"plasticos",nombre:"Plásticos",tipo:"plastico"},{id:"telgopor",nombre:"Telgopor",tipo:"plastico"},{id:"tetra",nombre:"Tetra",tipo:"compuesto"},{id:"vidrio",nombre:"Vidrio",tipo:"vidrio"}],nU={aportes:"lareserva_aportes"};function iU(e,t){try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch{return t}}function sU(e){const t=[];for(const n of e.items)["plasticos","nylon","tetra"].includes(n.materialId)&&!n.limpio&&t.push("Recordá enjuagar plásticos/nylon/tetra para mejorar la calidad."),n.materialId==="carton"&&n.humedo&&t.push("El cartón húmedo no se recupera: mantenelo seco."),n.materialId==="vidrio"&&n.roto&&t.push("Si el vidrio está roto, envolvelo para evitar riesgos.");return Array.from(new Set(t))}function rU(){const e=Ip.map(g=>({materialId:g.id,cantidad:0,unidad:"kg/unidad",limpio:!0,humedo:!1,roto:!1})),[t,n]=yt.useState({alias:"",direccion:"",notas:"",observaciones:"",items:e}),[r,o]=yt.useState([]);iU(nU.aportes,[]);const u=g=>n(v=>({...v,...g})),c=(g,v)=>n(E=>({...E,items:E.items.map(S=>S.materialId===g?{...S,...v}:S)}));function m(){const g={...t,id:crypto.randomUUID(),fecha:new Date().toISOString(),items:t.items.filter(v=>v.cantidad>0)};o(sU(g))}async function p(){const g={...t};try{const v=await Bk(g);n({alias:"",direccion:"",notas:"",observaciones:"",items:Ip.map(E=>({materialId:E.id,cantidad:0,unidad:"kg/unidad",limpio:!0,humedo:!1,roto:!1}))}),o([]),alert(`¡Gracias! Aporte guardado en Firebase. ID: ${v}`)}catch(v){console.error(v),alert("❌ No se pudo guardar en Firebase. Revisá consola y reglas.")}}return et.jsxs("section",{className:"py-10",children:[et.jsx("h2",{className:"text-xl font-bold mb-2",children:"Cargar aporte vecinal"}),et.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Indicá cantidades aproximadas (kg o unidades). Los datos serán usados para estadísticas comunitarias."}),et.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:Ip.map(g=>{const v=t.items.find(E=>E.materialId===g.id)||{materialId:g.id,cantidad:0,limpio:!0,humedo:!1,roto:!1};return et.jsxs("div",{className:"rounded-2xl border bg-white p-4 space-y-3",children:[et.jsx("div",{className:"font-medium",children:g.nombre}),et.jsxs("div",{className:"flex items-center gap-2",children:[et.jsx("input",{type:"number",min:0,value:v.cantidad,onChange:E=>c(g.id,{cantidad:Number(E.target.value||0)}),className:"w-24 rounded-lg border px-2 py-1"}),et.jsx("span",{className:"text-sm text-slate-500",children:"kg/unid"})]}),et.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[et.jsx("input",{type:"checkbox",checked:v.limpio,onChange:E=>c(g.id,{limpio:E.target.checked})}),"Limpio"]}),g.id==="carton"&&et.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[et.jsx("input",{type:"checkbox",checked:v.humedo,onChange:E=>c(g.id,{humedo:E.target.checked})}),"¿Húmedo?"]}),g.id==="vidrio"&&et.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[et.jsx("input",{type:"checkbox",checked:v.roto,onChange:E=>c(g.id,{roto:E.target.checked})}),"¿Roto?"]})]},g.id)})}),et.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-4",children:[et.jsxs("div",{className:"rounded-2xl border bg-white p-4",children:[et.jsx("label",{className:"text-sm font-medium",children:"Alias (opcional)"}),et.jsx("input",{value:t.alias,onChange:g=>u({alias:g.target.value}),className:"mt-1 w-full rounded-lg border px-3 py-2",placeholder:"Calle / Manzana / Alias"})]}),et.jsxs("div",{className:"rounded-2xl border bg-white p-4",children:[et.jsx("label",{className:"text-sm font-medium",children:"Notas"}),et.jsx("textarea",{value:t.notas,onChange:g=>u({notas:g.target.value}),className:"mt-1 w-full rounded-lg border px-3 py-2",rows:3,placeholder:"Observaciones breves"})]})]}),et.jsxs("div",{className:"flex flex-wrap gap-3 mt-5",children:[et.jsx("button",{onClick:m,className:"px-4 py-2 rounded-xl bg-emerald-50 border border-emerald-200",children:"Previsualizar sugerencias"}),et.jsx("button",{onClick:p,className:"px-4 py-2 rounded-xl bg-emerald-600 text-white",children:"Guardar aporte"})]}),r.length>0&&et.jsxs("div",{className:"mt-6 rounded-2xl border bg-white p-4",children:[et.jsx("div",{className:"font-medium mb-2",children:"Sugerencias educativas"}),et.jsx("ul",{className:"list-disc list-inside text-sm text-slate-700 space-y-1",children:r.map((g,v)=>et.jsx("li",{children:g},v))})]})]})}function aU(){const e=load(LS_KEYS.aportes,[]),t=load(LS_KEYS.reportes,[]),[n,r]=useState("");function o(){if(n!=="TallerUNO"){alert("Acceso restringido: clave incorrecta");return}exportCSV(`aportes_${new Date().toISOString().slice(0,10)}`,e.flatMap(u=>u.items.map(c=>({aporte_id:u.id,fecha:u.fecha,vecino:u.vecino,material:c.materialId,cantidad:c.cantidad,limpio:c.limpio,humedo:!!c.humedo,roto:!!c.roto,notas:u.notas||""})))),exportCSV(`reportes_${new Date().toISOString().slice(0,10)}`,t.map(u=>({id:u.id,fecha:u.fecha,porcentajeNoReciclable:u.porcentajeNoReciclable,observaciones:u.observaciones||""})))}return et.jsxs("section",{className:"py-10",children:[et.jsx("h2",{className:"text-xl font-bold mb-2",children:"Administración (Taller UNO)"}),et.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Descargá plantillas CSV con los datos comunitarios para análisis en Excel."}),et.jsxs("div",{className:"grid md:grid-cols-3 gap-4 items-end",children:[et.jsxs("div",{className:"md:col-span-2 rounded-2xl border bg-white p-4",children:[et.jsx("label",{className:"text-sm font-medium",children:"Clave de acceso"}),et.jsx("input",{value:n,onChange:u=>r(u.target.value),className:"mt-1 w-full rounded-lg border px-3 py-2",placeholder:"Ingresá la clave"})]}),et.jsxs("button",{onClick:o,className:"px-4 py-2 rounded-xl bg-emerald-600 text-white flex items-center gap-2",children:[et.jsx(FolderDown,{className:"w-4 h-4"})," Exportar CSV"]})]}),et.jsx("div",{className:"mt-6 rounded-2xl border bg-white p-4 text-sm text-slate-600",children:et.jsx("p",{children:"Nota: la app guarda datos localmente (localStorage) solo con fines demostrativos. En una versión productiva, los aportes se registrarían en una base de datos y los recordatorios se enviarían por un servicio de mensajería (p. ej., WhatsApp/Facebook/Email)."})})]})}const oU=[{id:"aluminio",nombre:"Aluminio",tipo:"metal"},{id:"carton",nombre:"Cartón",tipo:"papel"},{id:"papel",nombre:"Papel",tipo:"papel"},{id:"chatarra",nombre:"Chatarra / Hojalata",tipo:"metal"},{id:"nylon",nombre:"Nylon",tipo:"plastico"},{id:"plasticos",nombre:"Plásticos",tipo:"plastico"},{id:"telgopor",nombre:"Telgopor",tipo:"plastico"},{id:"tetra",nombre:"Tetra",tipo:"compuesto"},{id:"vidrio",nombre:"Vidrio",tipo:"vidrio"}],lU={aluminio:["Enjuagar latas para remover restos.","Aplastar para reducir volumen."],carton:["Evitar que esté húmedo o con grasa.","Doblar/compactar cajas."],papel:["No incluir papel sanitario ni servilletas sucias.","Quitar clips/espirales si es posible."],chatarra:["Elementos pequeños y limpios.","Evitar puntas cortantes sueltas: proteger en bolsa."],nylon:["Lavar y secar.","Evitar mezclar con films muy sucios."],plasticos:["Enjuagar envases.","Tapas y etiquetas pueden ir (si están limpias)."],telgopor:["Limpio y seco.","No romper en migas: embolsar."],tetra:["Enjuagar, escurrir, aplastar.","Dejar la tapa colocada."],vidrio:["Enjuagar frascos y botellas.","No incluir vidrios rotos sueltos (proteger)."]};function uU(...e){return e.filter(Boolean).join(" ")}function cU(){yt.useEffect(()=>{zk()},[]);const[e,t]=yt.useState("inicio");return et.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-emerald-50 to-white text-slate-800",children:[et.jsx(hU,{onChangeTab:t,tab:e}),et.jsxs("main",{className:"mx-auto max-w-6xl px-4 pb-24",children:[e==="inicio"&&et.jsx(dU,{}),e==="guia"&&et.jsx(mU,{}),e==="aportes"&&et.jsx(rU,{}),e==="recordatorios"&&et.jsx(Recordatorios,{}),e==="comunidad"&&et.jsx(ComunidadDashboard,{}),e==="reportes"&&et.jsx(ReportesSemanales,{}),e==="admin"&&et.jsx(aU,{})]}),et.jsx(fU,{})]})}function hU({tab:e,onChangeTab:t}){const n=[{key:"inicio",label:"Inicio",icon:et.jsx(dS,{className:"w-4 h-4"})},{key:"guia",label:"Guía",icon:et.jsx(UR,{className:"w-4 h-4"})},{key:"aportes",label:"Aportes",icon:et.jsx(BR,{className:"w-4 h-4"})},{key:"recordatorios",label:"Recordatorios",icon:et.jsx(Yk,{className:"w-4 h-4"})},{key:"comunidad",label:"Comunidad",icon:et.jsx(eU,{className:"w-4 h-4"})},{key:"reportes",label:"Reportes",icon:et.jsx(zR,{className:"w-4 h-4"})},{key:"admin",label:"Admin",icon:et.jsx(Jk,{className:"w-4 h-4"})}];return et.jsx("div",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur border-b",children:et.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-3 flex items-center gap-3 justify-between",children:[et.jsxs("div",{className:"flex items-center gap-3",children:[et.jsx(dS,{className:"w-6 h-6 text-emerald-600"}),et.jsx("span",{className:"font-semibold",children:"Proyecto “La Reserva”"})]}),et.jsx("nav",{className:"flex flex-wrap items-center gap-2",children:n.map(({key:r,label:o,icon:u})=>et.jsx("button",{onClick:()=>t(r),className:uU("px-3 py-1.5 rounded-full text-sm border transition",e===r?"bg-emerald-600 text-white border-emerald-600 shadow":"bg-white hover:bg-emerald-50 border-slate-200"),children:et.jsxs("span",{className:"inline-flex items-center gap-2",children:[u,o]})},r))})]})})}function fU(){return et.jsx("div",{className:"border-t py-6 text-center text-xs text-slate-500",children:"Taller UNO · Educación ambiental y economía circular — App demo comunitaria"})}function dU(){return et.jsxs("section",{className:"py-10",children:[et.jsxs(rx.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[et.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Bienvenidos/as"}),et.jsx("p",{className:"text-slate-600 max-w-2xl",children:"Esta app comunitaria acompaña la separación en origen, envía recordatorios de recolección, brinda recomendaciones educativas y genera reportes semanales agregados a nivel barrio. Los datos son comunitarios, no individuales."})]}),et.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mt-8",children:[et.jsx(Dp,{title:"Guía de separación",desc:"Consejos por material",icon:et.jsx(UR,{className:"w-5 h-5"})}),et.jsx(Dp,{title:"Cargar aporte",desc:"Indicá qué residuos generaste",icon:et.jsx(BR,{className:"w-5 h-5"})}),et.jsx(Dp,{title:"Ver evolución",desc:"Dashboard comunitario",icon:et.jsx(zR,{className:"w-5 h-5"})})]})]})}function Dp({title:e,desc:t,icon:n}){return et.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[et.jsxs("div",{className:"flex items-center gap-3 mb-2 text-emerald-700",children:[n,et.jsx("h3",{className:"font-semibold",children:e})]}),et.jsx("p",{className:"text-sm text-slate-600",children:t})]})}function mU(){const e=yt.useMemo(()=>{const t={};for(const n of oU)t[n.tipo]=t[n.tipo]||[],t[n.tipo].push(n);return t},[]);return et.jsxs("section",{className:"py-10",children:[et.jsx("h2",{className:"text-xl font-bold mb-4",children:"Guía por material"}),et.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries(e).map(([t,n])=>et.jsxs("div",{className:"rounded-2xl border bg-white p-4",children:[et.jsx("h3",{className:"font-semibold capitalize mb-3",children:t}),et.jsx("ul",{className:"space-y-3",children:n.map(r=>et.jsxs("li",{className:"border rounded-xl p-3",children:[et.jsx("div",{className:"font-medium",children:r.nombre}),et.jsx("ul",{className:"list-disc list-inside text-sm text-slate-600",children:lU[r.id].map((o,u)=>et.jsx("li",{children:o},u))})]},r.id))})]},t))})]})}RI.createRoot(document.getElementById("root")).render(et.jsx(yt.StrictMode,{children:et.jsx(cU,{})}));
